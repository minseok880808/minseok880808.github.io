{"title":"Studio 3T Guide","slug":"Studio-3T-Guide","date":"2021-01-12T03:45:15.000Z","updated":"2021-02-09T05:52:37.650Z","comments":true,"path":"api/articles/Studio-3T-Guide.json","photos":[],"link":"","excerpt":"","covers":["https://user-images.githubusercontent.com/56995911/107318394-09871b80-6ae0-11eb-854a-cad27c7a6b0e.png","https://user-images.githubusercontent.com/56995911/107318424-173ca100-6ae0-11eb-8645-27c3613ba3c7.png","https://user-images.githubusercontent.com/56995911/107318654-97fb9d00-6ae0-11eb-8a56-6f2921e6a40d.png","https://user-images.githubusercontent.com/56995911/107318707-b2ce1180-6ae0-11eb-8ff8-d01453b8f7cb.png","https://user-images.githubusercontent.com/56995911/107318761-d5f8c100-6ae0-11eb-9527-a57f7fd7b190.png"],"content":"<h2 id=\"서문\"><a href=\"#서문\" class=\"headerlink\" title=\"서문\"></a>서문</h2><ul>\n<li>Document DB 사용을 원활하게 하기 위하여 Studio 3T를 활용해보기로 한다.</li>\n<li>우선, 해당 툴은 유료툴인데 돈이 아깝지 않은 성능을 보여준다.</li>\n<li>Collection을 생성하고 index 작업 및 CRUD 작업에 대하여 툴에서 사용하는 방법과 Back-End에서 사용하는 법을 정의한다.</li>\n</ul>\n<h2 id=\"본문\"><a href=\"#본문\" class=\"headerlink\" title=\"본문\"></a>본문</h2><h3 id=\"1-시작\"><a href=\"#1-시작\" class=\"headerlink\" title=\"1. 시작\"></a>1. 시작</h3><p><a href=\"https://user-images.githubusercontent.com/56995911/107318394-09871b80-6ae0-11eb-854a-cad27c7a6b0e.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/56995911/107318394-09871b80-6ae0-11eb-854a-cad27c7a6b0e.png\" alt=\"image\"></a></p>\n<p><a href=\"https://user-images.githubusercontent.com/56995911/107318424-173ca100-6ae0-11eb-8645-27c3613ba3c7.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/56995911/107318424-173ca100-6ae0-11eb-8645-27c3613ba3c7.png\" alt=\"image\"></a></p>\n<ul>\n<li>Connect 로 해당 DB접속</li>\n</ul>\n<h3 id=\"2-Database-생성\"><a href=\"#2-Database-생성\" class=\"headerlink\" title=\"2. Database 생성\"></a>2. Database 생성</h3><h4 id=\"1-UI로-생성하는-방법\"><a href=\"#1-UI로-생성하는-방법\" class=\"headerlink\" title=\"1) UI로 생성하는 방법\"></a>1) UI로 생성하는 방법</h4><ul>\n<li>i) replica set으로 보이는 전체 데이터베이스 (마우스우클릭)→ (Add Database)</li>\n</ul>\n<h4 id=\"2-Linux에서-Cmd로-생성하는-방법\"><a href=\"#2-Linux에서-Cmd로-생성하는-방법\" class=\"headerlink\" title=\"2) Linux에서 Cmd로 생성하는 방법\"></a>2) Linux에서 Cmd로 생성하는 방법</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rs0:PRIMARY&gt;    </span><br><span class=\"line\"> </span><br><span class=\"line\">show dbs                            //Database 목록 확인용</span><br><span class=\"line\">use [DATABASE_NAME]                 //데이터베이스 사용or생성</span><br><span class=\"line\">switched to db [DATABASE_NAME]      //데이터베이스를 상대로 변경</span><br><span class=\"line\">db.runCommand( &#123; serverStatus: 1 &#125;) //데이터베이스 상태확인</span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"3-프로그램으로-생성\"><a href=\"#3-프로그램으로-생성\" class=\"headerlink\" title=\"3) 프로그램으로 생성\"></a>3) 프로그램으로 생성</h4><ul>\n<li>i) <a href=\"https://docs.aws.amazon.com/ko_kr/documentdb/latest/developerguide/connect_programmatically.html\" target=\"_blank\" rel=\"noopener\">https://docs.aws.amazon.com/ko_kr/documentdb/latest/developerguide/connect_programmatically.html</a></li>\n</ul>\n<h3 id=\"3-Collection-생성\"><a href=\"#3-Collection-생성\" class=\"headerlink\" title=\"3. Collection 생성\"></a>3. Collection 생성</h3><h4 id=\"1-UI로-생성하는-방법-1\"><a href=\"#1-UI로-생성하는-방법-1\" class=\"headerlink\" title=\"1) UI로 생성하는 방법\"></a>1) UI로 생성하는 방법</h4><ul>\n<li>i) 폴더모양의 Collections를 (마우스우클릭)→ (Add Collection)</li>\n</ul>\n<h4 id=\"2-Linux에서-Cmd로-생성하는-방법-1\"><a href=\"#2-Linux에서-Cmd로-생성하는-방법-1\" class=\"headerlink\" title=\"2) Linux에서 Cmd로 생성하는 방법\"></a>2) Linux에서 Cmd로 생성하는 방법</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rs0:PRIMARY&gt;    </span><br><span class=\"line\"> </span><br><span class=\"line\">db.[COLLECTION_NAME]</span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"3-프로그램으로-생성-1\"><a href=\"#3-프로그램으로-생성-1\" class=\"headerlink\" title=\"3) 프로그램으로 생성\"></a>3) 프로그램으로 생성</h4><ul>\n<li>i) <a href=\"https://docs.aws.amazon.com/ko_kr/documentdb/latest/developerguide/connect_programmatically.html\" target=\"_blank\" rel=\"noopener\">https://docs.aws.amazon.com/ko_kr/documentdb/latest/developerguide/connect_programmatically.html</a></li>\n</ul>\n<h3 id=\"4-Indexing-생성\"><a href=\"#4-Indexing-생성\" class=\"headerlink\" title=\"4. Indexing 생성\"></a>4. Indexing 생성</h3><ul>\n<li>우선, Collection을 생성하면 기본으로 _id 라는 키값이 자동으로 잡힌다. </li>\n<li>아마도 DocumentDB내에서 자체 인덱싱을 위해 쓰는 것으로 보여지며, 이걸 생성안한다고 하면 Collection이 아예 생성되지 않는다.</li>\n</ul>\n<h4 id=\"1-UI로-생성하는-방법-2\"><a href=\"#1-UI로-생성하는-방법-2\" class=\"headerlink\" title=\"1) UI로 생성하는 방법\"></a>1) UI로 생성하는 방법</h4><ul>\n<li>i) 생성하고자 하는 Collection (마우스우클릭)→ (Add Index..)  [Drop Index 는 삭제]</li>\n</ul>\n<h4 id=\"2-Linux에서-Cmd로-생성하는-방법-2\"><a href=\"#2-Linux에서-Cmd로-생성하는-방법-2\" class=\"headerlink\" title=\"2) Linux에서 Cmd로 생성하는 방법\"></a>2) Linux에서 Cmd로 생성하는 방법</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rs0:PRIMARY&gt;    </span><br><span class=\"line\"> </span><br><span class=\"line\">db.[COLLECTION_NAME].createIndex(&#123;[KEY]:-1&#125;, &#123;background: <span class=\"literal\">true</span>&#125;); //1은 ascending, -1은 descending / background는 아래 설명</span><br></pre></td></tr></table></figure></div>\n\n<p><a href=\"(https://user-images.githubusercontent.com/56995911/107318654-97fb9d00-6ae0-11eb-8a56-6f2921e6a40d.png)\"><img src=\"https://user-images.githubusercontent.com/56995911/107318654-97fb9d00-6ae0-11eb-8a56-6f2921e6a40d.png\" alt=\"image\"></a></p>\n<h3 id=\"5-CRUD\"><a href=\"#5-CRUD\" class=\"headerlink\" title=\"5. CRUD\"></a>5. CRUD</h3><h4 id=\"1-SELECT\"><a href=\"#1-SELECT\" class=\"headerlink\" title=\"1) SELECT\"></a>1) SELECT</h4><h5 id=\"i-UI를-통한-Select\"><a href=\"#i-UI를-통한-Select\" class=\"headerlink\" title=\"i) UI를 통한 Select\"></a>i) UI를 통한 Select</h5><p><a href=\"https://user-images.githubusercontent.com/56995911/107318707-b2ce1180-6ae0-11eb-8ff8-d01453b8f7cb.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/56995911/107318707-b2ce1180-6ae0-11eb-8ff8-d01453b8f7cb.png\" alt=\"image\"></a><br><a href=\"https://user-images.githubusercontent.com/56995911/107318732-c6797800-6ae0-11eb-88df-97fc6d6fe3dc.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/56995911/107318732-c6797800-6ae0-11eb-88df-97fc6d6fe3dc.png\" alt=\"image\"></a></p>\n<ul>\n<li>MongoDB와 같은 Docuent성 NoSQL을 처음 쓴다면, UI로 자동완성 시켜주는 쿼리메이커가 유용히 쓰일 수 있다.</li>\n<li>또한, Query Code탭을 통해 각종언어에 따른 예제를 만들어낼 수 있다.(실제 구동이 된다)</li>\n<li>Function 기반 Call에 익숙치 않다면, SQL 탭에서 기존에 쓰던 Select 문을 통해 자동완성 된 코드를 받아볼 수 있다.</li>\n</ul>\n<p><a href=\"https://user-images.githubusercontent.com/56995911/107318761-d5f8c100-6ae0-11eb-9527-a57f7fd7b190.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/56995911/107318761-d5f8c100-6ae0-11eb-9527-a57f7fd7b190.png\" alt=\"image\"></a></p>\n<h5 id=\"ii-쿼리Function을-통한-Select\"><a href=\"#ii-쿼리Function을-통한-Select\" class=\"headerlink\" title=\"ii) 쿼리Function을 통한 Select\"></a>ii) 쿼리Function을 통한 Select</h5><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rs0:PRIMARY&gt;    </span><br><span class=\"line\">// 전체 Select</span><br><span class=\"line\">db.[COLLECTION_NAME].find();</span><br><span class=\"line\"> </span><br><span class=\"line\">// 조건 Select</span><br><span class=\"line\">db.[COLLECTION_NAME].find(&#123;<span class=\"string\">'name'</span>:<span class=\"string\">'Frank'</span>&#125;);</span><br><span class=\"line\">db.[COLLECTION_NAME].find(&#123;<span class=\"string\">'status'</span>:&#123;<span class=\"variable\">$in</span>:[<span class=\"string\">'active'</span>]&#125;&#125;);</span><br><span class=\"line\"> </span><br><span class=\"line\">// 조건+옵션</span><br><span class=\"line\">// https://docs.mongodb.com/manual/reference/method/</span><br><span class=\"line\">db.getCollection(<span class=\"string\">\"profiles\"</span>).find(&#123;<span class=\"string\">\"status\"</span> : <span class=\"string\">\"active\"</span>&#125;).skip(1).<span class=\"built_in\">limit</span>(1).pretty();</span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"2-UPDATE\"><a href=\"#2-UPDATE\" class=\"headerlink\" title=\"2) UPDATE\"></a>2) UPDATE</h4><h5 id=\"i-다수-Update\"><a href=\"#i-다수-Update\" class=\"headerlink\" title=\"i) 다수 Update\"></a>i) 다수 Update</h5><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rs0:PRIMARY&gt;    </span><br><span class=\"line\">// nice컬럼과 meet 컬럼에 to,you 인 값을 포함하고 있는 document는 전부 meet컬럼을 me로 수정.</span><br><span class=\"line\">db.[COLLECTION_NAME].findAndModify(&#123;query:&#123;nice:<span class=\"string\">\"to\"</span>,meet:<span class=\"string\">\"you\"</span>&#125;,update:&#123;<span class=\"variable\">$set</span>:&#123;meet:<span class=\"string\">\"me\"</span>&#125;&#125;, upsert:<span class=\"literal\">true</span>);</span><br><span class=\"line\"> </span><br><span class=\"line\">// 어떤컬럼이건 상관없이 meet컬럼을 모두 me로 업데이트</span><br><span class=\"line\">db.[COLLECTION_NAME].findAndModify(&#123;query:&#123;&#125;,update:&#123;<span class=\"variable\">$set</span>:&#123;meet:<span class=\"string\">\"me\"</span>&#125;&#125;, upsert:<span class=\"literal\">true</span>);</span><br></pre></td></tr></table></figure></div>\n\n<h5 id=\"ii-일부-Update\"><a href=\"#ii-일부-Update\" class=\"headerlink\" title=\"ii) 일부 Update\"></a>ii) 일부 Update</h5><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rs0:PRIMARY&gt;    </span><br><span class=\"line\">// nice컬럼과 meet 컬럼에 to,you 인 값을 포함하고 있는 document는 전부 meet컬럼을 me로 수정.</span><br><span class=\"line\">db.[COLLECTION_NAME].findAndModify(&#123;query:&#123;nice:<span class=\"string\">\"to\"</span>,meet:<span class=\"string\">\"you\"</span>&#125;,update:&#123;<span class=\"variable\">$set</span>:&#123;meet:<span class=\"string\">\"me\"</span>&#125;&#125;, upsert:<span class=\"literal\">true</span>);</span><br><span class=\"line\"> </span><br><span class=\"line\">// status 가 active이면서 name이 Karen일 경우 status를 inactive로 변경</span><br><span class=\"line\">db.[COLLECTION_NAME].findOneAndUpdate(&#123;status : <span class=\"string\">'active'</span>, name:<span class=\"string\">'Karen'</span>&#125;, &#123;<span class=\"variable\">$set</span>:&#123;status:<span class=\"string\">'inactive'</span>&#125;&#125;);</span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"3-INSERT\"><a href=\"#3-INSERT\" class=\"headerlink\" title=\"3) INSERT\"></a>3) INSERT</h4><h5 id=\"i-단일-Insert\"><a href=\"#i-단일-Insert\" class=\"headerlink\" title=\"i) 단일 Insert\"></a>i) 단일 Insert</h5><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rs0:PRIMARY&gt;    </span><br><span class=\"line\"> </span><br><span class=\"line\">db.[COLLECTION_NAME].insert(&#123;<span class=\"string\">\"nice\"</span>:<span class=\"string\">\"to\"</span>,<span class=\"string\">\"meet\"</span>:<span class=\"string\">\"you\"</span>&#125;);</span><br></pre></td></tr></table></figure></div>\n\n<h5 id=\"ii-다수-Insert\"><a href=\"#ii-다수-Insert\" class=\"headerlink\" title=\"ii) 다수 Insert\"></a>ii) 다수 Insert</h5><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rs0:PRIMARY&gt;    </span><br><span class=\"line\"> </span><br><span class=\"line\">db.[COLLECTION_NAME].insert([&#123;<span class=\"string\">\"nice\"</span>:<span class=\"string\">\"to\"</span>,<span class=\"string\">\"meet\"</span>:<span class=\"string\">\"you\"</span>&#125;, &#123;..........&#125;]);</span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"4-DELETE\"><a href=\"#4-DELETE\" class=\"headerlink\" title=\"4) DELETE\"></a>4) DELETE</h4><h5 id=\"i-전체-Delete\"><a href=\"#i-전체-Delete\" class=\"headerlink\" title=\"i) 전체 Delete\"></a>i) 전체 Delete</h5><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rs0:PRIMARY&gt;    </span><br><span class=\"line\"> </span><br><span class=\"line\">db.[COLLECTION_NAME].remove( &#123; &#125; )</span><br></pre></td></tr></table></figure></div>\n\n<h5 id=\"ii-조건-Delete\"><a href=\"#ii-조건-Delete\" class=\"headerlink\" title=\"ii) 조건 Delete\"></a>ii) 조건 Delete</h5><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rs0:PRIMARY&gt;    </span><br><span class=\"line\"> </span><br><span class=\"line\">//1개의 조건</span><br><span class=\"line\">db.[COLLECTION_NAME].remove( &#123; name: <span class=\"string\">\"Frank\"</span> &#125; );</span><br><span class=\"line\"> </span><br><span class=\"line\">//2개 이상 조건</span><br><span class=\"line\">db.[COLLECTION_NAME].remove( &#123; nice : <span class=\"string\">\"to\"</span>, meet : <span class=\"string\">\"you\"</span>&#125; );</span><br></pre></td></tr></table></figure></div>\n","categories":[{"name":"AWS","slug":"AWS","count":3,"path":"api/categories/AWS.json"}],"tags":[{"name":"Document DB","slug":"Document-DB","count":3,"path":"api/tags/Document-DB.json"},{"name":"Mongo","slug":"Mongo","count":3,"path":"api/tags/Mongo.json"}]}