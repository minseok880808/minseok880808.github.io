{"name":"Analytics","slug":"Analytics","count":1,"posts":[{"title":"Kinesis Data Analytics","slug":"kinesisDataAnalytics","date":"2020-05-02T04:36:44.000Z","updated":"2020-05-11T01:16:48.234Z","comments":true,"pin":null,"path":"api/articles/kinesisDataAnalytics.json","excerpt":"","keywords":null,"cover":"https://user-images.githubusercontent.com/62123161/80855331-3f5ac200-8c7b-11ea-87f4-3176b8b70682.png","content":"<h2 id=\"개발환경-구축\"><a href=\"#개발환경-구축\" class=\"headerlink\" title=\"개발환경 구축\"></a>개발환경 구축</h2><p>※ 기본 개발환경</p>\n<ul>\n<li>IntelliJ</li>\n<li>Java, Spring</li>\n<li>AWS Console</li>\n</ul>\n<h2 id=\"Kinesis-Data-Analytics-기초설명\"><a href=\"#Kinesis-Data-Analytics-기초설명\" class=\"headerlink\" title=\"Kinesis Data Analytics 기초설명\"></a>Kinesis Data Analytics 기초설명</h2><ol>\n<li>Kinesis Data Analytics을(를) 시작하려면 스트리밍 데이터를 지속적으로 읽고 처리하는 Kinesis 데이터 분석 애플리케이션을 생성합니다. 이 서비스는 Amazon Kinesis Data Streams 및 Amazon Kinesis Data Firehose 스트리밍 소스로부터의 데이터 수집을 지원합니다. 그런 다음 대화형 편집기를 사용하여 SQL 코드를 작성하고 라이브 스트리밍 데이터로 테스트합니다. Kinesis Data Analytics이(가) 결과를 전송하려는 대상을 구성할 수도 있습니다.</li>\n<li>Kinesis Data Analytics은(는) Amazon Kinesis Data Firehose(Amazon S3, Amazon Redshift, Amazon Elasticsearch Service 및 Splunk), AWS Lambda 및 Amazon Kinesis Data Streams을(를) 대상으로 지원합니다.</li>\n<li>Analytics의 경우 코딩이 전~~혀 없음.(굳이 있다면, 콘솔 내 SQL 문 작성해야 하는 정도?)</li>\n<li>코딩이 없는 만큼, Console화면에 대해 익숙해져야 함. </li>\n</ol>\n<h3 id=\"1-Create-application\"><a href=\"#1-Create-application\" class=\"headerlink\" title=\"1. Create application\"></a>1. Create application</h3><p><a href=\"https://user-images.githubusercontent.com/62123161/80855331-3f5ac200-8c7b-11ea-87f4-3176b8b70682.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855331-3f5ac200-8c7b-11ea-87f4-3176b8b70682.png\" alt=\"kinesisAnalytics_01\"></a></p>\n<ul>\n<li>[Create Application] 선택</li>\n</ul>\n<p><a href=\"https://user-images.githubusercontent.com/62123161/80855330-3ec22b80-8c7b-11ea-988e-fca08da5ea36.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855330-3ec22b80-8c7b-11ea-988e-fca08da5ea36.png\" alt=\"kinesisAnalytics_02\"></a></p>\n<ul>\n<li>생성을 누르면 Analytics 생성이 완료되었습니다. 축하합니다. 끝…. 이면 좋겠지만, 이 뒤가 실제 분석단계고 겨우 겉의 껍데기 하나 만든것이다.</li>\n</ul>\n<p><a href=\"https://user-images.githubusercontent.com/62123161/80855329-3e299500-8c7b-11ea-8c0e-423c69e40641.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855329-3e299500-8c7b-11ea-8c0e-423c69e40641.png\" alt=\"kinesisAnalytics_03\"></a></p>\n<ul>\n<li>Streaming 할 데이터, 실시간 분석(확인용), 보낼곳 설정 등 과정을 거친다.</li>\n<li>해당 과정을 거치면서 상당히 많은 오류를 맞닥트리게 될 것이다. 보통은 형변환에서 에러가 난다. (예-Varchar형인데 int형으로 분류됬을 경우.)</li>\n<li>실제 컬럼양이 많아서 귀찮더라도, 하나하나 전부 체크해 주어야 향후 Analytics를 원활하게 쓸 수 있다.</li>\n</ul>\n<p><a href=\"https://user-images.githubusercontent.com/62123161/80855328-3d90fe80-8c7b-11ea-95fa-6377adcd65e9.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855328-3d90fe80-8c7b-11ea-95fa-6377adcd65e9.png\" alt=\"kinesisAnalytics_04\"></a></p>\n<ul>\n<li>Source : 위에서 생성한 test-kinesis 선택</li>\n<li>Record pre-processing : 위의 firehose에서처럼 람다 함수를 이용하여 스트림 데이터 가공 가능</li>\n<li>Access permissions : IAM 롤 생성</li>\n<li>Discover schema 버튼을 클릭하여 스키마 확인 및 설정</li>\n</ul>\n<p><a href=\"https://user-images.githubusercontent.com/62123161/80855327-3cf86800-8c7b-11ea-8063-351e853d8e13.PNG\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855327-3cf86800-8c7b-11ea-8063-351e853d8e13.PNG\" alt=\"kinesisAnalytics_05\"></a></p>\n<ul>\n<li>자동으로 설정된 스키마 확인 후 필요에 따라 Edit schema 버튼을 통하여 스키마 수정</li>\n</ul>\n<p><a href=\"https://user-images.githubusercontent.com/62123161/80855326-3cf86800-8c7b-11ea-8901-cdbfe521e1db.PNG\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855326-3cf86800-8c7b-11ea-8901-cdbfe521e1db.PNG\" alt=\"kinesisAnalytics_06\"></a></p>\n<ul>\n<li>적절하게 스키마 변경 후 Save schema and update stream samples 버튼을 클릭하여 확인</li>\n</ul>\n<p><a href=\"https://user-images.githubusercontent.com/62123161/80855325-3bc73b00-8c7b-11ea-9896-fe3958db0c75.PNG\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855325-3bc73b00-8c7b-11ea-9896-fe3958db0c75.PNG\" alt=\"kinesisAnalytics_07\"></a></p>\n<ul>\n<li>소스를 선택하면 Real time analytics 영역이 활성화됨. Go to SQL editor 클릭</li>\n</ul>\n<p><a href=\"https://user-images.githubusercontent.com/62123161/80855324-3b2ea480-8c7b-11ea-84ba-bcbbea1d6efa.PNG\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855324-3b2ea480-8c7b-11ea-84ba-bcbbea1d6efa.PNG\" alt=\"kinesisAnalytics_08\"></a></p>\n<ul>\n<li>스크림 SQL을 작성 후 Save and run SQL 버튼 클릭</li>\n<li>하단의 Real-time analytics 탭에서 결과 데이터 실시간 확인</li>\n</ul>\n<p><a href=\"https://user-images.githubusercontent.com/62123161/80855323-3a960e00-8c7b-11ea-93f0-67c18f83d4d3.PNG\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855323-3a960e00-8c7b-11ea-93f0-67c18f83d4d3.PNG\" alt=\"kinesisAnalytics_09\"></a></p>\n<ul>\n<li>Real time analytics를 선택하면 Destination 영역이 활성화됨</li>\n</ul>\n<p><a href=\"https://user-images.githubusercontent.com/62123161/80855322-3a960e00-8c7b-11ea-9d44-becb19a625c9.PNG\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855322-3a960e00-8c7b-11ea-9d44-becb19a625c9.PNG\" alt=\"kinesisAnalytics_10\"></a></p>\n<ul>\n<li>Kinesis Analytics 데이터를 전달할 Firehose 생성 (test-firehose-destination)</li>\n</ul>\n<p><a href=\"https://user-images.githubusercontent.com/62123161/80855321-39fd7780-8c7b-11ea-8645-8ae033de86f2.PNG\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855321-39fd7780-8c7b-11ea-8645-8ae033de86f2.PNG\" alt=\"kinesisAnalytics_11\"></a></p>\n<ul>\n<li>다시 Analytics로 돌아와서 Destination 버튼 클릭</li>\n<li>Destination 서비스는 Kinesis Firehose 선택 후 위에서 생성한 test-firehose-destination 선택</li>\n<li>In-application stream으로 위에서 생성한 DESTINATION_SQL_STREAM 선택 후 저장</li>\n</ul>\n<p><a href=\"https://user-images.githubusercontent.com/62123161/80855320-3964e100-8c7b-11ea-8d38-df4f865408fa.PNG\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855320-3964e100-8c7b-11ea-8d38-df4f865408fa.PNG\" alt=\"kinesisAnalytics_12\"></a><br><a href=\"https://user-images.githubusercontent.com/62123161/80855318-38cc4a80-8c7b-11ea-9561-dae174bc37a3.PNG\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855318-38cc4a80-8c7b-11ea-9561-dae174bc37a3.PNG\" alt=\"kinesisAnalytics_13\"></a></p>\n<ul>\n<li>전체 설정 확인 후 목록에서 Running 상태 확인</li>\n</ul>\n<p><a href=\"https://user-images.githubusercontent.com/62123161/80855316-3833b400-8c7b-11ea-8125-157f380587ca.PNG\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855316-3833b400-8c7b-11ea-8125-157f380587ca.PNG\" alt=\"kinesisAnalytics_14\"></a></p>\n<ul>\n<li>test-firehose에 연결한 Kinesis Streams 데이터 S3 저장 확인</li>\n</ul>\n<p><a href=\"https://user-images.githubusercontent.com/62123161/80855314-37028700-8c7b-11ea-9b6f-1c2bb17198b0.PNG\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855314-37028700-8c7b-11ea-9b6f-1c2bb17198b0.PNG\" alt=\"kinesisAnalytics_15\"></a></p>\n<ul>\n<li>test-firehose-destination에 연결한 Kinesis Analytics 데이터 S3 저장 확인</li>\n</ul>\n","text":"개발환경 구축※ 기본 개발환경IntelliJJava, SpringAWS ConsoleKinesis Data Analytics 기초설명Kinesis Data Analytics을(를) 시작하려면 스트리밍 데이터를 지속적으로 읽고 처리하는 Kinesis 데","link":"","raw":null,"photos":[],"categories":[{"name":"tip","slug":"tip","count":22,"path":"api/categories/tip.json"}],"tags":[{"name":"AWS","slug":"AWS","count":14,"path":"api/tags/AWS.json"},{"name":"Kinesis","slug":"Kinesis","count":3,"path":"api/tags/Kinesis.json"},{"name":"Analytics","slug":"Analytics","count":1,"path":"api/tags/Analytics.json"}]}]}