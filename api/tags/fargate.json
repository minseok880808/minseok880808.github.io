{"name":"fargate","slug":"fargate","count":1,"posts":[{"title":"Fargate","slug":"Fargate","date":"2021-03-01T01:45:56.000Z","updated":"2021-02-23T01:50:19.654Z","comments":true,"pin":null,"path":"api/articles/Fargate.json","excerpt":"","keywords":null,"cover":null,"content":"<h3 id=\"Fargate란\"><a href=\"#Fargate란\" class=\"headerlink\" title=\"Fargate란?\"></a>Fargate란?</h3><ul>\n<li>ECS<sup>Elastic Container Service</sup> 의 하나의 옵션이었음.</li>\n<li>기존 ECS는 EC2의 인스턴스 클러스터를 관리, 사용률 모니터링 등을 사용자가 수행해야 했지만, EC2 자원관리를 AWS에 맡겨 서버의 프로비저닝이나 스케일링에 대해 생각하지 않고 컨테이너, Application에 집중해서 구축 할 수 있는 장점이 있음.</li>\n<li>서버를 관리하지 않는다는 관점에서 Lambda랑 비슷하기에 컨테이너버전의 Serverless라고 불리기도 함. (람다와 달리 성능, 시간제한같은게 없다.)</li>\n</ul>\n<h3 id=\"가격\"><a href=\"#가격\" class=\"headerlink\" title=\"가격?\"></a>가격?</h3><ul>\n<li>t2.Micro 보다 비싼편 ($0.00511USD/hour)</li>\n<li>다만, CPU를 0.25(1/4)로 사용이 가능하기에 어느정도 절약은 가능.</li>\n</ul>\n<h3 id=\"적용방법\"><a href=\"#적용방법\" class=\"headerlink\" title=\"적용방법\"></a>적용방법</h3><ol>\n<li>IAM 계정 생성</li>\n<li>도커 이미지 생성 및 ECR에 등록</li>\n</ol>\n<ul>\n<li>aws cli 환경설정</li>\n<li>Docker 이미지용 Application 작성</li>\n<li>ECR에 repository 생성</li>\n<li>ECR에 repository에 Docker Image 올리기</li>\n</ul>\n<ol start=\"3\">\n<li>작업 정의</li>\n</ol>\n<ul>\n<li>작업 정의 생성</li>\n<li>작업 정의에 컨테이너 추가</li>\n</ul>\n<ol start=\"4\">\n<li>클러스터 및 서비스 생성</li>\n</ol>\n<ul>\n<li>클러스터 생성</li>\n<li>서비스 생성</li>\n<li>서비스 확인</li>\n</ul>\n","text":"Fargate란?ECSElastic Container Service 의 하나의 옵션이었음.기존 ECS는 EC2의 인스턴스 클러스터를 관리, 사용률 모니터링 등을 사용자가 수행해야 했지만, EC2 자원관리를 AWS에 맡겨 서버의 프로비저닝이나 스케일링에","link":"","raw":null,"photos":[],"categories":[{"name":"aws","slug":"aws","count":19,"path":"api/categories/aws.json"}],"tags":[{"name":"AWS","slug":"AWS","count":20,"path":"api/tags/AWS.json"},{"name":"ECS","slug":"ECS","count":3,"path":"api/tags/ECS.json"},{"name":"fargate","slug":"fargate","count":1,"path":"api/tags/fargate.json"}]}]}"><a href=\"#2-Task-Definition-설정\" class=\"headerlink\" title=\"2. Task Definition 설정\"></a>2. Task Definition 설정</h3><p><a href=\"https://user-images.githubusercontent.com/56995911/112570468-7143bc80-8e29-11eb-895a-9cacc52a8bc1.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/56995911/112570468-7143bc80-8e29-11eb-895a-9cacc52a8bc1.png\" alt=\"image\"></a></p>\n<p><a href=\"https://user-images.githubusercontent.com/56995911/112570506-80c30580-8e29-11eb-93a5-e9eb98e71cd0.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/56995911/112570506-80c30580-8e29-11eb-93a5-e9eb98e71cd0.png\" alt=\"image\"></a></p>\n<p><a href=\"https://user-images.githubusercontent.com/56995911/112570585-a3edb500-8e29-11eb-86c3-26949eec9f33.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/56995911/112570585-a3edb500-8e29-11eb-86c3-26949eec9f33.png\" alt=\"image\"></a></p>\n<p><a href=\"https://user-images.githubusercontent.com/56995911/112570604-b1a33a80-8e29-11eb-86b2-277ae062f59e.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/56995911/112570604-b1a33a80-8e29-11eb-86b2-277ae062f59e.png\" alt=\"image\"></a></p>\n<p><a href=\"https://user-images.githubusercontent.com/56995911/112570638-c41d7400-8e29-11eb-8b46-8f1347984181.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/56995911/112570638-c41d7400-8e29-11eb-8b46-8f1347984181.png\" alt=\"image\"></a></p>\n<ul>\n<li>실제 Task들이 어떻게 구동할지 어떤환경에서 구동이 되는지를 설정해주는 것.</li>\n<li>Task Definition 은 ECS에 종속적이지 않음.</li>\n<li>Docker Example : docker.io/library/nginx</li>\n<li>예제샘플 도커 주소 : <a href=\"https://hub.docker.com/search?q=nginx&amp;type=image\" target=\"_blank\" rel=\"noopener\">https://hub.docker.com/search?q=nginx&amp;type=image</a></li>\n</ul>\n<h3 id=\"3-서비스-생성\"><a href=\"#3-서비스-생성\" class=\"headerlink\" title=\"3. 서비스 생성\"></a>3. 서비스 생성</h3><p><a href=\"https://user-images.githubusercontent.com/56995911/112571035-89680b80-8e2a-11eb-9a68-387db7307657.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/56995911/112571035-89680b80-8e2a-11eb-9a68-387db7307657.png\" alt=\"image\"></a></p>\n<p><a href=\"https://user-images.githubusercontent.com/56995911/112571055-971d9100-8e2a-11eb-951c-10ec489422c5.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/56995911/112571055-971d9100-8e2a-11eb-951c-10ec489422c5.png\" alt=\"image\"></a></p>\n<p><a href=\"https://user-images.githubusercontent.com/56995911/112571083-a43a8000-8e2a-11eb-9551-cc284e26431d.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/56995911/112571083-a43a8000-8e2a-11eb-9551-cc284e26431d.png\" alt=\"image\"></a></p>\n<p><a href=\"https://user-images.githubusercontent.com/56995911/112571113-b4525f80-8e2a-11eb-8842-e2aedf23fcde.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/56995911/112571113-b4525f80-8e2a-11eb-8842-e2aedf23fcde.png\" alt=\"image\"></a></p>\n<p><a href=\"https://user-images.githubusercontent.com/56995911/112571136-c16f4e80-8e2a-11eb-96a2-23d7c4a9d9c7.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/56995911/112571136-c16f4e80-8e2a-11eb-96a2-23d7c4a9d9c7.png\" alt=\"image\"></a></p>\n<p><a href=\"https://user-images.githubusercontent.com/56995911/112571145-c9c78980-8e2a-11eb-9083-5ee82e568d03.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/56995911/112571145-c9c78980-8e2a-11eb-9083-5ee82e568d03.png\" alt=\"image\"></a></p>\n<p><a href=\"https://user-images.githubusercontent.com/56995911/112571316-29259980-8e2b-11eb-8813-9c99f1bc322e.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/56995911/112571316-29259980-8e2b-11eb-8813-9c99f1bc322e.png\" alt=\"image\"></a></p>\n<p><a href=\"https://user-images.githubusercontent.com/56995911/112571373-3c386980-8e2b-11eb-869e-8d040c97fb38.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/56995911/112571373-3c386980-8e2b-11eb-869e-8d040c97fb38.png\" alt=\"image\"></a></p>\n<h3 id=\"4-테스트\"><a href=\"#4-테스트\" class=\"headerlink\" title=\"4. 테스트\"></a>4. 테스트</h3><ul>\n<li>public IP : 3.36.59.154 로 인터넷 접속하면 화면이 아래와 같이 뜸.<br><a href=\"https://user-images.githubusercontent.com/56995911/112571419-52462a00-8e2b-11eb-89d5-41961b23018c.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/56995911/112571419-52462a00-8e2b-11eb-89d5-41961b23018c.png\" alt=\"image\"></a></li>\n</ul>\n","text":"미리 드리는 말예제로 생성되는 컨테이너는 Public Docker File 이며, ECS에서 각 서비스별로 사용할때는 ECR에 Container Image를 등록하여 활용하는 것이 좋음.컨테이너 파일을 미리 만들어 둔 것이 있다면 해당 컨테이너를 사용","link":"","raw":null,"photos":[],"categories":[{"name":"aws","slug":"aws","count":19,"path":"api/categories/aws.json"}],"tags":[{"name":"AWS","slug":"AWS","count":20,"path":"api/tags/AWS.json"},{"name":"ECS","slug":"ECS","count":3,"path":"api/tags/ECS.json"},{"name":"Fargate","slug":"Fargate","count":1,"path":"api/tags/Fargate.json"}]}]}