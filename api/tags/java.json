{"name":"java","slug":"java","count":1,"posts":[{"title":"Lambda","slug":"Lambda","date":"2020-05-07T02:49:14.000Z","updated":"2020-11-23T01:31:25.287Z","comments":true,"pin":null,"path":"api/articles/Lambda.json","excerpt":"","keywords":null,"cover":"https://user-images.githubusercontent.com/62123161/81253068-88878900-9062-11ea-87b3-9a3713b6bd1d.png","content":"<h2 id=\"개발환경-구축\"><a href=\"#개발환경-구축\" class=\"headerlink\" title=\"개발환경 구축\"></a>개발환경 구축</h2><p>※ 기본 개발환경</p>\n<ul>\n<li>IntelliJ</li>\n<li>Java 8, 11</li>\n<li>AWS Console</li>\n</ul>\n<h2 id=\"Lambda-설명\"><a href=\"#Lambda-설명\" class=\"headerlink\" title=\"Lambda 설명\"></a>Lambda 설명</h2><h3 id=\"1-람다는-메모리에-따라-돌아가는-환경이-달라진다\"><a href=\"#1-람다는-메모리에-따라-돌아가는-환경이-달라진다\" class=\"headerlink\" title=\"1. 람다는 메모리에 따라 돌아가는 환경이 달라진다.\"></a>1. 람다는 메모리에 따라 돌아가는 환경이 달라진다.</h3><ul>\n<li>m5-Large, t2-small 등.. OS환경은 모두 Linux 환경이지만, Node와 Python 등은 Linux2에서 동작하고, 대부분의 언어는 Linux환경에서 돌아간다.)<h3 id=\"2-a람다-b람다-a람다-콜도-가능하다\"><a href=\"#2-a람다-b람다-a람다-콜도-가능하다\" class=\"headerlink\" title=\"2. a람다-b람다-a람다 콜도 가능하다.\"></a>2. a람다-b람다-a람다 콜도 가능하다.</h3><h3 id=\"3-람다는-동기식-비동기식의-선택이-가능하다\"><a href=\"#3-람다는-동기식-비동기식의-선택이-가능하다\" class=\"headerlink\" title=\"3. 람다는 동기식, 비동기식의 선택이 가능하다.\"></a>3. 람다는 동기식, 비동기식의 선택이 가능하다.</h3></li>\n<li>경동에서 사용하는 람다들은 모두 동기식이다. 비동기식은 몇가지 안된다.</li>\n</ul>\n<h3 id=\"4-Node-js-Python\"><a href=\"#4-Node-js-Python\" class=\"headerlink\" title=\"4. Node.js, Python\"></a>4. Node.js, Python</h3><ul>\n<li>AWS Lambda 콘솔, Cloud9, IDE 플러그인이 포함된 Visual Studio/PyCharm으로 작성가능.</li>\n<li>Cloud9은 웹 자체에서 디버깅(BreakPoint 가능)이 가능하며, 동시에 여러명이서 수정이 된다.</li>\n<li>실시간으로 페이지가 갱신되므로 다른사람과 같이 작업하면, 다른사람이 작업한 내용의 수정내용을 볼 수 있다. </li>\n</ul>\n<h3 id=\"5-한도\"><a href=\"#5-한도\" class=\"headerlink\" title=\"5. 한도\"></a>5. 한도</h3><ul>\n<li><p>총 람다 동시실행 갯수: 1000개 / 75GB 가 한도이며, VPC당 인터페이스 250개까지 지원한다.</p>\n</li>\n<li><p>현재 동시실행 갯수를 운영서버계정은 2500개까지 열어두었다. </p>\n</li>\n<li><p>사실 리밋은 언제든지 Support팀에 요청하면 풀 수 있다. 리밋을 상향한다고 하여도 추가비용이 발생하지는 않는다.</p>\n</li>\n<li><p>기본적으로 1000개인 Limit을 5000개까지는 올리고 싶다. 용량 75GB는 상향의 필요성을 못느낀다.(개인생각)</p>\n</li>\n<li><p>각 람다 별 제한사항<br><a href=\"https://user-images.githubusercontent.com/62123161/81253068-88878900-9062-11ea-87b3-9a3713b6bd1d.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81253068-88878900-9062-11ea-87b3-9a3713b6bd1d.png\" alt=\"lambda_01\"></a></p>\n</li>\n</ul>\n<h3 id=\"6-Trigger-출발점-과-Destination-목적점-을-직접-지정해줄-수도-있다\"><a href=\"#6-Trigger-출발점-과-Destination-목적점-을-직접-지정해줄-수도-있다\" class=\"headerlink\" title=\"6. Trigger(출발점)과 Destination(목적점)을 직접 지정해줄 수도 있다.\"></a>6. Trigger(출발점)과 Destination(목적점)을 직접 지정해줄 수도 있다.</h3><p><a href=\"https://user-images.githubusercontent.com/62123161/81251406-29277a00-905e-11ea-8afd-d501dfb1cbd0.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81251406-29277a00-905e-11ea-8afd-d501dfb1cbd0.png\" alt=\"lambda_02\"></a></p>\n<ul>\n<li>Trigger / Destination List<br><a href=\"https://user-images.githubusercontent.com/62123161/81251405-288ee380-905e-11ea-9ed2-d6cdc2f61c0d.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81251405-288ee380-905e-11ea-9ed2-d6cdc2f61c0d.png\" alt=\"lambda_03\"></a><br><a href=\"https://user-images.githubusercontent.com/62123161/81251404-288ee380-905e-11ea-80fa-3d4775ad102d.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81251404-288ee380-905e-11ea-80fa-3d4775ad102d.png\" alt=\"lambda_04\"></a></li>\n</ul>\n<h3 id=\"7-람다를-내부에서-실행시켜-외부의-값을-가져오려고-할때는-아래와-같은-순서를-따르면-된다\"><a href=\"#7-람다를-내부에서-실행시켜-외부의-값을-가져오려고-할때는-아래와-같은-순서를-따르면-된다\" class=\"headerlink\" title=\"7. 람다를 내부에서 실행시켜 외부의 값을 가져오려고 할때는 아래와 같은 순서를 따르면 된다.\"></a>7. 람다를 내부에서 실행시켜 외부의 값을 가져오려고 할때는 아래와 같은 순서를 따르면 된다.</h3><ul>\n<li>온수매트의 Kweather정보는 상관없으나, TAC의 AirKorea는 반드시 이 설정을 해주어야 한다.</li>\n<li>Lambda 함수를 Private Subnet에 위치시키고,(콘솔화면 기준 : VPC - RouteTable - Lambda 함수가 설정된 VPC - Subnet의 RouteTable 설정)</li>\n<li>RouteTable 정책을 Lambda Subnet을 0.0.0.0/0 인터넷망을 나갈때 NAT Gateway를 통하도록 설정(VPC - NAT Gatewat 에서 IP 를 확인하시고, 해당 Elastic IP(고정 IP)를 Whitelist 로 넣어줌) <a href=\"https://www.slideshare.net/addnull/aws-lambdas-with-a-static-outgoing-ip\" target=\"_blank\" rel=\"noopener\">https://www.slideshare.net/addnull/aws-lambdas-with-a-static-outgoing-ip</a></li>\n</ul>\n<h3 id=\"8-모니터링\"><a href=\"#8-모니터링\" class=\"headerlink\" title=\"8. 모니터링\"></a>8. 모니터링</h3><ul>\n<li>아래 그림처럼 수행 구간별로 구분해서 분석이 가능함. (참고용… 중요하지 않음)<img width=\"420\" alt=\"lambda_05\" src=\"https://user-images.githubusercontent.com/62123161/81251472-56742800-905e-11ea-9142-0687f7ccb0de.png\">\n\n</li>\n</ul>\n<h3 id=\"9-SDK\"><a href=\"#9-SDK\" class=\"headerlink\" title=\"9. SDK\"></a>9. SDK</h3><ul>\n<li>Java에 적용된 SDK들은 이미 Node.js나 Python에 적용 되어 있다.</li>\n<li>우리가 쓰고자 하는 기능은 당연히 이미 SDK로 나와있다. 예) Dynamo 제어, S3 Bucket 제어, RDS 제어, Kinesis 제어 등등….  </li>\n<li>위 a번의 근거는, 람다를 스크립트언어로 사용하는 곳이 많기에 우선적으로 라이브러리를 지원해주기 때문.</li>\n<li>상대적으로 람다를 Java로 쓰는 곳은 그다지 많이 없다.(구동에 시간이 많이 들기에 빠른반응을 해줘야하는 서비스의 경우 Java를 안쓴다고 전해들었다.)</li>\n</ul>\n<h3 id=\"10-Lambda-RDS\"><a href=\"#10-Lambda-RDS\" class=\"headerlink\" title=\"10. Lambda - RDS\"></a>10. Lambda - RDS</h3><p>Python AWS 공식 자습서 예제 : <a href=\"https://docs.aws.amazon.com/ko_kr/lambda/latest/dg/services-rds-tutorial.html\" target=\"_blank\" rel=\"noopener\">https://docs.aws.amazon.com/ko_kr/lambda/latest/dg/services-rds-tutorial.html</a><br>일반 블로그 Node.js 예제 : <a href=\"https://grip.news/archives/1411\" target=\"_blank\" rel=\"noopener\">https://grip.news/archives/1411</a><br>Node.js AWS 공식 설명서 예제 : <a href=\"https://docs.aws.amazon.com/ko_kr/lambda/latest/dg/lambda-nodejs.html\" target=\"_blank\" rel=\"noopener\">https://docs.aws.amazon.com/ko_kr/lambda/latest/dg/lambda-nodejs.html</a></p>\n<h2 id=\"결론\"><a href=\"#결론\" class=\"headerlink\" title=\"결론\"></a>결론</h2><p>위와 같은 람다의 특성으로 미루어 볼 때, 체크해야될 리스트는 아래와 같다.</p>\n<ol>\n<li>람다→람다를 호출하는 과정이 있을 수 있을지 설계단에서 한번 보아야 한다.</li>\n</ol>\n<ul>\n<li>스마트톡에는 람다→ 람다를 호출하는 과정이 없이, 기능별로만 쪼개놓은 상황이고, 기능이 겹친다고 하더라도 다 따로 만들어주었다.</li>\n</ul>\n<ol start=\"2\">\n<li>여러사람이 개발을 진행해야 한다면, Script언어를 같이 개발할 수 있는 Cloud9검토가 필요하다.(디버깅이 가능하고, 동시개발이 가능한점이 큰 이점. 히스토리도 AWS가 갖고있다.)</li>\n<li>한도는 최대한으로 늘려놓는 것이 좋을 것 같다. 1000→ 5000개정도. 또한, 각 람다별 메모리도 일단은 1024 이상으로 올려 사용하다가 사용량을 비교하여 낮추는 방향도 고려필요.</li>\n<li>VPC위에 lambda를 올려 실행시키는 방법을 미리 고민해두어야 함.</li>\n<li>SDK는 모두 제공하므로 걱정안해도 됨.</li>\n</ol>\n","text":"개발환경 구축※ 기본 개발환경IntelliJJava 8, 11AWS ConsoleLambda 설명1. 람다는 메모리에 따라 돌아가는 환경이 달라진다.m5-Large, t2-small 등.. OS환경은 모두 Linux 환경이지만, Node와 Python","link":"","raw":null,"photos":[],"categories":[{"name":"aws","slug":"aws","count":18,"path":"api/categories/aws.json"}],"tags":[{"name":"AWS","slug":"AWS","count":20,"path":"api/tags/AWS.json"},{"name":"Lambda","slug":"Lambda","count":2,"path":"api/tags/Lambda.json"},{"name":"java","slug":"java","count":1,"path":"api/tags/java.json"}]}]}