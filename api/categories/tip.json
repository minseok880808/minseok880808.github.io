{"name":"tip","slug":"tip","count":23,"posts":[{"title":"Cloud9","slug":"Cloud9","date":"2020-05-07T06:12:11.000Z","updated":"2020-05-18T04:58:08.826Z","comments":true,"pin":null,"path":"api/articles/Cloud9.json","excerpt":"","keywords":null,"cover":"https://user-images.githubusercontent.com/62123161/81260722-8da20380-9075-11ea-9a81-3b4751bc2760.png","content":"<h2 id=\"개발환경-구축\"><a href=\"#개발환경-구축\" class=\"headerlink\" title=\"개발환경 구축\"></a>개발환경 구축</h2><p>※ 기본 개발환경</p>\n<ul>\n<li>IntelliJ</li>\n<li>Python</li>\n<li>AWS Console</li>\n</ul>\n<h2 id=\"설정\"><a href=\"#설정\" class=\"headerlink\" title=\"설정\"></a>설정</h2><h3 id=\"1-DashBoard\"><a href=\"#1-DashBoard\" class=\"headerlink\" title=\"1) DashBoard\"></a>1) DashBoard</h3><p><a href=\"https://user-images.githubusercontent.com/62123161/81260722-8da20380-9075-11ea-9a81-3b4751bc2760.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81260722-8da20380-9075-11ea-9a81-3b4751bc2760.png\" alt=\"cloud9_01\"></a></p>\n<h3 id=\"2-Create-Environment-로-환경을-설정하자\"><a href=\"#2-Create-Environment-로-환경을-설정하자\" class=\"headerlink\" title=\"2) Create Environment 로 환경을 설정하자.\"></a>2) Create Environment 로 환경을 설정하자.</h3><p><a href=\"https://user-images.githubusercontent.com/62123161/81260721-8c70d680-9075-11ea-87dc-338df283100a.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81260721-8c70d680-9075-11ea-87dc-338df283100a.png\" alt=\"cloud9_02\"></a><br><a href=\"https://user-images.githubusercontent.com/62123161/81260718-8aa71300-9075-11ea-9459-af1171bcec28.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81260718-8aa71300-9075-11ea-9459-af1171bcec28.png\" alt=\"cloud9_03\"></a></p>\n<ul>\n<li>중요 : 인스턴스 용량이나 플랫폼환경은 마음대로 하면된다.<br>  But, Network Setting은 반드시 VPC를 통한 외부로 나갈 수 있도록 해주자.(날씨는 밖에서 데이터를 긁어와야 하기 때문에…)</li>\n<li>내부에서 private하게 돌릴거라면 Default VPC로 셋팅해도 아무 문제 없다.<br><a href=\"https://user-images.githubusercontent.com/62123161/81260708-87138c00-9075-11ea-8e58-201f496d3ad6.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81260708-87138c00-9075-11ea-8e58-201f496d3ad6.png\" alt=\"cloud9_04\"></a></li>\n<li>자신없으면 기본셋팅으로 하자.</li>\n<li>셋팅 끝.</li>\n</ul>\n<h2 id=\"개발\"><a href=\"#개발\" class=\"headerlink\" title=\"개발\"></a>개발</h2><h3 id=\"1-로컬람다-생성\"><a href=\"#1-로컬람다-생성\" class=\"headerlink\" title=\"1) 로컬람다 생성\"></a>1) 로컬람다 생성</h3><p><a href=\"https://user-images.githubusercontent.com/62123161/81260705-84189b80-9075-11ea-8c13-869b2bce2ea4.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81260705-84189b80-9075-11ea-8c13-869b2bce2ea4.png\" alt=\"cloud9_05\"></a></p>\n<ul>\n<li>로컬람다를 선택해서 개발을 진행해야 초기 환경이 자동으로 잘 잡힌다.</li>\n</ul>\n<h3 id=\"2-Import-할-라이브러리-추가\"><a href=\"#2-Import-할-라이브러리-추가\" class=\"headerlink\" title=\"2) Import 할 라이브러리 추가\"></a>2) Import 할 라이브러리 추가</h3><p><a href=\"https://user-images.githubusercontent.com/62123161/81260738-91358a80-9075-11ea-9a6b-d3340b584040.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81260738-91358a80-9075-11ea-9a6b-d3340b584040.png\" alt=\"cloud9_06\"></a></p>\n<ul>\n<li><p>결과화면에서 보면 알겠지만 나는 우선 Boto3, pymysql, requests를 사용할 예정이다. </p>\n</li>\n<li><p>나머지 json이나 datetime등은 기본적으로 제공해주는 것으로 보인다.(내가 라이브러리 import하지 않았거든..)</p>\n<ul>\n<li>pymysql<ul>\n<li>python -m pip install –target=./ pymysql</li>\n</ul>\n</li>\n<li>requests<ul>\n<li>python -m pip install –target=./ requests</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>아, 참고로 위 1,2번 명령어는 소스내 바로 상위 폴더를 오른쪽버튼 클릭하여 “Open Terminal Here(Alt+L)” 을 누른뒤 입력한다. </p>\n</li>\n<li><p>알아서 깔아주니 그냥 입력하고 두어라.</p>\n</li>\n<li><p>다 되고나면 위 그림의 왼쪽 Explorer 창처럼 수많은 라이브러리가 등장하게 된다. (물론 소스까지 넣었고, 빌드해서 돌렸으니까 추가된것도 있고..)</p>\n</li>\n</ul>\n<h2 id=\"배포\"><a href=\"#배포\" class=\"headerlink\" title=\"배포\"></a>배포</h2><p><a href=\"https://user-images.githubusercontent.com/62123161/81260733-909cf400-9075-11ea-87cf-742f1549c702.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81260733-909cf400-9075-11ea-87cf-742f1549c702.png\" alt=\"cloud9_07\"></a></p>\n<ul>\n<li>간단하게 돌려봤고, 올려도 되겠다 싶은 생각이 들때 위 사진처럼 Local Function을 Remote Function으로 배포해준다. (여담이지만, 이미 local Function으로 만들때 자동으로 Remote가 생성이 된다. 아무래도 Sync에 많은 신경을 쓴듯한 느낌이 듬.)</li>\n</ul>\n<h2 id=\"소스\"><a href=\"#소스\" class=\"headerlink\" title=\"소스\"></a>소스</h2><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>Weather</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import boto3</span><br><span class=\"line\">import json</span><br><span class=\"line\">import pymysql</span><br><span class=\"line\">import requests</span><br><span class=\"line\">from datetime import datetime, timedelta</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\"># MySQL 접속정보</span></span><br><span class=\"line\">REGION = <span class=\"string\">'REGION'</span></span><br><span class=\"line\"></span><br><span class=\"line\">rds_host = <span class=\"string\">\"RDS_ENDPOINT\"</span></span><br><span class=\"line\">name = <span class=\"string\">\"ID\"</span></span><br><span class=\"line\">password = <span class=\"string\">\"PW\"</span></span><br><span class=\"line\">db_name = <span class=\"string\">\"DB_NAME\"</span></span><br><span class=\"line\">conn = pymysql.connect(rds_host, user=name, passwd=password, db=db_name, connect_timeout=5, charset=<span class=\"string\">'utf8'</span>,</span><br><span class=\"line\">                       cursorclass=pymysql.cursors.DictCursor)</span><br><span class=\"line\">                        </span><br><span class=\"line\"> </span><br><span class=\"line\">def lambda_handler(event, context):</span><br><span class=\"line\">    try:</span><br><span class=\"line\">        <span class=\"comment\"># <span class=\"doctag\">TODO:</span>  1. MySQL에서 Region관련정보 받아오기</span></span><br><span class=\"line\">        result = [] <span class=\"comment\">#list</span></span><br><span class=\"line\">        dic = &#123;&#125;    <span class=\"comment\">#dictionary</span></span><br><span class=\"line\">        mysqlList = [] <span class=\"comment\">#list</span></span><br><span class=\"line\">        with conn.cursor(pymysql.cursors.DictCursor) as cur:</span><br><span class=\"line\">            cur.execute(<span class=\"string\">\"\"</span><span class=\"string\">\"select * from NEW_WEATHER_REGION_CD\"</span><span class=\"string\">\"\"</span>)</span><br><span class=\"line\">            conn.commit()</span><br><span class=\"line\">     </span><br><span class=\"line\">            <span class=\"keyword\">for</span> row <span class=\"keyword\">in</span> cur.fetchall():</span><br><span class=\"line\">                result.append(row)</span><br><span class=\"line\">     </span><br><span class=\"line\">            <span class=\"keyword\">for</span> jsons <span class=\"keyword\">in</span> result:</span><br><span class=\"line\">                loaded_json = json.loads(json.dumps(jsons, indent=4, sort_keys=True, default=str, ensure_ascii=False))</span><br><span class=\"line\">                <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> loaded_json:</span><br><span class=\"line\">                    dic[x]=loaded_json[x]</span><br><span class=\"line\">                grid_x = dic.get(<span class=\"string\">'GRID_X'</span>)</span><br><span class=\"line\">                grid_y = dic.get(<span class=\"string\">'GRID_Y'</span>)</span><br><span class=\"line\">     </span><br><span class=\"line\">                <span class=\"comment\"># <span class=\"doctag\">TODO:</span> 2. URL셋팅후 데이터 받기(초단기 예보)</span></span><br><span class=\"line\">                URL = <span class=\"string\">'http://apis.data.go.kr/1360000/VilageFcstInfoService/getUltraSrtFcst?serviceKey=SERVICE_KEY'</span></span><br><span class=\"line\">                params = &#123;</span><br><span class=\"line\">                    <span class=\"string\">'numOfRows'</span>: <span class=\"string\">'1000'</span>,</span><br><span class=\"line\">                    <span class=\"string\">'pageNo'</span>:<span class=\"string\">'1'</span>,</span><br><span class=\"line\">                    <span class=\"string\">'dataType'</span>:<span class=\"string\">'JSON'</span>,</span><br><span class=\"line\">                    <span class=\"string\">'base_date'</span>:datetime.today().strftime(<span class=\"string\">\"%Y%m%d\"</span>),</span><br><span class=\"line\">                    <span class=\"string\">'base_time'</span>:(datetime.today() + timedelta(hours=-1)).strftime(<span class=\"string\">\"%H00\"</span>)</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                res = requests.get(URL, params=params)</span><br><span class=\"line\">                URL = res.url</span><br><span class=\"line\">                <span class=\"comment\"># x, y 좌표 설정</span></span><br><span class=\"line\">                regionParam = &#123;</span><br><span class=\"line\">                    <span class=\"string\">'nx'</span>:grid_x, <span class=\"string\">'ny'</span>:grid_y</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                res = requests.get(URL, params=regionParam) <span class=\"comment\"># 실제 데이터 받기.</span></span><br><span class=\"line\">     </span><br><span class=\"line\">                <span class=\"comment\"># <span class=\"doctag\">TODO:</span> 3 데이터가 정상적으로 들어와있는지 확인하기(우선은 Header의 정보 중 ResultCode로 판단)</span></span><br><span class=\"line\">                resultCode = <span class=\"string\">\"\"</span></span><br><span class=\"line\">                resultMsg = <span class=\"string\">\"\"</span></span><br><span class=\"line\">                dict = json.loads(json.dumps(res.text, indent=4, sort_keys=True, default=str, ensure_ascii=False))</span><br><span class=\"line\">                dict = json.loads(dict)</span><br><span class=\"line\">                <span class=\"keyword\">for</span> resultJson <span class=\"keyword\">in</span> dict[<span class=\"string\">'response'</span>][<span class=\"string\">'header'</span>]:</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(resultJson == <span class=\"string\">\"resultCode\"</span>):</span><br><span class=\"line\">                        resultCode = dict[<span class=\"string\">'response'</span>][<span class=\"string\">'header'</span>][<span class=\"string\">'resultCode'</span>]</span><br><span class=\"line\">                    <span class=\"keyword\">elif</span>(resultJson == <span class=\"string\">\"resultMsg\"</span>):</span><br><span class=\"line\">                        resultMsg = dict[<span class=\"string\">'response'</span>][<span class=\"string\">'header'</span>][<span class=\"string\">'resultMsg'</span>]</span><br><span class=\"line\">     </span><br><span class=\"line\">                <span class=\"keyword\">if</span>(resultCode != <span class=\"string\">\"00\"</span>): <span class=\"comment\"># 00이 정상이고, 나머지가 에러다... 로그로 남기면 뭐가 좋지않을까 해서 남겨본다.</span></span><br><span class=\"line\">                    <span class=\"built_in\">print</span>(<span class=\"string\">\"ERROR_CD : \"</span> + resultCode + <span class=\"string\">\"   /   \"</span> + <span class=\"string\">\"ERROR_MSG : \"</span> + resultMsg)</span><br><span class=\"line\">                <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                    dictionary = json.loads(json.dumps(res.text, sort_keys=True, default=str, ensure_ascii=False))</span><br><span class=\"line\">                    <span class=\"comment\"># 왜 dictionary가 2번이나 호출됫냐면... python특성인지 모르겠으나 형변환이 없으므로 강제 형변환을 위해 사용했음.</span></span><br><span class=\"line\">                    dictionary = json.loads(dictionary)</span><br><span class=\"line\">                    <span class=\"comment\"># 날씨item별 순차 읽기</span></span><br><span class=\"line\">                    weatherDic = &#123;&#125;</span><br><span class=\"line\">                    <span class=\"keyword\">for</span> weather <span class=\"keyword\">in</span> dictionary[<span class=\"string\">'response'</span>][<span class=\"string\">'body'</span>][<span class=\"string\">'items'</span>][<span class=\"string\">'item'</span>]:</span><br><span class=\"line\">                        <span class=\"comment\"># 넣고자 하는 시간 체크(현재시간이어야 한다)</span></span><br><span class=\"line\">                        <span class=\"keyword\">if</span>(weather[<span class=\"string\">'fcstTime'</span>] == (datetime.today().strftime(<span class=\"string\">\"%H00\"</span>))):</span><br><span class=\"line\">                            <span class=\"keyword\">if</span>(weather[<span class=\"string\">'category'</span>] == <span class=\"string\">\"LGT\"</span>): <span class=\"comment\"># 낙뢰</span></span><br><span class=\"line\">                                weatherDic[weather[<span class=\"string\">'category'</span>]]=weather[<span class=\"string\">\"fcstValue\"</span>]</span><br><span class=\"line\">     </span><br><span class=\"line\">                            <span class=\"keyword\">elif</span> (weather[<span class=\"string\">'category'</span>] == <span class=\"string\">\"PTY\"</span>): <span class=\"comment\"># 강수형태</span></span><br><span class=\"line\">                                weatherDic[weather[<span class=\"string\">'category'</span>]]=weather[<span class=\"string\">\"fcstValue\"</span>]</span><br><span class=\"line\">     </span><br><span class=\"line\">                            <span class=\"keyword\">elif</span> (weather[<span class=\"string\">'category'</span>] == <span class=\"string\">\"RN1\"</span>): <span class=\"comment\"># 1시간 강수량</span></span><br><span class=\"line\">                                weatherDic[weather[<span class=\"string\">'category'</span>]]=weather[<span class=\"string\">\"fcstValue\"</span>]</span><br><span class=\"line\">     </span><br><span class=\"line\">                            <span class=\"keyword\">elif</span> (weather[<span class=\"string\">'category'</span>] == <span class=\"string\">\"SKY\"</span>): <span class=\"comment\"># 하늘상태</span></span><br><span class=\"line\">                                weatherDic[weather[<span class=\"string\">'category'</span>]]=weather[<span class=\"string\">\"fcstValue\"</span>]</span><br><span class=\"line\">     </span><br><span class=\"line\">                            <span class=\"keyword\">elif</span> (weather[<span class=\"string\">'category'</span>] == <span class=\"string\">\"T1H\"</span>):<span class=\"comment\"># 기온</span></span><br><span class=\"line\">                                weatherDic[weather[<span class=\"string\">'category'</span>]]=weather[<span class=\"string\">\"fcstValue\"</span>]</span><br><span class=\"line\">     </span><br><span class=\"line\">                            <span class=\"keyword\">elif</span> (weather[<span class=\"string\">'category'</span>] == <span class=\"string\">\"REH\"</span>): <span class=\"comment\"># 습도</span></span><br><span class=\"line\">                                weatherDic[weather[<span class=\"string\">'category'</span>]]=weather[<span class=\"string\">\"fcstValue\"</span>]</span><br><span class=\"line\">     </span><br><span class=\"line\">                            <span class=\"keyword\">elif</span> (weather[<span class=\"string\">'category'</span>] == <span class=\"string\">\"UUU\"</span>): <span class=\"comment\"># 동서바람성분</span></span><br><span class=\"line\">                                weatherDic[weather[<span class=\"string\">'category'</span>]]=weather[<span class=\"string\">\"fcstValue\"</span>]</span><br><span class=\"line\">     </span><br><span class=\"line\">                            <span class=\"keyword\">elif</span> (weather[<span class=\"string\">'category'</span>] == <span class=\"string\">\"VVV\"</span>): <span class=\"comment\"># 남북바람성분</span></span><br><span class=\"line\">                                weatherDic[weather[<span class=\"string\">'category'</span>]]=weather[<span class=\"string\">\"fcstValue\"</span>]</span><br><span class=\"line\">     </span><br><span class=\"line\">                            <span class=\"keyword\">elif</span> (weather[<span class=\"string\">'category'</span>] == <span class=\"string\">\"VEC\"</span>): <span class=\"comment\"># 풍향</span></span><br><span class=\"line\">                                weatherDic[weather[<span class=\"string\">'category'</span>]]=weather[<span class=\"string\">\"fcstValue\"</span>]</span><br><span class=\"line\">     </span><br><span class=\"line\">                            <span class=\"keyword\">elif</span> (weather[<span class=\"string\">'category'</span>] == <span class=\"string\">\"WSD\"</span>): <span class=\"comment\"># 풍속</span></span><br><span class=\"line\">                                weatherDic[weather[<span class=\"string\">'category'</span>]]=weather[<span class=\"string\">\"fcstValue\"</span>]</span><br><span class=\"line\">     </span><br><span class=\"line\">                    <span class=\"comment\"># <span class=\"doctag\">TODO:</span> 4. weatherDic에 저장되어 있는 값을 MySQL 에 저장하기 위해 List에 저장</span></span><br><span class=\"line\">                    string = dic.get(<span class=\"string\">'REGION_CD'</span>), dic.get(<span class=\"string\">'STATE_NAME'</span>), dic.get(<span class=\"string\">'CITY_NAME'</span>), weatherDic.get(<span class=\"string\">'SKY'</span>), weatherDic.get(<span class=\"string\">'T1H'</span>), weatherDic.get(<span class=\"string\">'REH'</span>), weatherDic.get(<span class=\"string\">'RN1'</span>), weatherDic.get(<span class=\"string\">'PTY'</span>), weatherDic.get(<span class=\"string\">'VEC'</span>), weatherDic.get(<span class=\"string\">'WSD'</span>)</span><br><span class=\"line\">                    mysqlList.append(string)</span><br><span class=\"line\">     </span><br><span class=\"line\">            cur.close()</span><br><span class=\"line\">     </span><br><span class=\"line\">        <span class=\"comment\"># <span class=\"doctag\">TODO:</span> 5. 기존에 저장된 MySQL의 날씨값 삭제.</span></span><br><span class=\"line\">        with conn.cursor(pymysql.cursors.DictCursor) as cur:</span><br><span class=\"line\">            query = <span class=\"string\">\"TRUNCATE NEW_WEATHER_STATUS;\"</span></span><br><span class=\"line\">            cur.execute(query)</span><br><span class=\"line\">            conn.commit()</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">\"-------------\"</span>)</span><br><span class=\"line\">     </span><br><span class=\"line\">        <span class=\"comment\"># <span class=\"doctag\">TODO:</span> 6. 저장된 최종 List를 MySQL에 저장.</span></span><br><span class=\"line\">        with conn.cursor(pymysql.cursors.DictCursor) as cur:</span><br><span class=\"line\">            <span class=\"comment\"># 아무리 DB의 시스템시간을 바꾸어도 UTC+0인 시간만 오기에 어쩔 수 없이 \"DATE_ADD(NOW(), INTERVAL 9 HOUR)\" 를 넣었음.</span></span><br><span class=\"line\">            <span class=\"comment\"># 좋은 방법이 아니므로 다른 방법을 찾아야 하지 않을까? 지금 일단은 돌아감...</span></span><br><span class=\"line\">            query = <span class=\"string\">\"INSERT INTO NEW_WEATHER_STATUS (REGION_CD, STATE_NAME, CITY_NAME, ICON, TEMP, HUMI, RAINFALL, SNOWFALL, WINDDIR, WINDSPEED, REGISTER_AT) VALUES (%s,%s,%s,%s,%s,%s,%s,%s,%s,%s,DATE_ADD(NOW(), INTERVAL 9 HOUR));\"</span></span><br><span class=\"line\">            cur.executemany(query, mysqlList)</span><br><span class=\"line\">            conn.commit()</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">\"-------------\"</span>)</span><br><span class=\"line\">     </span><br><span class=\"line\">    except ImportError as exc:</span><br><span class=\"line\">        raise ImportError(</span><br><span class=\"line\">            <span class=\"string\">\"Couldn't import Django. Are you sure it's installed and \"</span></span><br><span class=\"line\">            <span class=\"string\">\"available on your PYTHONPATH environment variable? Did you \"</span></span><br><span class=\"line\">            <span class=\"string\">\"forget to activate a virtual environment?\"</span></span><br><span class=\"line\">        ) from exc</span><br></pre></td></tr></table></figure></div>\n<ul>\n<li>소스는 주석도 넣어놨고, 굳이 이정도까지 설명해야 하나 싶을정도여서, 따로 설명하지 않겠다.</li>\n</ul>\n<h2 id=\"결과화면\"><a href=\"#결과화면\" class=\"headerlink\" title=\"결과화면\"></a>결과화면</h2><p><a href=\"https://user-images.githubusercontent.com/62123161/81513300-6f345480-9362-11ea-96fb-fad4d3532da1.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81513300-6f345480-9362-11ea-96fb-fad4d3532da1.png\" alt=\"cloud9_08\"></a><br><a href=\"https://user-images.githubusercontent.com/62123161/81513298-6d6a9100-9362-11ea-880e-c24f94df6ecb.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81513298-6d6a9100-9362-11ea-880e-c24f94df6ecb.png\" alt=\"cloud9_09\"></a></p>\n","text":"개발환경 구축※ 기본 개발환경IntelliJPythonAWS Console설정1) DashBoard [Figure] ","link":"","raw":null,"photos":[],"categories":[{"name":"tip","slug":"tip","count":23,"path":"api/categories/tip.json"}],"tags":[{"name":"AWS","slug":"AWS","count":14,"path":"api/tags/AWS.json"},{"name":"Cloud9","slug":"Cloud9","count":1,"path":"api/tags/Cloud9.json"},{"name":"Web","slug":"Web","count":1,"path":"api/tags/Web.json"},{"name":"Debugger","slug":"Debugger","count":1,"path":"api/tags/Debugger.json"}]},{"title":"Cloudwatch","slug":"Cloudwatch","date":"2020-05-06T03:23:02.000Z","updated":"2020-05-11T01:11:50.837Z","comments":true,"pin":null,"path":"api/articles/Cloudwatch.json","excerpt":"","keywords":null,"cover":"https://user-images.githubusercontent.com/62123161/81136824-a1773800-8f97-11ea-92eb-48864ea3c85c.png","content":"<h2 id=\"개발환경-구축\"><a href=\"#개발환경-구축\" class=\"headerlink\" title=\"개발환경 구축\"></a>개발환경 구축</h2><p>※ 기본 개발환경</p>\n<ul>\n<li>IntelliJ</li>\n<li>Java, Spring</li>\n<li>AWS Console</li>\n</ul>\n<h2 id=\"CloudWatch-설명\"><a href=\"#CloudWatch-설명\" class=\"headerlink\" title=\"CloudWatch 설명\"></a>CloudWatch 설명</h2><p>관련정보1 : <a href=\"https://aws.amazon.com/ko/blogs/korea/new-amazon-cloudwatch-logs-insights-fast-interactive-log-analytics/\" target=\"_blank\" rel=\"noopener\">AWS 한국블로그 CloudWatch Logs Insights – 빠른 대화형 로그 분석 기능 출시 (서울 리전 포함)</a><br>관련정보2 : <a href=\"http://labs.brandi.co.kr/2019/05/30/kwakjs.html\" target=\"_blank\" rel=\"noopener\">CloudWatch에 대하여 AWS 리소스를 효과적으로 모니터링하기</a>  / 브랜디 랩스(Brandi Labs) 곽정섭 과장<br>관련정보3 : <a href=\"https://docs.aws.amazon.com/ko_kr/AmazonCloudWatch/latest/logs/AnalyzingLogData.html\" target=\"_blank\" rel=\"noopener\">CloudWatch Logs Insights로 로그 데이터 분석 (샘플많음)</a></p>\n<p>Cloudwatch는 통합 뷰를 확보하는데 필요한 데이터를 제공합니다. 뿐만 아니라 이벤트 및 리소스를 이용해 경보를 생성할 수도 있습니다.</p>\n<ol>\n<li>Events</li>\n<li>Logs</li>\n<li>Custom Metrics(맞춤형 지표) 생성하기</li>\n<li>Alarm 생성</li>\n<li>Dashboards<br>쉬어가기: Query 언어가 지원하는 여섯 가지 명령 유형</li>\n</ol>\n<h3 id=\"1-Events\"><a href=\"#1-Events\" class=\"headerlink\" title=\"1. Events\"></a>1. Events</h3><ul>\n<li>CloudWatch Events는 정기적인 일정에서 트리거(trigger)되는 규칙을 생성할 수 있습니다.</li>\n</ul>\n<h4 id=\"1-규칙-생성을-클릭합니다\"><a href=\"#1-규칙-생성을-클릭합니다\" class=\"headerlink\" title=\"1) 규칙 생성을 클릭합니다.\"></a>1) 규칙 생성을 클릭합니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136824-a1773800-8f97-11ea-92eb-48864ea3c85c.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136824-a1773800-8f97-11ea-92eb-48864ea3c85c.png\" alt=\"cloudwatch_01\"></a></p>\n<h4 id=\"2-대상을-호출할-일정을-설정합니다\"><a href=\"#2-대상을-호출할-일정을-설정합니다\" class=\"headerlink\" title=\"2) 대상을 호출할 일정을 설정합니다.\"></a>2) 대상을 호출할 일정을 설정합니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136819-9fad7480-8f97-11ea-82b4-cf0ae2055c46.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136819-9fad7480-8f97-11ea-82b4-cf0ae2055c46.png\" alt=\"cloudwatch_02\"></a></p>\n<ul>\n<li>호출 방식에는 이벤트 패턴과 일정 두 가지가 있습니다. 이벤트 패턴은 json 구조로 표현됩니다. AWS 서비스에서 발생하는 패턴과 일치하면 트리거가 동작합니다. 일정은 지정한 시간과 일치하면 트리거가 동작합니다.</li>\n<li>cron 또는 rate 표현식을 사용해 예약된 모든 이벤트는 UTC+09:00 시간대를 사용합니다. 최초 단위는 1분입니다.</li>\n<li>아래는 각각의 필드에 대한 일정 cron식 설명입니다.<br><a href=\"https://user-images.githubusercontent.com/62123161/81136870-ac31cd00-8f97-11ea-869f-34e38e5832dd.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136870-ac31cd00-8f97-11ea-869f-34e38e5832dd.png\" alt=\"cloudwatch_03\"></a></li>\n</ul>\n<p>이번 예제에서는 특정 시간에 트리거되는 일정으로 설정하겠습니다.</p>\n<pre><code>매일 4시에 동작하도록 설정\n19 + 9(UTC) - 24(하루) = 새벽 4시</code></pre><h4 id=\"3-대상-추가를-선택해-호출할-대상을-지정합니다\"><a href=\"#3-대상-추가를-선택해-호출할-대상을-지정합니다\" class=\"headerlink\" title=\"3) 대상 추가를 선택해 호출할 대상을 지정합니다.\"></a>3) 대상 추가를 선택해 호출할 대상을 지정합니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136868-ab993680-8f97-11ea-86ca-acc176cea2ee.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136868-ab993680-8f97-11ea-86ca-acc176cea2ee.png\" alt=\"cloudwatch_04\"></a></p>\n<ul>\n<li>Lambda 함수 외에 여러 서비스를 선택할 수 있지만 이번 예제에서는 Lambda 함수를 지정하여 구성하겠습니다.</li>\n</ul>\n<h4 id=\"4-규칙의-이름과-설명을-등록하고-규칙-생성을-클릭합니다\"><a href=\"#4-규칙의-이름과-설명을-등록하고-규칙-생성을-클릭합니다\" class=\"headerlink\" title=\"4) 규칙의 이름과 설명을 등록하고 규칙 생성을 클릭합니다.\"></a>4) 규칙의 이름과 설명을 등록하고 규칙 생성을 클릭합니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136867-ab993680-8f97-11ea-8521-791899fc62a1.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136867-ab993680-8f97-11ea-8521-791899fc62a1.png\" alt=\"cloudwatch_05\"></a></p>\n<h4 id=\"5-규칙이-생성된-것을-볼-수-있습니다\"><a href=\"#5-규칙이-생성된-것을-볼-수-있습니다\" class=\"headerlink\" title=\"5) 규칙이 생성된 것을 볼 수 있습니다.\"></a>5) 규칙이 생성된 것을 볼 수 있습니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136866-ab00a000-8f97-11ea-85dd-bcc0d63b6a6b.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136866-ab00a000-8f97-11ea-85dd-bcc0d63b6a6b.png\" alt=\"cloudwatch_06\"></a></p>\n<h3 id=\"2-Logs\"><a href=\"#2-Logs\" class=\"headerlink\" title=\"2. Logs\"></a>2. Logs</h3><ul>\n<li>CloudWatch Logs는 운영 중인 애플리케이션 리소스를 기록하고 액세스할 수 있으며, 관련된 로그 데이터를 검색할 수도 있습니다.</li>\n</ul>\n<h4 id=\"1-생성된-규칙이-지정된-시간에-동작하면-CloudWatch-Logs에-로그-그룹이-생성된-걸-확인할-수-있습니다\"><a href=\"#1-생성된-규칙이-지정된-시간에-동작하면-CloudWatch-Logs에-로그-그룹이-생성된-걸-확인할-수-있습니다\" class=\"headerlink\" title=\"1) 생성된 규칙이 지정된 시간에 동작하면 CloudWatch Logs에 로그 그룹이 생성된 걸 확인할 수 있습니다.\"></a>1) 생성된 규칙이 지정된 시간에 동작하면 CloudWatch Logs에 로그 그룹이 생성된 걸 확인할 수 있습니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136865-ab00a000-8f97-11ea-90ac-b424d7c50232.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136865-ab00a000-8f97-11ea-90ac-b424d7c50232.png\" alt=\"cloudwatch_07\"></a></p>\n<h4 id=\"2-Lambda-함수에서-실행된-로그-메시지를-확인할-수-있으며-필터링도-가능합니다\"><a href=\"#2-Lambda-함수에서-실행된-로그-메시지를-확인할-수-있으며-필터링도-가능합니다\" class=\"headerlink\" title=\"2) Lambda 함수에서 실행된 로그 메시지를 확인할 수 있으며 필터링도 가능합니다.\"></a>2) Lambda 함수에서 실행된 로그 메시지를 확인할 수 있으며 필터링도 가능합니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136864-aa680980-8f97-11ea-8eef-41e82e9dc268.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136864-aa680980-8f97-11ea-8eef-41e82e9dc268.png\" alt=\"cloudwatch_08\"></a></p>\n<h4 id=\"3-로그-그룹에-이벤트-만료-시점을-설정해-오래된-데이터는-모두-자동으로-삭제되도록-설정할-수-있습니다\"><a href=\"#3-로그-그룹에-이벤트-만료-시점을-설정해-오래된-데이터는-모두-자동으로-삭제되도록-설정할-수-있습니다\" class=\"headerlink\" title=\"3) 로그 그룹에 이벤트 만료 시점을 설정해 오래된 데이터는 모두 자동으로 삭제되도록 설정할 수 있습니다.\"></a>3) 로그 그룹에 이벤트 만료 시점을 설정해 오래된 데이터는 모두 자동으로 삭제되도록 설정할 수 있습니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136863-aa680980-8f97-11ea-8c89-481f9d2a5e96.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136863-aa680980-8f97-11ea-8c89-481f9d2a5e96.png\" alt=\"cloudwatch_09\"></a></p>\n<h3 id=\"3-Custom-Metrics-맞춤형-지표-생성하기\"><a href=\"#3-Custom-Metrics-맞춤형-지표-생성하기\" class=\"headerlink\" title=\"3. Custom Metrics(맞춤형 지표) 생성하기\"></a>3. Custom Metrics(맞춤형 지표) 생성하기</h3><ul>\n<li>모니터링하고자 하는 통계치를 직접 선정하고, CloudWatch로 보내 관리하는 지표를 생성해보겠습니다.</li>\n</ul>\n<h4 id=\"1-Log-Groups에-대한-지표를-생성하겠습니다-해당-Log-Groups에-‘Filters’를-클릭합니다\"><a href=\"#1-Log-Groups에-대한-지표를-생성하겠습니다-해당-Log-Groups에-‘Filters’를-클릭합니다\" class=\"headerlink\" title=\"1) Log Groups에 대한 지표를 생성하겠습니다. 해당 Log Groups에 ‘Filters’를 클릭합니다.\"></a>1) Log Groups에 대한 지표를 생성하겠습니다. 해당 Log Groups에 ‘Filters’를 클릭합니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136861-a9cf7300-8f97-11ea-962b-2ae12f327932.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136861-a9cf7300-8f97-11ea-962b-2ae12f327932.png\" alt=\"cloudwatch_10\"></a></p>\n<h4 id=\"2-‘Add-Metric-Filter’를-클릭합니다\"><a href=\"#2-‘Add-Metric-Filter’를-클릭합니다\" class=\"headerlink\" title=\"2) ‘Add Metric Filter’를 클릭합니다.\"></a>2) ‘Add Metric Filter’를 클릭합니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136860-a9cf7300-8f97-11ea-8fcb-f458d334ba84.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136860-a9cf7300-8f97-11ea-8fcb-f458d334ba84.png\" alt=\"cloudwatch_11\"></a></p>\n<h4 id=\"3-로그-지표에-대한-필터-패턴을-정의합니다\"><a href=\"#3-로그-지표에-대한-필터-패턴을-정의합니다\" class=\"headerlink\" title=\"3) 로그 지표에 대한 필터 패턴을 정의합니다.\"></a>3) 로그 지표에 대한 필터 패턴을 정의합니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136859-a936dc80-8f97-11ea-98e9-17f750bde971.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136859-a936dc80-8f97-11ea-98e9-17f750bde971.png\" alt=\"cloudwatch_12\"></a></p>\n<p>[Filter Pattern]</p>\n<ul>\n<li>“INFO Success 200” → 세 단어를 모두 포함하는 로그 이벤트 메시지와 일치</li>\n<li>“INFO - Start - End” → ‘INFO’ 포함된 메시지 중에 ‘Start’, ‘End’ 제외된 필터 로그 이벤트 메시지와 일치</li>\n</ul>\n<h4 id=\"4-필터-및-지표-정보를-입력한-후-‘Create-Filter’를-클릭합니다\"><a href=\"#4-필터-및-지표-정보를-입력한-후-‘Create-Filter’를-클릭합니다\" class=\"headerlink\" title=\"4) 필터 및 지표 정보를 입력한 후 ‘Create Filter’를 클릭합니다.\"></a>4) 필터 및 지표 정보를 입력한 후 ‘Create Filter’를 클릭합니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136858-a936dc80-8f97-11ea-882c-d3ccae0441c8.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136858-a936dc80-8f97-11ea-882c-d3ccae0441c8.png\" alt=\"cloudwatch_13\"></a></p>\n<p>[Metric Details]</p>\n<ul>\n<li>Metric Namespace → CloudWatch 지표에 대한 대상 네임 스페이스</li>\n<li>Metric Name → 모니터링된 로그 정보가 게시되는 CloudWatch 지표의 이름</li>\n<li>Metric Value → 일치하는 로그가 발견될 때마다 지표에 게시하는 숫자 값</li>\n<li>Default Value → 일치하는 로그가 발견되지 않은 기간 동안 지표 필터에 보고되는 값</li>\n</ul>\n<h4 id=\"5-두-가지-케이스의-필터를-생성했습니다\"><a href=\"#5-두-가지-케이스의-필터를-생성했습니다\" class=\"headerlink\" title=\"5) 두 가지 케이스의 필터를 생성했습니다.\"></a>5) 두 가지 케이스의 필터를 생성했습니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136857-a89e4600-8f97-11ea-9084-35ce4d7b7fc8.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136857-a89e4600-8f97-11ea-9084-35ce4d7b7fc8.png\" alt=\"cloudwatch_14\"></a></p>\n<h3 id=\"4-Alarm-생성\"><a href=\"#4-Alarm-생성\" class=\"headerlink\" title=\"4. Alarm 생성\"></a>4. Alarm 생성</h3><ul>\n<li>단일 CloudWatch 지표를 감시하거나 CloudWatch 측정치를 기반으로 하는 수학 표현식의 결과를 감시하는 CloudWatch 경보를 생성할 수 있습니다. 지표가 지정된 임계값에 도달하면 자동으로 이메일을 보내는 Alarm을 만들어보겠습니다.</li>\n</ul>\n<h4 id=\"1-추가된-지표-필터에-‘Create-Alarm’-버튼을-클릭해-경보를-추가합니다\"><a href=\"#1-추가된-지표-필터에-‘Create-Alarm’-버튼을-클릭해-경보를-추가합니다\" class=\"headerlink\" title=\"1) 추가된 지표 필터에 ‘Create Alarm’ 버튼을 클릭해 경보를 추가합니다.\"></a>1) 추가된 지표 필터에 ‘Create Alarm’ 버튼을 클릭해 경보를 추가합니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136856-a805af80-8f97-11ea-94ee-0f7a54314ac6.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136856-a805af80-8f97-11ea-94ee-0f7a54314ac6.png\" alt=\"cloudwatch_15\"></a></p>\n<h4 id=\"2-경보-세부-정보-및-수행할-작업을-정의합니다\"><a href=\"#2-경보-세부-정보-및-수행할-작업을-정의합니다\" class=\"headerlink\" title=\"2) 경보 세부 정보 및 수행할 작업을 정의합니다.\"></a>2) 경보 세부 정보 및 수행할 작업을 정의합니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136853-a805af80-8f97-11ea-88ae-7f0f0004a3f9.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136853-a805af80-8f97-11ea-88ae-7f0f0004a3f9.png\" alt=\"cloudwatch_16\"></a></p>\n<p>[경보 평가]</p>\n<ul>\n<li>경보를 생성할 때, CloudWatch가 경보 상태를 변경하는 조건 세 가지에 대한 설정을 지정할 수 있습니다.</li>\n<li>기간은 경보에 대해 개별 데이터 포인트를 생성하기 위해 지표 또는 표현식을 평가하는 기간입니다. 초로 표시됩니다. 1분을 기간으로 선택하면 1분마다 하나의 데이터 포인트가 생성됩니다.</li>\n<li>Evaluation Period(평가 기간)는 경보 상태를 결정할 때 평가할 가장 최근의 기간 또는 데이터 포인트의 수입니다.</li>\n<li>Datapoints to Alarm(경보에 대한 데이터포인트)는 평가 기간에 경보가 ALARM상태에 도달하게 만드는 위반 데이터 포인트의 수입니다. 위반 데이터 포인트가 연속적일 필요는 없습니다. Evaluation Period(평가 기간)와 동일한 마지막 데이터 포인트의 수 이내면 됩니다.</li>\n</ul>\n<h4 id=\"3-경보가-발생할-Alarm-상태와-알림-받을-이메일을-등록합니다\"><a href=\"#3-경보가-발생할-Alarm-상태와-알림-받을-이메일을-등록합니다\" class=\"headerlink\" title=\"3) 경보가 발생할 Alarm 상태와 알림 받을 이메일을 등록합니다.\"></a>3) 경보가 발생할 Alarm 상태와 알림 받을 이메일을 등록합니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136851-a76d1900-8f97-11ea-935c-e3f135265dad.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136851-a76d1900-8f97-11ea-935c-e3f135265dad.png\" alt=\"cloudwatch_17\"></a></p>\n<p>[경보 상태]</p>\n<ul>\n<li>/OK/ 지표 또는 표현식이 정의된 임계값 내에 있습니다.</li>\n<li>/ALARM/ 지표 또는 표현식이 정의된 임계값을 벗어났습니다.</li>\n<li>/INSUFFICIENT_DATA/ 경보가 방금 시작되었거나, 측정치를 사용할 수 없거나, 또는 측정치를 통해 경보 상태를 결정하는데 사용할 충분한 데이터가 없습니다.</li>\n</ul>\n<h4 id=\"4-이메일-수신함에서-‘AWS-알림-구독-확인’이라는-제목의-메일을-클릭합니다-내용에-포함된-링크를-클릭해-알림을-수신할-것을-확인합니다-AWS는-확인된-주소로만-알림을-전송할-수-있습니다\"><a href=\"#4-이메일-수신함에서-‘AWS-알림-구독-확인’이라는-제목의-메일을-클릭합니다-내용에-포함된-링크를-클릭해-알림을-수신할-것을-확인합니다-AWS는-확인된-주소로만-알림을-전송할-수-있습니다\" class=\"headerlink\" title=\"4) 이메일 수신함에서 ‘AWS 알림 - 구독 확인’이라는 제목의 메일을 클릭합니다. 내용에 포함된 링크를 클릭해 알림을 수신할 것을 확인합니다. (AWS는 확인된 주소로만 알림을 전송할 수 있습니다.)\"></a>4) 이메일 수신함에서 ‘AWS 알림 - 구독 확인’이라는 제목의 메일을 클릭합니다. 내용에 포함된 링크를 클릭해 알림을 수신할 것을 확인합니다. (AWS는 확인된 주소로만 알림을 전송할 수 있습니다.)</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136849-a76d1900-8f97-11ea-82db-d3e87858e425.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136849-a76d1900-8f97-11ea-82db-d3e87858e425.png\" alt=\"cloudwatch_18\"></a></p>\n<h4 id=\"5-이메일-수신함을-확인해-‘Confirm-subscription’을-클릭합니다\"><a href=\"#5-이메일-수신함을-확인해-‘Confirm-subscription’을-클릭합니다\" class=\"headerlink\" title=\"5) 이메일 수신함을 확인해 ‘Confirm subscription’을 클릭합니다.\"></a>5) 이메일 수신함을 확인해 ‘Confirm subscription’을 클릭합니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136848-a6d48280-8f97-11ea-8f5d-8002c1d79f6e.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136848-a6d48280-8f97-11ea-8f5d-8002c1d79f6e.png\" alt=\"cloudwatch_19\"></a></p>\n<h4 id=\"6-등록한-이메일이-확인되었습니다\"><a href=\"#6-등록한-이메일이-확인되었습니다\" class=\"headerlink\" title=\"6) 등록한 이메일이 확인되었습니다.\"></a>6) 등록한 이메일이 확인되었습니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136846-a6d48280-8f97-11ea-9330-9c8e104c4c71.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136846-a6d48280-8f97-11ea-9330-9c8e104c4c71.png\" alt=\"cloudwatch_20\"></a></p>\n<h4 id=\"7-AWS에-이메일이-정상적으로-등록되었는지-SNS-Subscriptions-메뉴에서-확인합니다\"><a href=\"#7-AWS에-이메일이-정상적으로-등록되었는지-SNS-Subscriptions-메뉴에서-확인합니다\" class=\"headerlink\" title=\"7) AWS에 이메일이 정상적으로 등록되었는지 SNS Subscriptions 메뉴에서 확인합니다.\"></a>7) AWS에 이메일이 정상적으로 등록되었는지 SNS Subscriptions 메뉴에서 확인합니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136843-a63bec00-8f97-11ea-8d8c-62337063d511.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136843-a63bec00-8f97-11ea-8d8c-62337063d511.png\" alt=\"cloudwatch_21\"></a></p>\n<h4 id=\"8-Lambda를-실행해-Alarm-상태를-변경해보겠습니다\"><a href=\"#8-Lambda를-실행해-Alarm-상태를-변경해보겠습니다\" class=\"headerlink\" title=\"8) Lambda를 실행해 Alarm 상태를 변경해보겠습니다.\"></a>8) Lambda를 실행해 Alarm 상태를 변경해보겠습니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136842-a5a35580-8f97-11ea-855d-fd985915dced.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136842-a5a35580-8f97-11ea-855d-fd985915dced.png\" alt=\"cloudwatch_22\"></a></p>\n<h4 id=\"9-등록한-이메일-주소로-Alarm-메일이-도착했습니다\"><a href=\"#9-등록한-이메일-주소로-Alarm-메일이-도착했습니다\" class=\"headerlink\" title=\"9) 등록한 이메일 주소로 Alarm 메일이 도착했습니다.\"></a>9) 등록한 이메일 주소로 Alarm 메일이 도착했습니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136841-a5a35580-8f97-11ea-959b-6309f5e07572.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136841-a5a35580-8f97-11ea-959b-6309f5e07572.png\" alt=\"cloudwatch_23\"></a></p>\n<h3 id=\"5-Dashboards\"><a href=\"#5-Dashboards\" class=\"headerlink\" title=\"5. Dashboards\"></a>5. Dashboards</h3><ul>\n<li>CloudWatch를 통해 리소스를 손쉽게 모니터링할 수 있는 맞춤형 통계 기능입니다.</li>\n</ul>\n<h4 id=\"1-Metric-Filter에서-추가된-Custom-Namespaces를-클릭합니다\"><a href=\"#1-Metric-Filter에서-추가된-Custom-Namespaces를-클릭합니다\" class=\"headerlink\" title=\"1) Metric Filter에서 추가된 Custom Namespaces를 클릭합니다.\"></a>1) Metric Filter에서 추가된 Custom Namespaces를 클릭합니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136840-a50abf00-8f97-11ea-8cbe-0e2430cf7490.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136840-a50abf00-8f97-11ea-8cbe-0e2430cf7490.png\" alt=\"cloudwatch_24\"></a></p>\n<h4 id=\"2-생성된-Metrics를-선택한-후-Graphed-metrics-Tab을-클릭합니다\"><a href=\"#2-생성된-Metrics를-선택한-후-Graphed-metrics-Tab을-클릭합니다\" class=\"headerlink\" title=\"2) 생성된 Metrics를 선택한 후, Graphed metrics Tab을 클릭합니다.\"></a>2) 생성된 Metrics를 선택한 후, Graphed metrics Tab을 클릭합니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136839-a50abf00-8f97-11ea-8ee6-8cb8911478b0.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136839-a50abf00-8f97-11ea-8ee6-8cb8911478b0.png\" alt=\"cloudwatch_25\"></a></p>\n<h4 id=\"3-Metrics에-표시될-그래프를-설정합니다\"><a href=\"#3-Metrics에-표시될-그래프를-설정합니다\" class=\"headerlink\" title=\"3) Metrics에 표시될 그래프를 설정합니다.\"></a>3) Metrics에 표시될 그래프를 설정합니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136838-a4722880-8f97-11ea-97c4-43f2206da42b.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136838-a4722880-8f97-11ea-97c4-43f2206da42b.png\" alt=\"cloudwatch_26\"></a><br>1)그래프 제목 : testLambda1<br>2)그래프 표시 : 숫자<br>3)그래프 라벨 : testMetrics-400, testMetrics-200<br>4)통계 : 합계<br>5)기간 : 1 Day</p>\n<h4 id=\"4-수식을-응용하여-여러-형식의-Metrics-표현식을-추가하겠습니다\"><a href=\"#4-수식을-응용하여-여러-형식의-Metrics-표현식을-추가하겠습니다\" class=\"headerlink\" title=\"4) 수식을 응용하여 여러 형식의 Metrics 표현식을 추가하겠습니다.\"></a>4) 수식을 응용하여 여러 형식의 Metrics 표현식을 추가하겠습니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136836-a4722880-8f97-11ea-907d-beb1c41de5d7.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136836-a4722880-8f97-11ea-907d-beb1c41de5d7.png\" alt=\"cloudwatch_27\"></a><br>지표 수식 함수</p>\n<ul>\n<li>METRICS() : 요청에 모든 지표를 반환</li>\n<li>SUM(METRICS()) : 모든 지표의 합계</li>\n<li>AVG(METRICS()) : 모든 지표의 평균</li>\n<li>MIN(METRICS()) : 모든 지표의 최소값</li>\n<li>MAX(METRICS()) : 모든 지표의 최대값</li>\n<li>ABS(METRICS()) : 각 요소의 절대값</li>\n<li>RATE(METRICS()) : 각 요소의 초당 변경 비율</li>\n</ul>\n<h4 id=\"5-완성된-지표-Source를-복사합니다\"><a href=\"#5-완성된-지표-Source를-복사합니다\" class=\"headerlink\" title=\"5) 완성된 지표 Source를 복사합니다.\"></a>5) 완성된 지표 Source를 복사합니다.</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">        <span class=\"string\">\"metrics\"</span>: [</span><br><span class=\"line\">            [ &#123; <span class=\"string\">\"expression\"</span>: <span class=\"string\">\"SUM(METRICS())\"</span>, <span class=\"string\">\"label\"</span>: <span class=\"string\">\"합계\"</span>, <span class=\"string\">\"id\"</span>: <span class=\"string\">\"e1\"</span>, <span class=\"string\">\"stat\"</span>: <span class=\"string\">\"Sum\"</span>, <span class=\"string\">\"period\"</span>: 86400 &#125; ],</span><br><span class=\"line\">            [ &#123; <span class=\"string\">\"expression\"</span>: <span class=\"string\">\"AVG(METRICS())\"</span>, <span class=\"string\">\"label\"</span>: <span class=\"string\">\"평균\"</span>, <span class=\"string\">\"id\"</span>: <span class=\"string\">\"e2\"</span>, <span class=\"string\">\"stat\"</span>: <span class=\"string\">\"Sum\"</span>, <span class=\"string\">\"period\"</span>: 86400 &#125; ],</span><br><span class=\"line\">            [ &#123; <span class=\"string\">\"expression\"</span>: <span class=\"string\">\"MIN(METRICS())\"</span>, <span class=\"string\">\"label\"</span>: <span class=\"string\">\"최소값\"</span>, <span class=\"string\">\"id\"</span>: <span class=\"string\">\"e3\"</span>, <span class=\"string\">\"stat\"</span>: <span class=\"string\">\"Sum\"</span>, <span class=\"string\">\"period\"</span>: 86400 &#125; ],</span><br><span class=\"line\">            [ &#123; <span class=\"string\">\"expression\"</span>: <span class=\"string\">\"MAX(METRICS())\"</span>, <span class=\"string\">\"label\"</span>: <span class=\"string\">\"최대값\"</span>, <span class=\"string\">\"id\"</span>: <span class=\"string\">\"e4\"</span>, <span class=\"string\">\"stat\"</span>: <span class=\"string\">\"Sum\"</span>, <span class=\"string\">\"period\"</span>: 86400 &#125; ],</span><br><span class=\"line\">            [ &#123; <span class=\"string\">\"expression\"</span>: <span class=\"string\">\"SUM(METRICS())/SUM(m1)\"</span>, <span class=\"string\">\"label\"</span>: <span class=\"string\">\"SUM(METRICS())/SUM(m1)\"</span>, <span class=\"string\">\"id\"</span>: <span class=\"string\">\"e5\"</span>, <span class=\"string\">\"stat\"</span>: <span class=\"string\">\"Sum\"</span>, <span class=\"string\">\"period\"</span>: 86400 &#125; ],</span><br><span class=\"line\">            [ &#123; <span class=\"string\">\"expression\"</span>: <span class=\"string\">\"SUM(100/[m1, m2])\"</span>, <span class=\"string\">\"label\"</span>: <span class=\"string\">\"SUM(100/[m1, m2])\"</span>, <span class=\"string\">\"id\"</span>: <span class=\"string\">\"e6\"</span>, <span class=\"string\">\"stat\"</span>: <span class=\"string\">\"Sum\"</span>, <span class=\"string\">\"period\"</span>: 86400 &#125; ],</span><br><span class=\"line\">            [ <span class=\"string\">\"testMetrics\"</span>, <span class=\"string\">\"testMetrics1\"</span>, &#123; <span class=\"string\">\"id\"</span>: <span class=\"string\">\"m1\"</span>, <span class=\"string\">\"stat\"</span>: <span class=\"string\">\"Sum\"</span>, <span class=\"string\">\"period\"</span>: 86400, <span class=\"string\">\"label\"</span>: <span class=\"string\">\"testMetrics-400\"</span> &#125; ],</span><br><span class=\"line\">            [ <span class=\"string\">\".\"</span>, <span class=\"string\">\"testMetrics2\"</span>, &#123; <span class=\"string\">\"id\"</span>: <span class=\"string\">\"m2\"</span>, <span class=\"string\">\"stat\"</span>: <span class=\"string\">\"Sum\"</span>, <span class=\"string\">\"period\"</span>: 86400, <span class=\"string\">\"label\"</span>: <span class=\"string\">\"testMetrics-200\"</span> &#125; ]</span><br><span class=\"line\">        ],</span><br><span class=\"line\">        <span class=\"string\">\"view\"</span>: <span class=\"string\">\"singleValue\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"stacked\"</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        <span class=\"string\">\"region\"</span>: <span class=\"string\">\"ap-northeast-1\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"title\"</span>: <span class=\"string\">\"testLambda1\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"period\"</span>: 300</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"6-Dashboard-name을-입력한-후-‘Create-dashboard’를-클릭합니다\"><a href=\"#6-Dashboard-name을-입력한-후-‘Create-dashboard’를-클릭합니다\" class=\"headerlink\" title=\"6) Dashboard name을 입력한 후 ‘Create dashboard’를 클릭합니다.\"></a>6) Dashboard name을 입력한 후 ‘Create dashboard’를 클릭합니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136835-a3d99200-8f97-11ea-8191-b4e2c9f02c03.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136835-a3d99200-8f97-11ea-8191-b4e2c9f02c03.png\" alt=\"cloudwatch_28\"></a></p>\n<h4 id=\"7-‘Add-widget’을-클릭해-Number-유형을-선택합니다\"><a href=\"#7-‘Add-widget’을-클릭해-Number-유형을-선택합니다\" class=\"headerlink\" title=\"7) ‘Add widget’을 클릭해 Number 유형을 선택합니다.\"></a>7) ‘Add widget’을 클릭해 Number 유형을 선택합니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136834-a3d99200-8f97-11ea-8da8-927ad96585d7.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136834-a3d99200-8f97-11ea-8da8-927ad96585d7.png\" alt=\"cloudwatch_29\"></a></p>\n<h4 id=\"8-Source-Tab에서-복사해-둔-지표-Source를-붙여-넣고-‘Create-widget’을-클릭합니다\"><a href=\"#8-Source-Tab에서-복사해-둔-지표-Source를-붙여-넣고-‘Create-widget’을-클릭합니다\" class=\"headerlink\" title=\"8) Source Tab에서 복사해 둔 지표 Source를 붙여 넣고, ‘Create widget’을 클릭합니다.\"></a>8) Source Tab에서 복사해 둔 지표 Source를 붙여 넣고, ‘Create widget’을 클릭합니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136832-a340fb80-8f97-11ea-8f4d-77fe2cfd7a4c.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136832-a340fb80-8f97-11ea-8f4d-77fe2cfd7a4c.png\" alt=\"cloudwatch_30\"></a></p>\n<h4 id=\"9-위젯이-추가되었습니다-추가된-위젯은-‘Save-dashboard’-버튼을-클릭해야-최종-저장됩니다\"><a href=\"#9-위젯이-추가되었습니다-추가된-위젯은-‘Save-dashboard’-버튼을-클릭해야-최종-저장됩니다\" class=\"headerlink\" title=\"9) 위젯이 추가되었습니다. 추가된 위젯은 ‘Save dashboard’ 버튼을 클릭해야 최종 저장됩니다.\"></a>9) 위젯이 추가되었습니다. 추가된 위젯은 ‘Save dashboard’ 버튼을 클릭해야 최종 저장됩니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136831-a340fb80-8f97-11ea-9b4f-5ab95ce56018.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136831-a340fb80-8f97-11ea-9b4f-5ab95ce56018.png\" alt=\"cloudwatch_31\"></a></p>\n<h4 id=\"10-이번에는-로그-메시지-결과를-확인할-수-있는-Query-result-유형을-추가해보겠습니다-먼저-Query-result-유형을-선택합니다\"><a href=\"#10-이번에는-로그-메시지-결과를-확인할-수-있는-Query-result-유형을-추가해보겠습니다-먼저-Query-result-유형을-선택합니다\" class=\"headerlink\" title=\"10) 이번에는 로그 메시지 결과를 확인할 수 있는 Query result 유형을 추가해보겠습니다. 먼저 Query result 유형을 선택합니다.\"></a>10) 이번에는 로그 메시지 결과를 확인할 수 있는 Query result 유형을 추가해보겠습니다. 먼저 Query result 유형을 선택합니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136829-a2a86500-8f97-11ea-91d0-d110cf5c29f5.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136829-a2a86500-8f97-11ea-91d0-d110cf5c29f5.png\" alt=\"cloudwatch_32\"></a></p>\n<h4 id=\"11-로그-메시지에-조건을-추가해-필터링합니다\"><a href=\"#11-로그-메시지에-조건을-추가해-필터링합니다\" class=\"headerlink\" title=\"11) 로그 메시지에 조건을 추가해 필터링합니다.\"></a>11) 로그 메시지에 조건을 추가해 필터링합니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136827-a20fce80-8f97-11ea-9f19-6cfd6beb18eb.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136827-a20fce80-8f97-11ea-9f19-6cfd6beb18eb.png\" alt=\"cloudwatch_33\"></a></p>\n<h3 id=\"잠시-쉬어가기-Query-언어가-지원하는-여섯-가지-명령-유형\"><a href=\"#잠시-쉬어가기-Query-언어가-지원하는-여섯-가지-명령-유형\" class=\"headerlink\" title=\"잠시 쉬어가기!: Query 언어가 지원하는 여섯 가지 명령 유형\"></a>잠시 쉬어가기!: Query 언어가 지원하는 여섯 가지 명령 유형</h3><ul>\n<li>fields : 지정한 필드를 검색합니다. 필드 명령 내에서 함수 및 연산을 사용할 수 있습니다. 만약 @ 기호, 마침표(.) 및 영숫자 문자 이외의 문자가 포함된 로그 필드가 쿼리에 명명되어 있으면 해당 필드 이름은 억음 기호로 둘러싸야 합니다.</li>\n<li>filter : 하나 이상의 조건으로 필터링합니다. filter statusCode like /2\\d\\d/ → 필드 statusCode의 값이 200~299인 로그 이벤트를 반환합니다.</li>\n<li>stats : 로그 필드에 대한 지정된 시간 간격의 집계 통계를 계산합니다.</li>\n<li>sort : 검색된 로그 이벤트를 정렬합니다.</li>\n<li>limit : 쿼리에서 반환되는 로그 이벤트 수를 제한합니다.</li>\n<li>parse : 로그 필드에서 데이터를 추출하고 쿼리로 추가 처리할 수 있는 임시 필드가 하나 이상 생성됩니다.</li>\n</ul>\n<h4 id=\"12-추가된-위젯은-이름과-사이즈를-조절한-후-‘Save-dashboard’-버튼을-클릭해-최종-저장합니다\"><a href=\"#12-추가된-위젯은-이름과-사이즈를-조절한-후-‘Save-dashboard’-버튼을-클릭해-최종-저장합니다\" class=\"headerlink\" title=\"12) 추가된 위젯은 이름과 사이즈를 조절한 후, ‘Save dashboard’ 버튼을 클릭해 최종 저장합니다.\"></a>12) 추가된 위젯은 이름과 사이즈를 조절한 후, ‘Save dashboard’ 버튼을 클릭해 최종 저장합니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136826-a20fce80-8f97-11ea-9d48-15aaf95ed8f1.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136826-a20fce80-8f97-11ea-9d48-15aaf95ed8f1.png\" alt=\"cloudwatch_34\"></a></p>\n<h4 id=\"13-생성한-Alarm을-Dashboard에-추가하겠습니다\"><a href=\"#13-생성한-Alarm을-Dashboard에-추가하겠습니다\" class=\"headerlink\" title=\"13) 생성한 Alarm을 Dashboard에 추가하겠습니다.\"></a>13) 생성한 Alarm을 Dashboard에 추가하겠습니다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81136825-a1773800-8f97-11ea-8fdd-f1feabed06f6.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81136825-a1773800-8f97-11ea-8fdd-f1feabed06f6.png\" alt=\"cloudwatch_35\"></a></p>\n<h4 id=\"14-Dashboard가-완성되었습니다\"><a href=\"#14-Dashboard가-완성되었습니다\" class=\"headerlink\" title=\"14) Dashboard가 완성되었습니다!\"></a>14) Dashboard가 완성되었습니다!</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81138255-6b888280-8f9c-11ea-9951-642b9679774b.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81138255-6b888280-8f9c-11ea-9951-642b9679774b.png\" alt=\"cloudwatch_36\"></a></p>\n<h2 id=\"결론\"><a href=\"#결론\" class=\"headerlink\" title=\"결론\"></a>결론</h2><p>지금까지 CloudWatch 서비스를 소개했습니다. 이 서비스를 이용하면 로그와 지표를 쉽게 시각화할 수 있고, 작업을 자동화할 수도 있는 것을 확인했습니다. CloudWatch를 이용해 애플리케이션을 최적화하고, 원활하게 실행해보는 건 어떨까요. 분명 리소스를 효과적으로 다룰 수 있을 겁니다.</p>\n","text":"개발환경 구축※ 기본 개발환경IntelliJJava, SpringAWS ConsoleCloudWatch 설명관련정보1 : AWS 한국블로그 CloudWatch Logs Insights – 빠른 대화형 로그 분석 기능 출시 (서울 리전 포함)<br>관련","link":"","raw":null,"photos":[],"categories":[{"name":"tip","slug":"tip","count":23,"path":"api/categories/tip.json"}],"tags":[{"name":"AWS","slug":"AWS","count":14,"path":"api/tags/AWS.json"},{"name":"cloudwatch","slug":"cloudwatch","count":1,"path":"api/tags/cloudwatch.json"},{"name":"event","slug":"event","count":1,"path":"api/tags/event.json"}]},{"title":"DynamoDB","slug":"DynamoDB","date":"2020-05-06T02:26:44.000Z","updated":"2020-05-11T01:12:35.496Z","comments":true,"pin":null,"path":"api/articles/DynamoDB.json","excerpt":"","keywords":null,"cover":"https://user-images.githubusercontent.com/62123161/81145311-fd01ef80-8fb0-11ea-9fe7-e2455a219030.png","content":"<h2 id=\"개발환경-구축\"><a href=\"#개발환경-구축\" class=\"headerlink\" title=\"개발환경 구축\"></a>개발환경 구축</h2><p>※ 기본 개발환경</p>\n<ul>\n<li>IntelliJ</li>\n<li>Java, Spring</li>\n<li>AWS Console</li>\n</ul>\n<h2 id=\"DynamoDB-설명\"><a href=\"#DynamoDB-설명\" class=\"headerlink\" title=\"DynamoDB 설명\"></a>DynamoDB 설명</h2><ol>\n<li>다 필요없다. 서버쪽 공부한 사람이라면 No SQL이라는 단어 하나만으로도 설명이 된다.</li>\n<li>RDB보다 아주 상당히 비싸다. 요금 기준이 읽기, 쓰기니까 그냥 한번 Access에도 요금이 발생한다.</li>\n<li>현재는 DynamoDB를 사용하기보다는 RDB를 사용하거나 Kinesis, SQS등 대체자원들을 검토중이다.</li>\n<li>솔직히 NoSQL의 특징을 여기에 쓰기에는 구글에 너무 많고 좋은 내용이 많으니 검색해보기 바란다.(검색의 생활화)</li>\n</ol>\n<h3 id=\"1-테이블-만들기\"><a href=\"#1-테이블-만들기\" class=\"headerlink\" title=\"1) 테이블 만들기\"></a>1) 테이블 만들기</h3><p><a href=\"https://user-images.githubusercontent.com/62123161/81145311-fd01ef80-8fb0-11ea-9fe7-e2455a219030.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81145311-fd01ef80-8fb0-11ea-9fe7-e2455a219030.png\" alt=\"dynamodb_01\"></a></p>\n<ul>\n<li>별내용 없다. Table Name과 PK(PrimaryKey), SK(SortKey)를 지정해주면 된다.</li>\n<li>주의할 점은, Sort키를 잘 지정해야 한다는 것이다. 테이블이 로그성 테이블이 될지, 최신정보를 가질지 여부는 SK에 달려있으며, 조회에도 사용이 된다.(조회를 원활하게 하기 위해서는 SortKey를 지정 안해도된다.)</li>\n</ul>\n<h3 id=\"2-테이블-리스트-화면\"><a href=\"#2-테이블-리스트-화면\" class=\"headerlink\" title=\"2. 테이블 리스트 화면\"></a>2. 테이블 리스트 화면</h3><p><a href=\"https://user-images.githubusercontent.com/62123161/81145375-1f940880-8fb1-11ea-927c-1181dffbf9a1.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81145375-1f940880-8fb1-11ea-927c-1181dffbf9a1.png\" alt=\"dynamodb_02\"></a></p>\n<ul>\n<li>테이블 생성은 완료되었으며, 기본 설정 외에 Ondemand 설정, 백업설정, 글로벌테이블, 인덱싱 등 자질구레한 설정들이 있다.</li>\n<li>테이블 성격에 맞게 해당 기능을 설정하면 되고, 기본적으로 Matrix는 제공을 해주니 CloudWatch정도만 추가설정 해주면 Table에 문제가 생겼을 경우 알람을 받을 수 있다.</li>\n</ul>\n<h3 id=\"2-소스\"><a href=\"#2-소스\" class=\"headerlink\" title=\"2) 소스\"></a>2) 소스</h3><h4 id=\"Gradle\"><a href=\"#Gradle\" class=\"headerlink\" title=\"Gradle\"></a>Gradle</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>Dependency</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dependencies &#123;</span><br><span class=\"line\">    implementation <span class=\"string\">'com.amazonaws:aws-lambda-java-core:1.2.0'</span></span><br><span class=\"line\">    implementation <span class=\"string\">'com.amazonaws:aws-lambda-java-events:2.2.6'</span></span><br><span class=\"line\">    compile group: <span class=\"string\">'com.amazonaws'</span>, name: <span class=\"string\">'aws-java-sdk-dynamodb'</span>, version: <span class=\"string\">'1.11.584'</span></span><br><span class=\"line\">    compile group: <span class=\"string\">'org.projectlombok'</span>, name: <span class=\"string\">'lombok'</span>, version: <span class=\"string\">'1.16.20'</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"Define\"><a href=\"#Define\" class=\"headerlink\" title=\"Define\"></a>Define</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>기본 Static 설정(사실 Static으로 두지 않아도 된다... 그냥 난 편의상..)</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">static AmazonDynamoDB client = AmazonDynamoDBClientBuilder.standard().withRegion(Regions.US_EAST_1).build();</span><br><span class=\"line\">static DynamoDB dynamoDB = new DynamoDB(client);</span><br><span class=\"line\"> </span><br><span class=\"line\">static String tableName = <span class=\"string\">\"(TABLENAME)\"</span>;</span><br><span class=\"line\">static Map&lt;String, String&gt; mapAttribute = new HashMap&lt;String, String&gt;();</span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"GET-Table-Information\"><a href=\"#GET-Table-Information\" class=\"headerlink\" title=\"GET Table Information\"></a>GET Table Information</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>Table 정보 획득</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">AmazonDynamoDB client = AmazonDynamoDBClientBuilder.standard().withRegion(Regions.US_EAST_1).build();</span><br><span class=\"line\">DescribeTableRequest request = new DescribeTableRequest().withTableName(tableName);</span><br><span class=\"line\">DescribeTableResult response = client.describeTable(request);</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">for</span>(int i= 0; i&lt; response.getTable().getAttributeDefinitions().size();i++)&#123;</span><br><span class=\"line\">    mapAttribute.put(response.getTable().getAttributeDefinitions().get(i).getAttributeName(), response.getTable().getAttributeDefinitions().get(i).getAttributeType());</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"Items-Insert\"><a href=\"#Items-Insert\" class=\"headerlink\" title=\"Items Insert\"></a>Items Insert</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>Insert [Table] into (KEY) VALUES (VALUE)</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    private static String createItems(DynamoDB dynamoDB, String tableName, String primaryKey, String primaryValue, String rangeKey, String rangeValue, String createKeyValue) &#123;</span><br><span class=\"line\">        Table table = dynamoDB.getTable(tableName);</span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">            String[] createArr;</span><br><span class=\"line\">            UpdateItemOutcome outcome=null;</span><br><span class=\"line\">            createArr = createKeyValue.split(<span class=\"string\">\",\"</span>);</span><br><span class=\"line\">            Map&lt;String, AttributeValue&gt; values = new HashMap&lt;String, AttributeValue&gt;();</span><br><span class=\"line\"> </span><br><span class=\"line\">            <span class=\"keyword\">if</span>((createArr.length &amp; 1) == 0) &#123;</span><br><span class=\"line\">                //Even(정상)</span><br><span class=\"line\">                <span class=\"keyword\">for</span>(int i=0; i&lt;createArr.length;i++)&#123;</span><br><span class=\"line\">                    values.put(createArr[i], new AttributeValue().withS(createArr[i+1]));</span><br><span class=\"line\"> </span><br><span class=\"line\">                    i++;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                values.put(primaryKey,new AttributeValue().withN(primaryValue));</span><br><span class=\"line\">                values.put(rangeKey, new AttributeValue().withS(rangeValue));</span><br><span class=\"line\"> </span><br><span class=\"line\">                PutItemResult result = client.putItem(new PutItemRequest(tableName, values));</span><br><span class=\"line\">                String str = result.getSdkResponseMetadata().toString();</span><br><span class=\"line\">//                Item item = new Item()</span><br><span class=\"line\">//                        .withPrimaryKey(primaryKey, primaryValue)</span><br><span class=\"line\">//                        .withString(rangeKey, rangeValue);</span><br><span class=\"line\">//</span><br><span class=\"line\">//                table.putItem(item);</span><br><span class=\"line\">                // Confirm</span><br><span class=\"line\">                System.out.println(<span class=\"string\">\"Displaying updated item...\"</span>);</span><br><span class=\"line\">                System.out.println(str);</span><br><span class=\"line\">                <span class=\"built_in\">return</span> str;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                //Odd(비정상)</span><br><span class=\"line\">                System.out.println(<span class=\"string\">\"UpdateArr Odd...\"</span>);</span><br><span class=\"line\">                <span class=\"built_in\">return</span> <span class=\"string\">\"UpdateArr Odd...\"</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; catch (Exception e) &#123;</span><br><span class=\"line\">            System.err.println(<span class=\"string\">\"Cannot create items.\"</span>);</span><br><span class=\"line\">            System.err.println(e.getMessage());</span><br><span class=\"line\">            <span class=\"built_in\">return</span> e.getMessage();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"Items-Update\"><a href=\"#Items-Update\" class=\"headerlink\" title=\"Items Update\"></a>Items Update</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>UPDATE [TABLE] SET (KEY_VALUE)</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//업데이트</span><br><span class=\"line\">private static String updateItem(DynamoDB dynamoDB, String tableName, String primaryKey, String primaryValue, String rangeKey, String rangeValue, String updateKeyValue) &#123;</span><br><span class=\"line\">    Table table = dynamoDB.getTable(tableName);</span><br><span class=\"line\"> </span><br><span class=\"line\">    long time3 = (new Date()).getTime();</span><br><span class=\"line\">    Date date3 = new Date();</span><br><span class=\"line\">    date3.setTime(time3);</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">        //2개 이상 업데이트를 진행할 때</span><br><span class=\"line\">        UpdateItemSpec updateItemSpec = new UpdateItemSpec()</span><br><span class=\"line\">                .withPrimaryKey(primaryKey, Integer.parseInt(primaryValue), rangeKey, rangeValue)</span><br><span class=\"line\">                .withReturnValues(ReturnValue.ALL_NEW);</span><br><span class=\"line\">        //split</span><br><span class=\"line\">        String[] updateArr;</span><br><span class=\"line\">        UpdateItemOutcome outcome=null;</span><br><span class=\"line\">        updateArr = updateKeyValue.split(<span class=\"string\">\",\"</span>);</span><br><span class=\"line\">        HashMap&lt;String, String&gt; nameMap = new HashMap&lt;String, String&gt;();</span><br><span class=\"line\">        HashMap&lt;String, Object&gt; valueMap = new HashMap&lt;String, Object&gt;();</span><br><span class=\"line\">        String expressionMessage = <span class=\"string\">\"set \"</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>((updateArr.length &amp; 1) == 0) &#123;</span><br><span class=\"line\">            //Even(정상)</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(int i=0; i&lt;updateArr.length;i++)&#123;</span><br><span class=\"line\">                nameMap.put(<span class=\"string\">\"#\"</span>+updateArr[i], updateArr[i]);</span><br><span class=\"line\">                valueMap.put(<span class=\"string\">\":val\"</span>+updateArr[i],updateArr[i+1]);</span><br><span class=\"line\"> </span><br><span class=\"line\">                expressionMessage += <span class=\"string\">\"#\"</span>+updateArr[i] + <span class=\"string\">\"=\"</span>+<span class=\"string\">\":val\"</span>+updateArr[i];</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(i/2&lt;updateArr.length/2 -1)&#123;</span><br><span class=\"line\">                    expressionMessage += <span class=\"string\">\" , \"</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                i++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            updateItemSpec.withUpdateExpression(expressionMessage)</span><br><span class=\"line\">                        .withNameMap(nameMap)</span><br><span class=\"line\">                        .withValueMap(valueMap);</span><br><span class=\"line\"> </span><br><span class=\"line\">            outcome =  table.updateItem(updateItemSpec);</span><br><span class=\"line\">            // Confirm</span><br><span class=\"line\">            System.out.println(<span class=\"string\">\"Displaying updated item...\"</span>);</span><br><span class=\"line\">            System.out.println(outcome.getItem().toJSONPretty());</span><br><span class=\"line\">            <span class=\"built_in\">return</span> outcome.getItem().toJSONPretty();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            //Odd(비정상)</span><br><span class=\"line\">            System.out.println(<span class=\"string\">\"UpdateArr Odd...\"</span>);</span><br><span class=\"line\">            <span class=\"built_in\">return</span> <span class=\"string\">\"UpdateArr Odd...\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125; catch (Exception e) &#123;</span><br><span class=\"line\">        System.err.println(<span class=\"string\">\"Cannot add an attribute in \"</span> + tableName);</span><br><span class=\"line\">        System.err.println(e.getMessage());</span><br><span class=\"line\">        <span class=\"built_in\">return</span> e.getMessage();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"Items-Select-WHERE\"><a href=\"#Items-Select-WHERE\" class=\"headerlink\" title=\"Items Select(WHERE)\"></a>Items Select(WHERE)</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>SELECT * FROM [TABLE] WHERE <String></span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//Select(조건)</span><br><span class=\"line\">private static String selectWhereItem(DynamoDB dynamoDB, String tableName, String primaryKey, String primaryValue, String rangeKey, String rangeValue, String <span class=\"built_in\">where</span>) &#123;</span><br><span class=\"line\">    Table table = dynamoDB.getTable(tableName);</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">        Item item = table.getItem(primaryKey,Integer.parseInt(primaryValue),rangeKey,rangeValue,<span class=\"built_in\">where</span>,null);</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"Displaying retrieved items...\"</span>);</span><br><span class=\"line\">        System.out.println(item.toJSONPretty());</span><br><span class=\"line\">        <span class=\"built_in\">return</span> item.toString();</span><br><span class=\"line\">    &#125; catch (Exception e) &#123;</span><br><span class=\"line\">        System.err.println(<span class=\"string\">\"Cannot retrieve items.\"</span>);</span><br><span class=\"line\">        System.err.println(e.getMessage());</span><br><span class=\"line\">        <span class=\"built_in\">return</span> e.getMessage();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"Items-Select\"><a href=\"#Items-Select\" class=\"headerlink\" title=\"Items Select\"></a>Items Select</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>SELECT * FROM [TABLE] </span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//Select(전체)</span><br><span class=\"line\">private static String selectItem(DynamoDB dynamoDB, String tableName, String primaryKey, String primaryValue, String rangeKey, String rangeValue) &#123;</span><br><span class=\"line\">    Table table = dynamoDB.getTable(tableName);</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">        Item item = table.getItem(primaryKey,Integer.parseInt(primaryValue),rangeKey,rangeValue);</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"Displaying retrieved items...\"</span>);</span><br><span class=\"line\">        System.out.println(item.toJSONPretty());</span><br><span class=\"line\">        <span class=\"built_in\">return</span> item.toString();</span><br><span class=\"line\">    &#125; catch (Exception e) &#123;</span><br><span class=\"line\">        System.err.println(<span class=\"string\">\"Cannot retrieve items.\"</span>);</span><br><span class=\"line\">        System.err.println(e.getMessage());</span><br><span class=\"line\">        <span class=\"built_in\">return</span> e.getMessage();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"Items-Delete-당연히-조건-전체삭제는-테이블-Drop-Create-하는게-훨씬낫다\"><a href=\"#Items-Delete-당연히-조건-전체삭제는-테이블-Drop-Create-하는게-훨씬낫다\" class=\"headerlink\" title=\"Items Delete(당연히 조건- 전체삭제는 테이블 Drop/Create 하는게 훨씬낫다)\"></a>Items Delete(당연히 조건- 전체삭제는 테이블 Drop/Create 하는게 훨씬낫다)</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>DELETE FROM [TABLE] WHERE <String></span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//삭제</span><br><span class=\"line\">    public static String deleteItem(DynamoDB dynamoDB, String tableName, String primaryKey, String primaryValue, String rangeKey, String rangeValue) &#123;</span><br><span class=\"line\">        Table table = dynamoDB.getTable(tableName);</span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">            DeleteItemSpec deleteItemSpec = new DeleteItemSpec()</span><br><span class=\"line\">                    .withPrimaryKey(primaryKey, Integer.parseInt(primaryValue), rangeKey, rangeValue)</span><br><span class=\"line\">//                    .withConditionExpression(<span class=\"string\">\"#ip = :val\"</span>)</span><br><span class=\"line\">//                    .withNameMap(new NameMap().with(<span class=\"string\">\"#ip\"</span>, <span class=\"string\">\"InProduction\"</span>))</span><br><span class=\"line\">//                    .withValueMap(new ValueMap().withBoolean(<span class=\"string\">\":val\"</span>, <span class=\"literal\">false</span>))</span><br><span class=\"line\">                    .withReturnValues(ReturnValue.ALL_OLD);</span><br><span class=\"line\">            DeleteItemOutcome outcome = table.deleteItem(deleteItemSpec);</span><br><span class=\"line\"> </span><br><span class=\"line\">            // Confirm</span><br><span class=\"line\">            System.out.println(<span class=\"string\">\"Displaying deleted item...\"</span>);</span><br><span class=\"line\">            System.out.println(outcome.getItem().toJSONPretty());</span><br><span class=\"line\">            <span class=\"built_in\">return</span> outcome.getItem().toJSONPretty();</span><br><span class=\"line\">        &#125; catch (Exception e) &#123;</span><br><span class=\"line\">            System.err.println(<span class=\"string\">\"Cannot delete item in \"</span> + tableName);</span><br><span class=\"line\">            System.err.println(e.getMessage());</span><br><span class=\"line\">            <span class=\"built_in\">return</span> e.getMessage();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"3-결론\"><a href=\"#3-결론\" class=\"headerlink\" title=\"3) 결론\"></a>3) 결론</h3><ul>\n<li>솔직히, 비용만 아니면 이보다 더 좋을수 없다고 느낄정도로 퍼포먼스가 최상이다.</li>\n<li>원가절감을 최우선 과제중 하나로 생각하는 경동에서는 원가절감하자 그냥 ㅡㅡ… 개발자가 고생해서 퍼포먼스를 비슷한 수준까지 끌어올려야지 어떻게하겠나.</li>\n</ul>\n","text":"개발환경 구축※ 기본 개발환경IntelliJJava, SpringAWS ConsoleDynamoDB 설명다 필요없다. 서버쪽 공부한 사람이라면 No SQL이라는 단어 하나만으로도 설명이 된다.RDB보다 아주 상당히 비싸다. 요금 기준이 읽기, 쓰기니까","link":"","raw":null,"photos":[],"categories":[{"name":"tip","slug":"tip","count":23,"path":"api/categories/tip.json"}],"tags":[{"name":"AWS","slug":"AWS","count":14,"path":"api/tags/AWS.json"},{"name":"dynamo","slug":"dynamo","count":1,"path":"api/tags/dynamo.json"},{"name":"noSQL","slug":"noSQL","count":1,"path":"api/tags/noSQL.json"}]},{"title":"Google 어시스턴트를 활용한 스피커 연동","slug":"GoogleAssistant","date":"2020-08-15T00:46:47.000Z","updated":"2020-10-05T06:57:23.147Z","comments":true,"pin":null,"path":"api/articles/GoogleAssistant.json","excerpt":"","keywords":null,"cover":"https://user-images.githubusercontent.com/62123161/90300780-2ba83400-ded7-11ea-97f6-52507c3d8a75.jpg","content":"<p>구글 어시스턴트에 온수매트를 연동할 업무가 주어졌다.<br>구글 어시스턴트에 대해서 진행해보자.<br>google home url : <a href=\"https://developers.google.com/assistant/smarthome/overview\" target=\"_blank\" rel=\"noopener\">https://developers.google.com/assistant/smarthome/overview</a><br>google assistant : <a href=\"https://console.actions.google.com/u/1/\" target=\"_blank\" rel=\"noopener\">https://console.actions.google.com/u/1/</a></p>\n<ol>\n<li>구글은 Fullfillment URL을 1개만 허용한다.<br>(즉, 1개의 Endpoint만을 사용하여 연동을 진행할 수 있다.)</li>\n</ol>\n<ul>\n<li>Fullfilment URL<br><a href=\"https://kraigsnm.naviensmartcontrol.com/google-nm\" target=\"_blank\" rel=\"noopener\">https://kraigsnm.naviensmartcontrol.com/google-nm</a></li>\n</ul>\n<ol start=\"2\">\n<li>Account Linking (계정 연동)</li>\n</ol>\n<ul>\n<li>Spring OAuth2.0 기반으로 제공(<a href=\"https://developers.google.com/assistant/identity/oauth2?oauth=code\" target=\"_blank\" rel=\"noopener\">https://developers.google.com/assistant/identity/oauth2?oauth=code</a>)</li>\n<li>client id, client secret, Authorization URL, Token URL로 구성.</li>\n<li>Authorization URL : <a href=\"https://kraigsnm.naviensmartcontrol.com/oauth/authorize\" target=\"_blank\" rel=\"noopener\">https://kraigsnm.naviensmartcontrol.com/oauth/authorize</a></li>\n<li>Token URL : <a href=\"https://kraigsnm.naviensmartcontrol.com/oauth/token\" target=\"_blank\" rel=\"noopener\">https://kraigsnm.naviensmartcontrol.com/oauth/token</a></li>\n</ul>\n<ol start=\"3\">\n<li>Smart home intents</li>\n</ol>\n<ul>\n<li>sync : 사용자 디바이스 리스트 + 타입 + 특성</li>\n<li>query : 사용자 디바이스 상태 조회</li>\n<li>execute : 사용자 디바이스 명령</li>\n<li>disconnect : assistant 로그아웃</li>\n</ul>\n<ol start=\"4\">\n<li>Report state</li>\n</ol>\n<ul>\n<li>구글 홈한테 최신 디바이스 상태를 제공하는 것</li>\n<li>처음 개발 당시에는 선택사항(Option)이었지만, 이후 필수사항으로 변경되었다.</li>\n</ul>\n<ol start=\"5\">\n<li>개발환경</li>\n</ol>\n<ul>\n<li>Spring Boot 2.1.3</li>\n<li>SDK : Amazon Corretto 11</li>\n<li>JAVA 1.8<ul>\n<li>netty(main서버 TCP통신을 위함)</li>\n</ul>\n</li>\n</ul>\n<ol start=\"6\">\n<li>테스트<h3 id=\"구글-홈-발화-테스트\"><a href=\"#구글-홈-발화-테스트\" class=\"headerlink\" title=\"구글 홈 발화 테스트\"></a>구글 홈 발화 테스트</h3>Q. 온수매트 켜줘 (thermostatMode : on)<br>A. 네, 국내 개발용 온수매트 전원을 켭니다.</li>\n</ol>\n<p>Q. 온수매트 꺼줘 (thermostatMode : off)<br>A. 네, 국내 개발용 온수매트 전원을 끕니다.</p>\n<p>Q. 온수매트 난방으로 해줘 (thermostatMode : heat)<br>A. 네, 국내 개발용 온수매트 모드를 난방 모드로 변경합니다.</p>\n<p>Q. 나비엔메이트 온도를 올려주세요. (나비엔 메이트 온도 올려주세요.)<br>A. 네, 나비엔메이트의 온도를 높입니다.</p>\n<p>Q. 나비엔메이트 온도를 낮춰주세요. (나비엔 메이트 온도 낮춰주세요.)<br>A. 네, 나비엔에이트의 온도를 낮춥니다.</p>\n<p>Q. 나비엔메이트 온도 5도 내려주세요.<br>A. 네, 나비엔메이트의 온도를 낮춥니다.</p>\n<p>Q. 나비엔메이트 온도를 30도로 설정하세요.<br>A. 네, 나비엔메이트의 온도를 30도로 설정합니다.</p>\n<ol start=\"7\">\n<li><p>Google에서 API 키를 받아서 사용</p>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">\"type\"</span>: <span class=\"string\">\"service_account\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"project_id\"</span>: <span class=\"string\">\"navienmate-fb96b\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"private_key_id\"</span>: <span class=\"string\">\"211021b7995718069dc173fc15645d5ff4bcfb92\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"private_key\"</span>: <span class=\"string\">\"-----BEGIN PRIVATE KEY-----\\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQC1pJKVhDzG/OAo\\njWqS1fXgcvHnRTxKwRnm+RHc9tgP9h(이하생략)\\n-----END PRIVATE KEY-----\\n\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"client_email\"</span>: <span class=\"string\">\"navien-mate-test@navienmate-fb96b.iam.gserviceaccount.com\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"client_id\"</span>: <span class=\"string\">\"110045969321551856962\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"auth_uri\"</span>: <span class=\"string\">\"https://accounts.google.com/o/oauth2/auth\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"token_uri\"</span>: <span class=\"string\">\"https://oauth2.googleapis.com/token\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"auth_provider_x509_cert_url\"</span>: <span class=\"string\">\"https://www.googleapis.com/oauth2/v1/certs\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"client_x509_cert_url\"</span>: <span class=\"string\">\"https://www.googleapis.com/robot/v1/metadata/x509/navien-mate-test%40navienmate-fb96b.iam.gserviceaccount.com\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div>\n</li>\n<li><p>실제연동화면 및 응답예제<br><a href=\"https://user-images.githubusercontent.com/62123161/90300780-2ba83400-ded7-11ea-97f6-52507c3d8a75.jpg\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/90300780-2ba83400-ded7-11ea-97f6-52507c3d8a75.jpg\" alt=\"mattress_reply\"></a></p>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>구글의 응답</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">\"requestId\"</span>: <span class=\"string\">\"8028308867350609607\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"payload\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">\"agentUserId\"</span>: <span class=\"string\">\"minseok\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"devices\"</span>: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"string\">\"id\"</span>: <span class=\"string\">\"84720720d74e1719\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"type\"</span>: <span class=\"string\">\"action.devices.types.MATTRESS\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"traits\"</span>: [</span><br><span class=\"line\">          <span class=\"string\">\"action.devices.traits.TemperatureSetting\"</span></span><br><span class=\"line\">        ],</span><br><span class=\"line\">        <span class=\"string\">\"name\"</span>: &#123;</span><br><span class=\"line\">          <span class=\"string\">\"defaultNames\"</span>: [</span><br><span class=\"line\">            <span class=\"string\">\"나비엔 온수매트\"</span></span><br><span class=\"line\">          ],</span><br><span class=\"line\">          <span class=\"string\">\"name\"</span>: <span class=\"string\">\"국내 개발용\"</span>,</span><br><span class=\"line\">          <span class=\"string\">\"nicknames\"</span>: []</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"string\">\"willReportState\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"string\">\"deviceInfo\"</span>: &#123;</span><br><span class=\"line\">          <span class=\"string\">\"manufacturer\"</span>: <span class=\"string\">\"주식회사 경동나비엔\"</span>,</span><br><span class=\"line\">          <span class=\"string\">\"model\"</span>: <span class=\"string\">\"EQM-572-SS\"</span>,</span><br><span class=\"line\">          <span class=\"string\">\"hwVersion\"</span>: <span class=\"string\">\"13\"</span>,</span><br><span class=\"line\">          <span class=\"string\">\"swVersion\"</span>: <span class=\"string\">\"1\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"string\">\"attributes\"</span>: &#123;</span><br><span class=\"line\">          <span class=\"string\">\"availableThermostatModes\"</span>: <span class=\"string\">\"off,heat,on\"</span>,</span><br><span class=\"line\">          <span class=\"string\">\"thermostatTemperatureUnit\"</span>: <span class=\"string\">\"C\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"string\">\"customData\"</span>: &#123;</span><br><span class=\"line\">          <span class=\"string\">\"selection\"</span>: 0</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div>\n</li>\n<li><p>Postman 테스트용 예제</p>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>구글테스트용 Postman</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br><span class=\"line\">301</span><br><span class=\"line\">302</span><br><span class=\"line\">303</span><br><span class=\"line\">304</span><br><span class=\"line\">305</span><br><span class=\"line\">306</span><br><span class=\"line\">307</span><br><span class=\"line\">308</span><br><span class=\"line\">309</span><br><span class=\"line\">310</span><br><span class=\"line\">311</span><br><span class=\"line\">312</span><br><span class=\"line\">313</span><br><span class=\"line\">314</span><br><span class=\"line\">315</span><br><span class=\"line\">316</span><br><span class=\"line\">317</span><br><span class=\"line\">318</span><br><span class=\"line\">319</span><br><span class=\"line\">320</span><br><span class=\"line\">321</span><br><span class=\"line\">322</span><br><span class=\"line\">323</span><br><span class=\"line\">324</span><br><span class=\"line\">325</span><br><span class=\"line\">326</span><br><span class=\"line\">327</span><br><span class=\"line\">328</span><br><span class=\"line\">329</span><br><span class=\"line\">330</span><br><span class=\"line\">331</span><br><span class=\"line\">332</span><br><span class=\"line\">333</span><br><span class=\"line\">334</span><br><span class=\"line\">335</span><br><span class=\"line\">336</span><br><span class=\"line\">337</span><br><span class=\"line\">338</span><br><span class=\"line\">339</span><br><span class=\"line\">340</span><br><span class=\"line\">341</span><br><span class=\"line\">342</span><br><span class=\"line\">343</span><br><span class=\"line\">344</span><br><span class=\"line\">345</span><br><span class=\"line\">346</span><br><span class=\"line\">347</span><br><span class=\"line\">348</span><br><span class=\"line\">349</span><br><span class=\"line\">350</span><br><span class=\"line\">351</span><br><span class=\"line\">352</span><br><span class=\"line\">353</span><br><span class=\"line\">354</span><br><span class=\"line\">355</span><br><span class=\"line\">356</span><br><span class=\"line\">357</span><br><span class=\"line\">358</span><br><span class=\"line\">359</span><br><span class=\"line\">360</span><br><span class=\"line\">361</span><br><span class=\"line\">362</span><br><span class=\"line\">363</span><br><span class=\"line\">364</span><br><span class=\"line\">365</span><br><span class=\"line\">366</span><br><span class=\"line\">367</span><br><span class=\"line\">368</span><br><span class=\"line\">369</span><br><span class=\"line\">370</span><br><span class=\"line\">371</span><br><span class=\"line\">372</span><br><span class=\"line\">373</span><br><span class=\"line\">374</span><br><span class=\"line\">375</span><br><span class=\"line\">376</span><br><span class=\"line\">377</span><br><span class=\"line\">378</span><br><span class=\"line\">379</span><br><span class=\"line\">380</span><br><span class=\"line\">381</span><br><span class=\"line\">382</span><br><span class=\"line\">383</span><br><span class=\"line\">384</span><br><span class=\"line\">385</span><br><span class=\"line\">386</span><br><span class=\"line\">387</span><br><span class=\"line\">388</span><br><span class=\"line\">389</span><br><span class=\"line\">390</span><br><span class=\"line\">391</span><br><span class=\"line\">392</span><br><span class=\"line\">393</span><br><span class=\"line\">394</span><br><span class=\"line\">395</span><br><span class=\"line\">396</span><br><span class=\"line\">397</span><br><span class=\"line\">398</span><br><span class=\"line\">399</span><br><span class=\"line\">400</span><br><span class=\"line\">401</span><br><span class=\"line\">402</span><br><span class=\"line\">403</span><br><span class=\"line\">404</span><br><span class=\"line\">405</span><br><span class=\"line\">406</span><br><span class=\"line\">407</span><br><span class=\"line\">408</span><br><span class=\"line\">409</span><br><span class=\"line\">410</span><br><span class=\"line\">411</span><br><span class=\"line\">412</span><br><span class=\"line\">413</span><br><span class=\"line\">414</span><br><span class=\"line\">415</span><br><span class=\"line\">416</span><br><span class=\"line\">417</span><br><span class=\"line\">418</span><br><span class=\"line\">419</span><br><span class=\"line\">420</span><br><span class=\"line\">421</span><br><span class=\"line\">422</span><br><span class=\"line\">423</span><br><span class=\"line\">424</span><br><span class=\"line\">425</span><br><span class=\"line\">426</span><br><span class=\"line\">427</span><br><span class=\"line\">428</span><br><span class=\"line\">429</span><br><span class=\"line\">430</span><br><span class=\"line\">431</span><br><span class=\"line\">432</span><br><span class=\"line\">433</span><br><span class=\"line\">434</span><br><span class=\"line\">435</span><br><span class=\"line\">436</span><br><span class=\"line\">437</span><br><span class=\"line\">438</span><br><span class=\"line\">439</span><br><span class=\"line\">440</span><br><span class=\"line\">441</span><br><span class=\"line\">442</span><br><span class=\"line\">443</span><br><span class=\"line\">444</span><br><span class=\"line\">445</span><br><span class=\"line\">446</span><br><span class=\"line\">447</span><br><span class=\"line\">448</span><br><span class=\"line\">449</span><br><span class=\"line\">450</span><br><span class=\"line\">451</span><br><span class=\"line\">452</span><br><span class=\"line\">453</span><br><span class=\"line\">454</span><br><span class=\"line\">455</span><br><span class=\"line\">456</span><br><span class=\"line\">457</span><br><span class=\"line\">458</span><br><span class=\"line\">459</span><br><span class=\"line\">460</span><br><span class=\"line\">461</span><br><span class=\"line\">462</span><br><span class=\"line\">463</span><br><span class=\"line\">464</span><br><span class=\"line\">465</span><br><span class=\"line\">466</span><br><span class=\"line\">467</span><br><span class=\"line\">468</span><br><span class=\"line\">469</span><br><span class=\"line\">470</span><br><span class=\"line\">471</span><br><span class=\"line\">472</span><br><span class=\"line\">473</span><br><span class=\"line\">474</span><br><span class=\"line\">475</span><br><span class=\"line\">476</span><br><span class=\"line\">477</span><br><span class=\"line\">478</span><br><span class=\"line\">479</span><br><span class=\"line\">480</span><br><span class=\"line\">481</span><br><span class=\"line\">482</span><br><span class=\"line\">483</span><br><span class=\"line\">484</span><br><span class=\"line\">485</span><br><span class=\"line\">486</span><br><span class=\"line\">487</span><br><span class=\"line\">488</span><br><span class=\"line\">489</span><br><span class=\"line\">490</span><br><span class=\"line\">491</span><br><span class=\"line\">492</span><br><span class=\"line\">493</span><br><span class=\"line\">494</span><br><span class=\"line\">495</span><br><span class=\"line\">496</span><br><span class=\"line\">497</span><br><span class=\"line\">498</span><br><span class=\"line\">499</span><br><span class=\"line\">500</span><br><span class=\"line\">501</span><br><span class=\"line\">502</span><br><span class=\"line\">503</span><br><span class=\"line\">504</span><br><span class=\"line\">505</span><br><span class=\"line\">506</span><br><span class=\"line\">507</span><br><span class=\"line\">508</span><br><span class=\"line\">509</span><br><span class=\"line\">510</span><br><span class=\"line\">511</span><br><span class=\"line\">512</span><br><span class=\"line\">513</span><br><span class=\"line\">514</span><br><span class=\"line\">515</span><br><span class=\"line\">516</span><br><span class=\"line\">517</span><br><span class=\"line\">518</span><br><span class=\"line\">519</span><br><span class=\"line\">520</span><br><span class=\"line\">521</span><br><span class=\"line\">522</span><br><span class=\"line\">523</span><br><span class=\"line\">524</span><br><span class=\"line\">525</span><br><span class=\"line\">526</span><br><span class=\"line\">527</span><br><span class=\"line\">528</span><br><span class=\"line\">529</span><br><span class=\"line\">530</span><br><span class=\"line\">531</span><br><span class=\"line\">532</span><br><span class=\"line\">533</span><br><span class=\"line\">534</span><br><span class=\"line\">535</span><br><span class=\"line\">536</span><br><span class=\"line\">537</span><br><span class=\"line\">538</span><br><span class=\"line\">539</span><br><span class=\"line\">540</span><br><span class=\"line\">541</span><br><span class=\"line\">542</span><br><span class=\"line\">543</span><br><span class=\"line\">544</span><br><span class=\"line\">545</span><br><span class=\"line\">546</span><br><span class=\"line\">547</span><br><span class=\"line\">548</span><br><span class=\"line\">549</span><br><span class=\"line\">550</span><br><span class=\"line\">551</span><br><span class=\"line\">552</span><br><span class=\"line\">553</span><br><span class=\"line\">554</span><br><span class=\"line\">555</span><br><span class=\"line\">556</span><br><span class=\"line\">557</span><br><span class=\"line\">558</span><br><span class=\"line\">559</span><br><span class=\"line\">560</span><br><span class=\"line\">561</span><br><span class=\"line\">562</span><br><span class=\"line\">563</span><br><span class=\"line\">564</span><br><span class=\"line\">565</span><br><span class=\"line\">566</span><br><span class=\"line\">567</span><br><span class=\"line\">568</span><br><span class=\"line\">569</span><br><span class=\"line\">570</span><br><span class=\"line\">571</span><br><span class=\"line\">572</span><br><span class=\"line\">573</span><br><span class=\"line\">574</span><br><span class=\"line\">575</span><br><span class=\"line\">576</span><br><span class=\"line\">577</span><br><span class=\"line\">578</span><br><span class=\"line\">579</span><br><span class=\"line\">580</span><br><span class=\"line\">581</span><br><span class=\"line\">582</span><br><span class=\"line\">583</span><br><span class=\"line\">584</span><br><span class=\"line\">585</span><br><span class=\"line\">586</span><br><span class=\"line\">587</span><br><span class=\"line\">588</span><br><span class=\"line\">589</span><br><span class=\"line\">590</span><br><span class=\"line\">591</span><br><span class=\"line\">592</span><br><span class=\"line\">593</span><br><span class=\"line\">594</span><br><span class=\"line\">595</span><br><span class=\"line\">596</span><br><span class=\"line\">597</span><br><span class=\"line\">598</span><br><span class=\"line\">599</span><br><span class=\"line\">600</span><br><span class=\"line\">601</span><br><span class=\"line\">602</span><br><span class=\"line\">603</span><br><span class=\"line\">604</span><br><span class=\"line\">605</span><br><span class=\"line\">606</span><br><span class=\"line\">607</span><br><span class=\"line\">608</span><br><span class=\"line\">609</span><br><span class=\"line\">610</span><br><span class=\"line\">611</span><br><span class=\"line\">612</span><br><span class=\"line\">613</span><br><span class=\"line\">614</span><br><span class=\"line\">615</span><br><span class=\"line\">616</span><br><span class=\"line\">617</span><br><span class=\"line\">618</span><br><span class=\"line\">619</span><br><span class=\"line\">620</span><br><span class=\"line\">621</span><br><span class=\"line\">622</span><br><span class=\"line\">623</span><br><span class=\"line\">624</span><br><span class=\"line\">625</span><br><span class=\"line\">626</span><br><span class=\"line\">627</span><br><span class=\"line\">628</span><br><span class=\"line\">629</span><br><span class=\"line\">630</span><br><span class=\"line\">631</span><br><span class=\"line\">632</span><br><span class=\"line\">633</span><br><span class=\"line\">634</span><br><span class=\"line\">635</span><br><span class=\"line\">636</span><br><span class=\"line\">637</span><br><span class=\"line\">638</span><br><span class=\"line\">639</span><br><span class=\"line\">640</span><br><span class=\"line\">641</span><br><span class=\"line\">642</span><br><span class=\"line\">643</span><br><span class=\"line\">644</span><br><span class=\"line\">645</span><br><span class=\"line\">646</span><br><span class=\"line\">647</span><br><span class=\"line\">648</span><br><span class=\"line\">649</span><br><span class=\"line\">650</span><br><span class=\"line\">651</span><br><span class=\"line\">652</span><br><span class=\"line\">653</span><br><span class=\"line\">654</span><br><span class=\"line\">655</span><br><span class=\"line\">656</span><br><span class=\"line\">657</span><br><span class=\"line\">658</span><br><span class=\"line\">659</span><br><span class=\"line\">660</span><br><span class=\"line\">661</span><br><span class=\"line\">662</span><br><span class=\"line\">663</span><br><span class=\"line\">664</span><br><span class=\"line\">665</span><br><span class=\"line\">666</span><br><span class=\"line\">667</span><br><span class=\"line\">668</span><br><span class=\"line\">669</span><br><span class=\"line\">670</span><br><span class=\"line\">671</span><br><span class=\"line\">672</span><br><span class=\"line\">673</span><br><span class=\"line\">674</span><br><span class=\"line\">675</span><br><span class=\"line\">676</span><br><span class=\"line\">677</span><br><span class=\"line\">678</span><br><span class=\"line\">679</span><br><span class=\"line\">680</span><br><span class=\"line\">681</span><br><span class=\"line\">682</span><br><span class=\"line\">683</span><br><span class=\"line\">684</span><br><span class=\"line\">685</span><br><span class=\"line\">686</span><br><span class=\"line\">687</span><br><span class=\"line\">688</span><br><span class=\"line\">689</span><br><span class=\"line\">690</span><br><span class=\"line\">691</span><br><span class=\"line\">692</span><br><span class=\"line\">693</span><br><span class=\"line\">694</span><br><span class=\"line\">695</span><br><span class=\"line\">696</span><br><span class=\"line\">697</span><br><span class=\"line\">698</span><br><span class=\"line\">699</span><br><span class=\"line\">700</span><br><span class=\"line\">701</span><br><span class=\"line\">702</span><br><span class=\"line\">703</span><br><span class=\"line\">704</span><br><span class=\"line\">705</span><br><span class=\"line\">706</span><br><span class=\"line\">707</span><br><span class=\"line\">708</span><br><span class=\"line\">709</span><br><span class=\"line\">710</span><br><span class=\"line\">711</span><br><span class=\"line\">712</span><br><span class=\"line\">713</span><br><span class=\"line\">714</span><br><span class=\"line\">715</span><br><span class=\"line\">716</span><br><span class=\"line\">717</span><br><span class=\"line\">718</span><br><span class=\"line\">719</span><br><span class=\"line\">720</span><br><span class=\"line\">721</span><br><span class=\"line\">722</span><br><span class=\"line\">723</span><br><span class=\"line\">724</span><br><span class=\"line\">725</span><br><span class=\"line\">726</span><br><span class=\"line\">727</span><br><span class=\"line\">728</span><br><span class=\"line\">729</span><br><span class=\"line\">730</span><br><span class=\"line\">731</span><br><span class=\"line\">732</span><br><span class=\"line\">733</span><br><span class=\"line\">734</span><br><span class=\"line\">735</span><br><span class=\"line\">736</span><br><span class=\"line\">737</span><br><span class=\"line\">738</span><br><span class=\"line\">739</span><br><span class=\"line\">740</span><br><span class=\"line\">741</span><br><span class=\"line\">742</span><br><span class=\"line\">743</span><br><span class=\"line\">744</span><br><span class=\"line\">745</span><br><span class=\"line\">746</span><br><span class=\"line\">747</span><br><span class=\"line\">748</span><br><span class=\"line\">749</span><br><span class=\"line\">750</span><br><span class=\"line\">751</span><br><span class=\"line\">752</span><br><span class=\"line\">753</span><br><span class=\"line\">754</span><br><span class=\"line\">755</span><br><span class=\"line\">756</span><br><span class=\"line\">757</span><br><span class=\"line\">758</span><br><span class=\"line\">759</span><br><span class=\"line\">760</span><br><span class=\"line\">761</span><br><span class=\"line\">762</span><br><span class=\"line\">763</span><br><span class=\"line\">764</span><br><span class=\"line\">765</span><br><span class=\"line\">766</span><br><span class=\"line\">767</span><br><span class=\"line\">768</span><br><span class=\"line\">769</span><br><span class=\"line\">770</span><br><span class=\"line\">771</span><br><span class=\"line\">772</span><br><span class=\"line\">773</span><br><span class=\"line\">774</span><br><span class=\"line\">775</span><br><span class=\"line\">776</span><br><span class=\"line\">777</span><br><span class=\"line\">778</span><br><span class=\"line\">779</span><br><span class=\"line\">780</span><br><span class=\"line\">781</span><br><span class=\"line\">782</span><br><span class=\"line\">783</span><br><span class=\"line\">784</span><br><span class=\"line\">785</span><br><span class=\"line\">786</span><br><span class=\"line\">787</span><br><span class=\"line\">788</span><br><span class=\"line\">789</span><br><span class=\"line\">790</span><br><span class=\"line\">791</span><br><span class=\"line\">792</span><br><span class=\"line\">793</span><br><span class=\"line\">794</span><br><span class=\"line\">795</span><br><span class=\"line\">796</span><br><span class=\"line\">797</span><br><span class=\"line\">798</span><br><span class=\"line\">799</span><br><span class=\"line\">800</span><br><span class=\"line\">801</span><br><span class=\"line\">802</span><br><span class=\"line\">803</span><br><span class=\"line\">804</span><br><span class=\"line\">805</span><br><span class=\"line\">806</span><br><span class=\"line\">807</span><br><span class=\"line\">808</span><br><span class=\"line\">809</span><br><span class=\"line\">810</span><br><span class=\"line\">811</span><br><span class=\"line\">812</span><br><span class=\"line\">813</span><br><span class=\"line\">814</span><br><span class=\"line\">815</span><br><span class=\"line\">816</span><br><span class=\"line\">817</span><br><span class=\"line\">818</span><br><span class=\"line\">819</span><br><span class=\"line\">820</span><br><span class=\"line\">821</span><br><span class=\"line\">822</span><br><span class=\"line\">823</span><br><span class=\"line\">824</span><br><span class=\"line\">825</span><br><span class=\"line\">826</span><br><span class=\"line\">827</span><br><span class=\"line\">828</span><br><span class=\"line\">829</span><br><span class=\"line\">830</span><br><span class=\"line\">831</span><br><span class=\"line\">832</span><br><span class=\"line\">833</span><br><span class=\"line\">834</span><br><span class=\"line\">835</span><br><span class=\"line\">836</span><br><span class=\"line\">837</span><br><span class=\"line\">838</span><br><span class=\"line\">839</span><br><span class=\"line\">840</span><br><span class=\"line\">841</span><br><span class=\"line\">842</span><br><span class=\"line\">843</span><br><span class=\"line\">844</span><br><span class=\"line\">845</span><br><span class=\"line\">846</span><br><span class=\"line\">847</span><br><span class=\"line\">848</span><br><span class=\"line\">849</span><br><span class=\"line\">850</span><br><span class=\"line\">851</span><br><span class=\"line\">852</span><br><span class=\"line\">853</span><br><span class=\"line\">854</span><br><span class=\"line\">855</span><br><span class=\"line\">856</span><br><span class=\"line\">857</span><br><span class=\"line\">858</span><br><span class=\"line\">859</span><br><span class=\"line\">860</span><br><span class=\"line\">861</span><br><span class=\"line\">862</span><br><span class=\"line\">863</span><br><span class=\"line\">864</span><br><span class=\"line\">865</span><br><span class=\"line\">866</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"string\">\"variables\"</span>: [],</span><br><span class=\"line\">\t<span class=\"string\">\"info\"</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"Google Home Navien Mate\"</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">\"_postman_id\"</span>: <span class=\"string\">\"fc37b07d-1a1b-c9dd-5920-15418cd55148\"</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">\"description\"</span>: <span class=\"string\">\"\"</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">\"schema\"</span>: <span class=\"string\">\"https://schema.getpostman.com/json/collection/v2.0.0/collection.json\"</span></span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\t<span class=\"string\">\"item\"</span>: [</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/oauth/authorize?state=qwer123&amp;client_id=client-google&amp;scope=all&amp;response_type=code&amp;redirect_uri=http://localhost:18080\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"http://localhost:18080/oauth/authorize?state=qwer123&amp;client_id=client-google&amp;scope=all&amp;response_type=code&amp;redirect_uri=http://localhost:18080\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"protocol\"</span>: <span class=\"string\">\"http\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"host\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"localhost\"</span></span><br><span class=\"line\">\t\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"port\"</span>: <span class=\"string\">\"18080\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"path\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"oauth\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"authorize\"</span></span><br><span class=\"line\">\t\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"query\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"state\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"qwer123\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"string\">\"equals\"</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">\t\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"client_id\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"client-google\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"string\">\"equals\"</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">\t\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"scope\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"all\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"string\">\"equals\"</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">\t\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"response_type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"code\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"string\">\"equals\"</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">\t\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"redirect_uri\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"http://localhost:18080\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"string\">\"equals\"</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">\t\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"variable\"</span>: []</span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"GET\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/oauth/token\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/oauth/token\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/x-www-form-urlencoded\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Authorization\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"Basic Y2xpZW50LWdvb2dsZToxMTExMTExMQ==\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"urlencoded\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"urlencoded\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"grant_type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"authorization_code\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"string\">\"type\"</span>: <span class=\"string\">\"text\"</span></span><br><span class=\"line\">\t\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"code\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"2Bb6B3\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"string\">\"type\"</span>: <span class=\"string\">\"text\"</span></span><br><span class=\"line\">\t\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"redirect_uri\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"http://localhost:18080\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"string\">\"type\"</span>: <span class=\"string\">\"text\"</span></span><br><span class=\"line\">\t\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t\t]</span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/oauth/token\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"auth\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"type\"</span>: <span class=\"string\">\"basic\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"basic\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"username\"</span>: <span class=\"string\">\"client-google\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"password\"</span>: <span class=\"string\">\"11111111\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"saveHelperData\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"showPassword\"</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/oauth/token\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/x-www-form-urlencoded\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Authorization\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"Basic Y2xpZW50LWdvb2dsZToxMTExMTExMQ==\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"urlencoded\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"urlencoded\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"grant_type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"refresh_token\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"string\">\"type\"</span>: <span class=\"string\">\"text\"</span></span><br><span class=\"line\">\t\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"refresh_token\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"1a7e9be1-7d85-48fa-a29e-2f84fbf0490e\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"string\">\"type\"</span>: <span class=\"string\">\"text\"</span></span><br><span class=\"line\">\t\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t\t]</span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"SYNC\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"description\"</span>: <span class=\"string\">\"\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Authorization\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"Bearer 9dae2380-c493-4e2e-a8ba-a64d112f92d5\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"description\"</span>: <span class=\"string\">\"\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\r\\n  \\\"requestId\\\": \\\"ff36a3cc-ec34-11e6-b1a0-64510650abcf\\\",\\r\\n  \\\"inputs\\\": [&#123;\\r\\n    \\\"intent\\\": \\\"action.devices.SYNC\\\"\\r\\n  &#125;]\\r\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Authorization\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"Bearer 1d213f8d-f40e-4d42-abcf-557ff0f5eee3\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\r\\n  \\\"requestId\\\": \\\"ff36a3cc-ec34-11e6-b1a0-64510650abcf\\\",\\r\\n  \\\"inputs\\\": [&#123;\\r\\n      \\\"intent\\\": \\\"action.devices.QUERY\\\",\\r\\n      \\\"payload\\\": &#123;\\r\\n        \\\"devices\\\": [&#123;\\r\\n          \\\"id\\\": \\\"8472070096451ff1-A\\\",\\r\\n          \\\"customData\\\": &#123;\\r\\n            \\\"selection\\\": 1\\r\\n          &#125;\\r\\n        &#125;, &#123;\\r\\n        \\\"id\\\": \\\"8472070096451ff1-L\\\",\\r\\n          \\\"customData\\\": &#123;\\r\\n            \\\"selection\\\": 2\\r\\n          &#125;\\r\\n        &#125;, &#123;\\r\\n        \\\"id\\\": \\\"8472070096451ff1-R\\\",\\r\\n          \\\"customData\\\": &#123;\\r\\n            \\\"selection\\\": 3\\r\\n          &#125;\\r\\n        &#125;]\\r\\n      &#125;\\r\\n  &#125;]\\r\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"QUERY\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"description\"</span>: <span class=\"string\">\"\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Authorization\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"Bearer c47d8fb8-3a17-4b2f-8c68-a871c10b58f8\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"description\"</span>: <span class=\"string\">\"\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\r\\n  \\\"requestId\\\": \\\"ff36a3cc-ec34-11e6-b1a0-64510650abcf\\\",\\r\\n  \\\"inputs\\\": [&#123;\\r\\n      \\\"intent\\\": \\\"action.devices.QUERY\\\",\\r\\n      \\\"payload\\\": &#123;\\r\\n        \\\"devices\\\": [&#123;\\r\\n          \\\"id\\\": \\\"84720720d74e1719\\\",\\r\\n          \\\"customData\\\": &#123;\\r\\n            \\\"selection\\\": 0\\r\\n          &#125;\\r\\n        &#125;]\\r\\n      &#125;\\r\\n  &#125;]\\r\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"EXECUTE - single - on, off, heat\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Authorization\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"Bearer c47d8fb8-3a17-4b2f-8c68-a871c10b58f8\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\r\\n  \\\"requestId\\\": \\\"13268283809070521413\\\",\\r\\n  \\\"inputs\\\": [&#123;\\r\\n    \\\"intent\\\": \\\"action.devices.EXECUTE\\\",\\r\\n    \\\"payload\\\": &#123;\\r\\n      \\\"commands\\\": [&#123;\\r\\n        \\\"devices\\\": [&#123;\\r\\n          \\\"customData\\\": &#123;\\r\\n            \\\"selection\\\": 1\\r\\n          &#125;,\\r\\n          \\\"id\\\": \\\"84720720d74e1719\\\"\\r\\n        &#125;],\\r\\n      \\\"execution\\\": [&#123;\\r\\n          \\\"command\\\": \\\"action.devices.commands.ThermostatSetMode\\\",\\r\\n          \\\"params\\\": &#123;\\r\\n            \\\"thermostatMode\\\": \\\"on\\\"\\r\\n          &#125;\\r\\n        &#125;]\\r\\n      &#125;]\\r\\n    &#125;\\r\\n  &#125;]\\r\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"EXECUTE - single - temp\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Authorization\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"Bearer c47d8fb8-3a17-4b2f-8c68-a871c10b58f8\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\r\\n  \\\"requestId\\\": \\\"13268283809070521413\\\",\\r\\n  \\\"inputs\\\": [&#123;\\r\\n    \\\"intent\\\": \\\"action.devices.EXECUTE\\\",\\r\\n    \\\"payload\\\": &#123;\\r\\n      \\\"commands\\\": [&#123;\\r\\n        \\\"devices\\\": [&#123;\\r\\n          \\\"customData\\\": &#123;\\r\\n            \\\"selection\\\": 1\\r\\n          &#125;,\\r\\n          \\\"id\\\": \\\"84720720d74e1719\\\"\\r\\n        &#125;],\\r\\n      \\\"execution\\\": [&#123;\\r\\n          \\\"command\\\": \\\"action.devices.commands.ThermostatTemperatureSetpoint\\\",\\r\\n          \\\"params\\\": &#123;\\r\\n            \\\"thermostatTemperatureSetpoint\\\": 30.0\\r\\n          &#125;\\r\\n        &#125;]\\r\\n      &#125;]\\r\\n    &#125;\\r\\n  &#125;]\\r\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"EXECUTE - single - heat or on with temp\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Authorization\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"Bearer c47d8fb8-3a17-4b2f-8c68-a871c10b58f8\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\n  \\\"requestId\\\": \\\"13007409608146609977\\\",\\n  \\\"inputs\\\": [\\n    &#123;\\n      \\\"intent\\\": \\\"action.devices.EXECUTE\\\",\\n      \\\"payload\\\": &#123;\\n        \\\"commands\\\": [\\n          &#123;\\n            \\\"devices\\\": [\\n              &#123;\\n                \\\"customData\\\": &#123;\\n                  \\\"selection\\\": 1\\n                &#125;,\\n                \\\"id\\\": \\\"84720720d74e1719\\\"\\n              &#125;\\n            ],\\n            \\\"execution\\\": [\\n              &#123;\\n                \\\"command\\\": \\\"action.devices.commands.ThermostatSetMode\\\",\\n                \\\"params\\\": &#123;\\n                  \\\"thermostatMode\\\": \\\"heat\\\"\\n                &#125;\\n              &#125;,\\n              &#123;\\n                \\\"command\\\": \\\"action.devices.commands.ThermostatTemperatureSetpoint\\\",\\n                \\\"params\\\": &#123;\\n                  \\\"thermostatTemperatureSetpoint\\\": 35\\n                &#125;\\n              &#125;\\n            ]\\n          &#125;\\n        ]\\n      &#125;\\n    &#125;\\n  ]\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Authorization\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"Bearer c47d8fb8-3a17-4b2f-8c68-a871c10b58f8\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\r\\n  \\\"requestId\\\": \\\"10069869892260357892\\\",\\r\\n  \\\"inputs\\\": [\\r\\n    &#123;\\r\\n      \\\"intent\\\": \\\"action.devices.QUERY\\\",\\r\\n      \\\"payload\\\": &#123;\\r\\n        \\\"devices\\\": [\\r\\n          &#123;\\r\\n            \\\"customData\\\": &#123;\\r\\n              \\\"selection\\\": 2\\r\\n            &#125;,\\r\\n            \\\"id\\\": \\\"84720720d74e1719-L\\\"\\r\\n          &#125;,\\r\\n          &#123;\\r\\n            \\\"customData\\\": &#123;\\r\\n              \\\"selection\\\": 3\\r\\n            &#125;,\\r\\n            \\\"id\\\": \\\"84720720d74e1719-R\\\"\\r\\n          &#125;,\\r\\n          &#123;\\r\\n            \\\"customData\\\": &#123;\\r\\n              \\\"selection\\\": 1\\r\\n            &#125;,\\r\\n            \\\"id\\\": \\\"84720720d74e1719-A\\\"\\r\\n          &#125;\\r\\n        ]\\r\\n      &#125;\\r\\n    &#125;\\r\\n  ]\\r\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Authorization\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"Bearer c47d8fb8-3a17-4b2f-8c68-a871c10b58f8\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\r\\n  \\\"requestId\\\": \\\"10069869892260357892\\\",\\r\\n  \\\"inputs\\\": [\\r\\n    &#123;\\r\\n      \\\"intent\\\": \\\"action.devices.QUERY\\\",\\r\\n      \\\"payload\\\": &#123;\\r\\n        \\\"devices\\\": [\\r\\n          &#123;\\r\\n            \\\"customData\\\": &#123;\\r\\n              \\\"selection\\\": 2\\r\\n            &#125;,\\r\\n            \\\"id\\\": \\\"84720720d74e1719-L\\\"\\r\\n          &#125;,\\r\\n          &#123;\\r\\n            \\\"customData\\\": &#123;\\r\\n              \\\"selection\\\": 3\\r\\n            &#125;,\\r\\n            \\\"id\\\": \\\"84720720d74e1719-R\\\"\\r\\n          &#125;\\r\\n        ]\\r\\n      &#125;\\r\\n    &#125;\\r\\n  ]\\r\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Authorization\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"Bearer c47d8fb8-3a17-4b2f-8c68-a871c10b58f8\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\r\\n  \\\"requestId\\\": \\\"10069869892260357892\\\",\\r\\n  \\\"inputs\\\": [\\r\\n    &#123;\\r\\n      \\\"intent\\\": \\\"action.devices.QUERY\\\",\\r\\n      \\\"payload\\\": &#123;\\r\\n        \\\"devices\\\": [\\r\\n          &#123;\\r\\n            \\\"customData\\\": &#123;\\r\\n              \\\"selection\\\": 2\\r\\n            &#125;,\\r\\n            \\\"id\\\": \\\"84720720d74e1719-R\\\"\\r\\n          &#125;\\r\\n        ]\\r\\n      &#125;\\r\\n    &#125;\\r\\n  ]\\r\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Authorization\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"Bearer c47d8fb8-3a17-4b2f-8c68-a871c10b58f8\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\r\\n  \\\"requestId\\\": \\\"13268283809070521413\\\",\\r\\n  \\\"inputs\\\": [&#123;\\r\\n    \\\"intent\\\": \\\"action.devices.EXECUTE\\\",\\r\\n    \\\"payload\\\": &#123;\\r\\n      \\\"commands\\\": [&#123;\\r\\n        \\\"devices\\\": [\\r\\n          &#123;\\r\\n            \\\"id\\\": \\\"84720720d74e1719\\\"\\r\\n          &#125;,\\r\\n          &#123;\\r\\n            \\\"id\\\": \\\"84720720d74e1720-L\\\"\\r\\n          &#125;,\\r\\n          &#123;\\r\\n            \\\"id\\\": \\\"84720720d74e1720-R\\\"\\r\\n          &#125;,\\r\\n                    &#123;\\r\\n            \\\"id\\\": \\\"84720720d74e1721-R\\\"\\r\\n          &#125;\\r\\n        ],\\r\\n      \\\"execution\\\": [&#123;\\r\\n          \\\"command\\\": \\\"action.devices.commands.ThermostatSetMode\\\",\\r\\n          \\\"params\\\": &#123;\\r\\n            \\\"thermostatMode\\\": \\\"heat\\\"\\r\\n          &#125;\\r\\n        &#125;]\\r\\n      &#125;]\\r\\n    &#125;\\r\\n  &#125;]\\r\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm - double - mode\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Authorization\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"Bearer c47d8fb8-3a17-4b2f-8c68-a871c10b58f8\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\r\\n  \\\"requestId\\\": \\\"13268283809070521413\\\",\\r\\n  \\\"inputs\\\": [&#123;\\r\\n    \\\"intent\\\": \\\"action.devices.EXECUTE\\\",\\r\\n    \\\"payload\\\": &#123;\\r\\n      \\\"commands\\\": [&#123;\\r\\n        \\\"devices\\\": [\\r\\n          &#123;\\r\\n            \\\"id\\\": \\\"84720720d74e1ff8-L\\\"\\r\\n          &#125;,\\r\\n          &#123;\\r\\n            \\\"id\\\": \\\"84720720d74e1ff8-R\\\"\\r\\n          &#125;\\r\\n        ],\\r\\n      \\\"execution\\\": [&#123;\\r\\n          \\\"command\\\": \\\"action.devices.commands.ThermostatSetMode\\\",\\r\\n          \\\"params\\\": &#123;\\r\\n            \\\"thermostatMode\\\": \\\"off\\\"\\r\\n          &#125;\\r\\n        &#125;]\\r\\n      &#125;]\\r\\n    &#125;\\r\\n  &#125;]\\r\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm - left - mode\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Authorization\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"Bearer c47d8fb8-3a17-4b2f-8c68-a871c10b58f8\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\r\\n  \\\"requestId\\\": \\\"13268283809070521413\\\",\\r\\n  \\\"inputs\\\": [&#123;\\r\\n    \\\"intent\\\": \\\"action.devices.EXECUTE\\\",\\r\\n    \\\"payload\\\": &#123;\\r\\n      \\\"commands\\\": [&#123;\\r\\n        \\\"devices\\\": [\\r\\n          &#123;\\r\\n            \\\"id\\\": \\\"84720720d74e1719-L\\\"\\r\\n          &#125;\\r\\n        ],\\r\\n      \\\"execution\\\": [&#123;\\r\\n          \\\"command\\\": \\\"action.devices.commands.ThermostatSetMode\\\",\\r\\n          \\\"params\\\": &#123;\\r\\n            \\\"thermostatMode\\\": \\\"on\\\"\\r\\n          &#125;\\r\\n        &#125;]\\r\\n      &#125;]\\r\\n    &#125;\\r\\n  &#125;]\\r\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm - right - mode\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Authorization\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"Bearer c47d8fb8-3a17-4b2f-8c68-a871c10b58f8\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\n  \\\"requestId\\\": \\\"1797884029292078552\\\",\\n  \\\"inputs\\\": [\\n    &#123;\\n      \\\"intent\\\": \\\"action.devices.EXECUTE\\\",\\n      \\\"payload\\\": &#123;\\n        \\\"commands\\\": [\\n          &#123;\\n            \\\"devices\\\": [\\n              &#123;\\n                \\\"customData\\\": &#123;\\n                  \\\"selection\\\": 2\\n                &#125;,\\n                \\\"id\\\": \\\"84720720d74e1719-R\\\"\\n              &#125;\\n            ],\\n            \\\"execution\\\": [\\n              &#123;\\n                \\\"command\\\": \\\"action.devices.commands.ThermostatSetMode\\\",\\n                \\\"params\\\": &#123;\\n                  \\\"thermostatMode\\\": \\\"on\\\"\\n                &#125;\\n              &#125;\\n            ]\\n          &#125;\\n        ]\\n      &#125;\\n    &#125;\\n  ],\\n  \\\"accessToken\\\": null\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Authorization\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"Bearer c47d8fb8-3a17-4b2f-8c68-a871c10b58f8\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\r\\n  \\\"requestId\\\": \\\"13268283809070521413\\\",\\r\\n  \\\"inputs\\\": [&#123;\\r\\n    \\\"intent\\\": \\\"action.devices.EXECUTE\\\",\\r\\n    \\\"payload\\\": &#123;\\r\\n      \\\"commands\\\": [&#123;\\r\\n        \\\"devices\\\": [\\r\\n          &#123;\\r\\n            \\\"id\\\": \\\"84720720d74e1719-L\\\"\\r\\n          &#125;,\\r\\n          &#123;\\r\\n            \\\"id\\\": \\\"84720720d74e1719-R\\\"\\r\\n          &#125;\\r\\n        ],\\r\\n      \\\"execution\\\": [&#123;\\r\\n          \\\"command\\\": \\\"action.devices.commands.ThermostatTemperatureSetpoint\\\",\\r\\n          \\\"params\\\": &#123;\\r\\n            \\\"thermostatTemperatureSetpoint\\\": 30.0\\r\\n          &#125;\\r\\n        &#125;]\\r\\n      &#125;]\\r\\n    &#125;\\r\\n  &#125;]\\r\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm - L\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Authorization\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"Bearer c47d8fb8-3a17-4b2f-8c68-a871c10b58f8\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\r\\n  \\\"requestId\\\": \\\"13268283809070521413\\\",\\r\\n  \\\"inputs\\\": [&#123;\\r\\n    \\\"intent\\\": \\\"action.devices.EXECUTE\\\",\\r\\n    \\\"payload\\\": &#123;\\r\\n      \\\"commands\\\": [&#123;\\r\\n        \\\"devices\\\": [\\r\\n          &#123;\\r\\n            \\\"id\\\": \\\"84720720d74e1719-L\\\"\\r\\n          &#125;\\r\\n        ],\\r\\n      \\\"execution\\\": [&#123;\\r\\n          \\\"command\\\": \\\"action.devices.commands.ThermostatTemperatureSetpoint\\\",\\r\\n          \\\"params\\\": &#123;\\r\\n            \\\"thermostatTemperatureSetpoint\\\": 34.0\\r\\n          &#125;\\r\\n        &#125;]\\r\\n      &#125;]\\r\\n    &#125;\\r\\n  &#125;]\\r\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm - R\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Authorization\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"Bearer c47d8fb8-3a17-4b2f-8c68-a871c10b58f8\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\r\\n  \\\"requestId\\\": \\\"13268283809070521413\\\",\\r\\n  \\\"inputs\\\": [&#123;\\r\\n    \\\"intent\\\": \\\"action.devices.EXECUTE\\\",\\r\\n    \\\"payload\\\": &#123;\\r\\n      \\\"commands\\\": [&#123;\\r\\n        \\\"devices\\\": [\\r\\n          &#123;\\r\\n            \\\"id\\\": \\\"84720720d74e1719-R\\\"\\r\\n          &#125;\\r\\n        ],\\r\\n      \\\"execution\\\": [&#123;\\r\\n          \\\"command\\\": \\\"action.devices.commands.ThermostatTemperatureSetpoint\\\",\\r\\n          \\\"params\\\": &#123;\\r\\n            \\\"thermostatTemperatureSetpoint\\\": 33.0\\r\\n          &#125;\\r\\n        &#125;]\\r\\n      &#125;]\\r\\n    &#125;\\r\\n  &#125;]\\r\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Authorization\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"Bearer c47d8fb8-3a17-4b2f-8c68-a871c10b58f8\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\n  \\\"requestId\\\": \\\"16703243701606581761\\\",\\n  \\\"inputs\\\": [\\n    &#123;\\n      \\\"intent\\\": \\\"action.devices.EXECUTE\\\",\\n      \\\"payload\\\": &#123;\\n        \\\"commands\\\": [\\n          &#123;\\n            \\\"devices\\\": [\\n              &#123;\\n                \\\"customData\\\": &#123;\\n                  \\\"selection\\\": 2\\n                &#125;,\\n                \\\"id\\\": \\\"84720720d74e1719-L\\\"\\n              &#125;\\n            ],\\n            \\\"execution\\\": [\\n              &#123;\\n                \\\"command\\\": \\\"action.devices.commands.ThermostatTemperatureSetpoint\\\",\\n                \\\"params\\\": &#123;\\n                  \\\"thermostatTemperatureSetpoint\\\": 31\\n                &#125;\\n              &#125;\\n            ]\\n          &#125;,\\n          &#123;\\n            \\\"devices\\\": [\\n              &#123;\\n                \\\"customData\\\": &#123;\\n                  \\\"selection\\\": 3\\n                &#125;,\\n                \\\"id\\\": \\\"84720720d74e1719-R\\\"\\n              &#125;\\n            ],\\n            \\\"execution\\\": [\\n              &#123;\\n                \\\"command\\\": \\\"action.devices.commands.ThermostatTemperatureSetpoint\\\",\\n                \\\"params\\\": &#123;\\n                  \\\"thermostatTemperatureSetpoint\\\": 32\\n                &#125;\\n              &#125;\\n            ]\\n          &#125;\\n        ]\\n      &#125;\\n    &#125;\\n  ]\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Authorization\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"Bearer c47d8fb8-3a17-4b2f-8c68-a871c10b58f8\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\n  \\\"requestId\\\": \\\"9453929798011120368\\\",\\n  \\\"inputs\\\": [\\n    &#123;\\n      \\\"intent\\\": \\\"action.devices.EXECUTE\\\",\\n      \\\"payload\\\": &#123;\\n        \\\"commands\\\": [\\n          &#123;\\n            \\\"devices\\\": [\\n              &#123;\\n                \\\"customData\\\": &#123;\\n                  \\\"selection\\\": 2\\n                &#125;,\\n                \\\"id\\\": \\\"84720720d74e1719-L\\\"\\n              &#125;,\\n              &#123;\\n                \\\"customData\\\": &#123;\\n                  \\\"selection\\\": 3\\n                &#125;,\\n                \\\"id\\\": \\\"84720720d74e1719-R\\\"\\n              &#125;\\n            ],\\n            \\\"execution\\\": [\\n              &#123;\\n                \\\"command\\\": \\\"action.devices.commands.ThermostatTemperatureSetpoint\\\",\\n                \\\"params\\\": &#123;\\n                  \\\"thermostatTemperatureSetpoint\\\": 34\\n                &#125;\\n              &#125;\\n            ]\\n          &#125;\\n        ]\\n      &#125;\\n    &#125;\\n  ]\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/sendReportState - double\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/navienMate/sendReportState\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\n  \\\"key\\\": \\\"6a759368-a67b-45e8-b0e2-57731d9680d3\\\",\\n  \\\"userId\\\": \\\"jisoo\\\",\\n  \\\"hexData\\\": \\\"F703010184720720D74E1719066C004E367759794337614C713035596C6856383469653050326372707946566336444C64422F6A35573639374A7269306747593256554B464E573234547A576C432F4C3252737541575338423163654F4466515075796E30527A756C71316838687847787749747337746B716B3D3C46\\\"\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/sendReportState - single\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/navienMate/sendReportState\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\n  \\\"key\\\": \\\"8cb583a7-5445-4492-88ef-08c3bb6a027e\\\",\\n  \\\"userId\\\": \\\"jisoo\\\",\\n  \\\"hexData\\\": \\\"F703010184720720D74E1719066C004E367759794337614C713035596C6856383469653050326372707946566336444C64422F6A35573639374A7269306747593256554B464E573234547A576C432F4C3252737541575338423163654F4466515075796E30527A756C71316838687847787749747337746B716B3D3C46\\\"\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/sendReportState - double - v\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/sendReportState\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\n  \\\"key\\\": \\\"8cb583a7-5445-4492-88ef-08c3bb6a027e\\\",\\n  \\\"userId\\\": \\\"jisoo\\\",\\n  \\\"hexData\\\": \\\"F703010184720700966F171906C0004B4C346377434E39786C647735655835323464562B546370614130384E46416D477279577854665A615137795A724B6D2B727850506B5A6A645152684B6234534A414B7730454E5772796275323077715059666753583745667A667962434C3169717950357A6E582B72426E69446F7354586239467546546449655830476D2B75566D674276317A61655856706462373951675A634C344C377A5850755259654744733946754C44787473643077567562315A484542352B316B5848496371415FEE\\\"\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/navienMate/requestSync\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/navienMate/requestSync\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\n  \\\"key\\\": \\\"6a759368-a67b-45e8-b0e2-57731d9680d3\\\",\\n  \\\"userId\\\": \\\"jisoo\\\"\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/partnerApprovals/findAll\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/partnerApprovals/findAll\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"GET\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/partnerApprovals/find\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/partnerApprovals/find\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\n  \\\"key\\\":\\\"2c9cd4f7-2ade-46f6-975e-e7cc72887b16\\\",\\n  \\\"userId\\\":\\\"google11111\\\"\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/partnerApprovals/delete\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/partnerApprovals/delete\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\n  \\\"key\\\":\\\"2c9cd4f7-2ade-46f6-975e-e7cc72887b16\\\",\\n  \\\"userId\\\":\\\"qqqqq\\\",\\n  \\\"clientId\\\":\\\"client-google\\\"\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/partnerApprovals/update\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/partnerApprovals/update\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\n  \\\"key\\\":\\\"2c9cd4f7-2ade-46f6-975e-e7cc72887b16\\\",\\n  \\\"userId\\\":\\\"google7777\\\",\\n  \\\"clientId\\\":\\\"client-google\\\",\\n  \\\"useFlag\\\":\\\"Y\\\"\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm - double - on off\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Authorization\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"Bearer c47d8fb8-3a17-4b2f-8c68-a871c10b58f8\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\r\\n  \\\"requestId\\\": \\\"13268283809070521413\\\",\\r\\n  \\\"inputs\\\": [&#123;\\r\\n    \\\"intent\\\": \\\"action.devices.EXECUTE\\\",\\r\\n    \\\"payload\\\": &#123;\\r\\n      \\\"commands\\\": [&#123;\\r\\n        \\\"devices\\\": [\\r\\n          &#123;\\r\\n            \\\"id\\\": \\\"84720720d74e1ff8-L\\\"\\r\\n          &#125;,\\r\\n          &#123;\\r\\n            \\\"id\\\": \\\"84720720d74e1ff8-R\\\"\\r\\n          &#125;\\r\\n        ],\\r\\n      \\\"execution\\\": [&#123;\\r\\n          \\\"command\\\": \\\"action.devices.commands.OnOff\\\",\\r\\n          \\\"params\\\": &#123;\\r\\n            \\\"on\\\": true\\r\\n          &#125;\\r\\n        &#125;]\\r\\n      &#125;]\\r\\n    &#125;\\r\\n  &#125;]\\r\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm - left - on off\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Authorization\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"Bearer c47d8fb8-3a17-4b2f-8c68-a871c10b58f8\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\r\\n  \\\"requestId\\\": \\\"13268283809070521413\\\",\\r\\n  \\\"inputs\\\": [&#123;\\r\\n    \\\"intent\\\": \\\"action.devices.EXECUTE\\\",\\r\\n    \\\"payload\\\": &#123;\\r\\n      \\\"commands\\\": [&#123;\\r\\n        \\\"devices\\\": [\\r\\n          &#123;\\r\\n            \\\"id\\\": \\\"84720720d74e1719-L\\\"\\r\\n          &#125;\\r\\n        ],\\r\\n      \\\"execution\\\": [&#123;\\r\\n          \\\"command\\\": \\\"action.devices.commands.OnOff\\\",\\r\\n          \\\"params\\\": &#123;\\r\\n            \\\"on\\\": false\\r\\n          &#125;\\r\\n        &#125;]\\r\\n      &#125;]\\r\\n    &#125;\\r\\n  &#125;]\\r\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm - double - temp\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Authorization\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"Bearer c47d8fb8-3a17-4b2f-8c68-a871c10b58f8\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\r\\n  \\\"requestId\\\": \\\"13268283809070521413\\\",\\r\\n  \\\"inputs\\\": [&#123;\\r\\n    \\\"intent\\\": \\\"action.devices.EXECUTE\\\",\\r\\n    \\\"payload\\\": &#123;\\r\\n      \\\"commands\\\": [&#123;\\r\\n        \\\"devices\\\": [\\r\\n          &#123;\\r\\n            \\\"id\\\": \\\"84720720d74e1ff8-L\\\"\\r\\n          &#125;,\\r\\n          &#123;\\r\\n            \\\"id\\\": \\\"84720720d74e1ff8-R\\\"\\r\\n          &#125;\\r\\n        ],\\r\\n      \\\"execution\\\": [&#123;\\r\\n          \\\"command\\\": \\\"action.devices.commands.SetTemperature\\\",\\r\\n          \\\"params\\\": &#123;\\r\\n            \\\"temperature\\\": 33\\r\\n          &#125;\\r\\n        &#125;]\\r\\n      &#125;]\\r\\n    &#125;\\r\\n  &#125;]\\r\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm - right - temp\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Authorization\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"Bearer c47d8fb8-3a17-4b2f-8c68-a871c10b58f8\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\r\\n  \\\"requestId\\\": \\\"13268283809070521413\\\",\\r\\n  \\\"inputs\\\": [&#123;\\r\\n    \\\"intent\\\": \\\"action.devices.EXECUTE\\\",\\r\\n    \\\"payload\\\": &#123;\\r\\n      \\\"commands\\\": [&#123;\\r\\n        \\\"devices\\\": [\\r\\n          &#123;\\r\\n            \\\"id\\\": \\\"84720720d74e1ff8-R\\\"\\r\\n          &#125;\\r\\n        ],\\r\\n      \\\"execution\\\": [&#123;\\r\\n          \\\"command\\\": \\\"action.devices.commands.SetTemperature\\\",\\r\\n          \\\"params\\\": &#123;\\r\\n            \\\"temperature\\\": 37\\r\\n          &#125;\\r\\n        &#125;]\\r\\n      &#125;]\\r\\n    &#125;\\r\\n  &#125;]\\r\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm - single - onOff\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Authorization\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"Bearer 8a377e94-f968-4d71-a68f-17723a6204e1\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\r\\n  \\\"requestId\\\": \\\"13268283809070521413\\\",\\r\\n  \\\"inputs\\\": [&#123;\\r\\n    \\\"intent\\\": \\\"action.devices.EXECUTE\\\",\\r\\n    \\\"payload\\\": &#123;\\r\\n      \\\"commands\\\": [&#123;\\r\\n        \\\"devices\\\": [\\r\\n          &#123;\\r\\n            \\\"id\\\": \\\"84720720d74e18df\\\"\\r\\n          &#125;\\r\\n        ],\\r\\n      \\\"execution\\\": [&#123;\\r\\n          \\\"command\\\": \\\"action.devices.commands.OnOff\\\",\\r\\n          \\\"params\\\": &#123;\\r\\n            \\\"on\\\": false\\r\\n          &#125;\\r\\n        &#125;]\\r\\n      &#125;]\\r\\n    &#125;\\r\\n  &#125;]\\r\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm - dobule - onOFF\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Authorization\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"Bearer 8a377e94-f968-4d71-a68f-17723a6204e1\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\n  \\\"requestId\\\": \\\"11221506480772703248\\\",\\n  \\\"inputs\\\": [\\n    &#123;\\n      \\\"intent\\\": \\\"action.devices.EXECUTE\\\",\\n      \\\"payload\\\": &#123;\\n        \\\"commands\\\": [\\n          &#123;\\n            \\\"devices\\\": [\\n              &#123;\\n                \\\"customData\\\": &#123;\\n                  \\\"selection\\\": 2\\n                &#125;,\\n                \\\"id\\\": \\\"84720720d74e18df-L\\\"\\n              &#125;\\n            ],\\n            \\\"execution\\\": [\\n              &#123;\\n                \\\"command\\\": \\\"action.devices.commands.OnOff\\\",\\n                \\\"params\\\": &#123;\\n                  \\\"on\\\": false\\n                &#125;\\n              &#125;\\n            ]\\n          &#125;\\n        ]\\n      &#125;\\n    &#125;\\n  ],\\n  \\\"accessToken\\\": null\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"name\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm - query - double - L\"</span>,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"request\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"url\"</span>: <span class=\"string\">\"http://localhost:18080/google-nm\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"method\"</span>: <span class=\"string\">\"POST\"</span>,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"header\"</span>: [</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Content-Type\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"application/json\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"key\"</span>: <span class=\"string\">\"Authorization\"</span>,</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"string\">\"value\"</span>: <span class=\"string\">\"Bearer 8a377e94-f968-4d71-a68f-17723a6204e1\"</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t],</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"body\"</span>: &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"mode\"</span>: <span class=\"string\">\"raw\"</span>,</span><br><span class=\"line\">\t\t\t\t\t<span class=\"string\">\"raw\"</span>: <span class=\"string\">\"&#123;\\n  \\\"requestId\\\": \\\"14908270187502446593\\\",\\n  \\\"inputs\\\": [\\n    &#123;\\n      \\\"intent\\\": \\\"action.devices.QUERY\\\",\\n      \\\"payload\\\": &#123;\\n        \\\"devices\\\": [\\n          &#123;\\n            \\\"customData\\\": &#123;\\n              \\\"selection\\\": 2\\n            &#125;,\\n            \\\"id\\\": \\\"84720720d74e18df-L\\\"\\n          &#125;\\n        ]\\n      &#125;\\n    &#125;\\n  ],\\n  \\\"accessToken\\\": null\\n&#125;\"</span></span><br><span class=\"line\">\t\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t\t<span class=\"string\">\"description\"</span>: null</span><br><span class=\"line\">\t\t\t&#125;,</span><br><span class=\"line\">\t\t\t<span class=\"string\">\"response\"</span>: []</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div></li>\n</ol>\n","text":"구글 어시스턴트에 온수매트를 연동할 업무가 주어졌다.<br>구글 어시스턴트에 대해서 진행해보자.<br>google home url : https://developers.google.com/assistant/smarthome/overview<br>goo","link":"","raw":null,"photos":[],"categories":[{"name":"tip","slug":"tip","count":23,"path":"api/categories/tip.json"}],"tags":[{"name":"Google","slug":"Google","count":1,"path":"api/tags/Google.json"},{"name":"Assistant","slug":"Assistant","count":1,"path":"api/tags/Assistant.json"},{"name":"speaker","slug":"speaker","count":1,"path":"api/tags/speaker.json"}]},{"title":"JWT(AccessToken)","slug":"JWT-AccessToken","date":"2020-10-05T06:48:50.000Z","updated":"2020-10-05T07:10:16.959Z","comments":true,"pin":null,"path":"api/articles/JWT-AccessToken.json","excerpt":"","keywords":null,"cover":"https://user-images.githubusercontent.com/62123161/95048615-1acfae00-0723-11eb-8f8b-36a2cff3b14a.png","content":"<h1 id=\"구성-요소\"><a href=\"#구성-요소\" class=\"headerlink\" title=\"구성 요소\"></a>구성 요소</h1><ul>\n<li>Header : 암호화할 방식(alg), 타입(type) 등</li>\n<li>Payload : 서버에서 보낼 데이터가 들어갑니다. 일반적으로 유저의 고유 ID값, 유효기간이 들어갑니다.</li>\n<li>Verify Signature : Base64 방식으로 인코딩한 Header,payload 그리고 SECRET KEY를 더한 후 서명됩니다.</li>\n</ul>\n<h2 id=\"최종Return값\"><a href=\"#최종Return값\" class=\"headerlink\" title=\"최종Return값\"></a>최종Return값</h2><ul>\n<li>Encoded Header + “.” + Encoded Payload + “.” + Verify Signature</li>\n</ul>\n<h2 id=\"Flow-Chart\"><a href=\"#Flow-Chart\" class=\"headerlink\" title=\"Flow Chart\"></a>Flow Chart</h2><p><a href=\"https://user-images.githubusercontent.com/62123161/95048615-1acfae00-0723-11eb-8f8b-36a2cff3b14a.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/95048615-1acfae00-0723-11eb-8f8b-36a2cff3b14a.png\" alt=\"image\"></a><br>    1. 사용자가 로그인을 한다.<br>    2. 서버에서는 계정정보를 읽어 사용자를 확인 후, 사용자의 고유한 ID값을 부여한 후, 기타 정보와 함께 Payload에 넣습니다.<br>    3. JWT 토큰의 유효기간을 설정합니다.<br>    4. 암호화할 SECRET KEY를 이용해 ACCESS TOKEN을 발급합니다.<br>    5. 사용자는 Access Token을 받아 저장한 후, 인증이 필요한 요청마다 토큰을 헤더에 실어 보냅니다.<br>    6. 서버에서는 해당 토큰의 Verify Signature를 SECRET KEY로 복호화한 후, 조작 여부, 유효기간을 확인합니다.<br>    7. 검증이 완료된다면, Payload를 디코딩하여 사용자의 ID에 맞는 데이터를 가져옵니다.  </p>\n","text":"구성 요소Header : 암호화할 방식(alg), 타입(type) 등Payload : 서버에서 보낼 데이터가 들어갑니다. 일반적으로 유저의 고유 ID값, 유효기간이 들어갑니다.Verify Signature : Base64 방식으로 인코딩한 Header","link":"","raw":null,"photos":[],"categories":[{"name":"tip","slug":"tip","count":23,"path":"api/categories/tip.json"}],"tags":[{"name":"JWT","slug":"JWT","count":1,"path":"api/tags/JWT.json"},{"name":"Structure","slug":"Structure","count":1,"path":"api/tags/Structure.json"},{"name":"flow","slug":"flow","count":2,"path":"api/tags/flow.json"}]},{"title":"Lambda","slug":"Lambda","date":"2020-05-07T02:49:14.000Z","updated":"2020-05-11T04:12:56.385Z","comments":true,"pin":null,"path":"api/articles/Lambda.json","excerpt":"","keywords":null,"cover":"https://user-images.githubusercontent.com/62123161/81253068-88878900-9062-11ea-87b3-9a3713b6bd1d.png","content":"<h2 id=\"개발환경-구축\"><a href=\"#개발환경-구축\" class=\"headerlink\" title=\"개발환경 구축\"></a>개발환경 구축</h2><p>※ 기본 개발환경</p>\n<ul>\n<li>IntelliJ</li>\n<li>Java 8, 11</li>\n<li>AWS Console</li>\n</ul>\n<h2 id=\"Lambda-설명\"><a href=\"#Lambda-설명\" class=\"headerlink\" title=\"Lambda 설명\"></a>Lambda 설명</h2><h3 id=\"1-람다는-메모리에-따라-돌아가는-환경이-달라진다\"><a href=\"#1-람다는-메모리에-따라-돌아가는-환경이-달라진다\" class=\"headerlink\" title=\"1. 람다는 메모리에 따라 돌아가는 환경이 달라진다.\"></a>1. 람다는 메모리에 따라 돌아가는 환경이 달라진다.</h3><ul>\n<li>m5-Large, t2-small 등.. OS환경은 모두 Linux 환경이지만, Node와 Python 등은 Linux2에서 동작하고, 대부분의 언어는 Linux환경에서 돌아간다.)<h3 id=\"2-a람다-b람다-a람다-콜도-가능하다\"><a href=\"#2-a람다-b람다-a람다-콜도-가능하다\" class=\"headerlink\" title=\"2. a람다-b람다-a람다 콜도 가능하다.\"></a>2. a람다-b람다-a람다 콜도 가능하다.</h3><h3 id=\"3-람다는-동기식-비동기식의-선택이-가능하다\"><a href=\"#3-람다는-동기식-비동기식의-선택이-가능하다\" class=\"headerlink\" title=\"3. 람다는 동기식, 비동기식의 선택이 가능하다.\"></a>3. 람다는 동기식, 비동기식의 선택이 가능하다.</h3></li>\n<li>경동에서 사용하는 람다들은 모두 동기식이다. 비동기식은 몇가지 안된다.</li>\n</ul>\n<h3 id=\"4-Node-js-Python\"><a href=\"#4-Node-js-Python\" class=\"headerlink\" title=\"4. Node.js, Python\"></a>4. Node.js, Python</h3><ul>\n<li>AWS Lambda 콘솔, Cloud9, IDE 플러그인이 포함된 Visual Studio/PyCharm으로 작성가능.</li>\n<li>Cloud9은 웹 자체에서 디버깅(BreakPoint 가능)이 가능하며, 동시에 여러명이서 수정이 된다.</li>\n<li>실시간으로 페이지가 갱신되므로 다른사람과 같이 작업하면, 다른사람이 작업한 내용의 수정내용을 볼 수 있다. </li>\n</ul>\n<h3 id=\"5-한도\"><a href=\"#5-한도\" class=\"headerlink\" title=\"5. 한도\"></a>5. 한도</h3><ul>\n<li><p>총 람다 동시실행 갯수: 1000개 / 75GB 가 한도이며, VPC당 인터페이스 250개까지 지원한다.</p>\n</li>\n<li><p>현재 동시실행 갯수를 운영서버계정은 2500개까지 열어두었다. </p>\n</li>\n<li><p>사실 리밋은 언제든지 Support팀에 요청하면 풀 수 있다. 리밋을 상향한다고 하여도 추가비용이 발생하지는 않는다.</p>\n</li>\n<li><p>기본적으로 1000개인 Limit을 5000개까지는 올리고 싶다. 용량 75GB는 상향의 필요성을 못느낀다.(개인생각)</p>\n</li>\n<li><p>각 람다 별 제한사항<br><a href=\"https://user-images.githubusercontent.com/62123161/81253068-88878900-9062-11ea-87b3-9a3713b6bd1d.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81253068-88878900-9062-11ea-87b3-9a3713b6bd1d.png\" alt=\"lambda_01\"></a></p>\n</li>\n</ul>\n<h3 id=\"6-Trigger-출발점-과-Destination-목적점-을-직접-지정해줄-수도-있다\"><a href=\"#6-Trigger-출발점-과-Destination-목적점-을-직접-지정해줄-수도-있다\" class=\"headerlink\" title=\"6. Trigger(출발점)과 Destination(목적점)을 직접 지정해줄 수도 있다.\"></a>6. Trigger(출발점)과 Destination(목적점)을 직접 지정해줄 수도 있다.</h3><p><a href=\"https://user-images.githubusercontent.com/62123161/81251406-29277a00-905e-11ea-8afd-d501dfb1cbd0.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81251406-29277a00-905e-11ea-8afd-d501dfb1cbd0.png\" alt=\"lambda_02\"></a></p>\n<ul>\n<li>Trigger / Destination List<br><a href=\"https://user-images.githubusercontent.com/62123161/81251405-288ee380-905e-11ea-9ed2-d6cdc2f61c0d.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81251405-288ee380-905e-11ea-9ed2-d6cdc2f61c0d.png\" alt=\"lambda_03\"></a><br><a href=\"https://user-images.githubusercontent.com/62123161/81251404-288ee380-905e-11ea-80fa-3d4775ad102d.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81251404-288ee380-905e-11ea-80fa-3d4775ad102d.png\" alt=\"lambda_04\"></a></li>\n</ul>\n<h3 id=\"7-람다를-내부에서-실행시켜-외부의-값을-가져오려고-할때는-아래와-같은-순서를-따르면-된다\"><a href=\"#7-람다를-내부에서-실행시켜-외부의-값을-가져오려고-할때는-아래와-같은-순서를-따르면-된다\" class=\"headerlink\" title=\"7. 람다를 내부에서 실행시켜 외부의 값을 가져오려고 할때는 아래와 같은 순서를 따르면 된다.\"></a>7. 람다를 내부에서 실행시켜 외부의 값을 가져오려고 할때는 아래와 같은 순서를 따르면 된다.</h3><ul>\n<li>온수매트의 Kweather정보는 상관없으나, TAC의 AirKorea는 반드시 이 설정을 해주어야 한다.</li>\n<li>Lambda 함수를 Private Subnet에 위치시키고,(콘솔화면 기준 : VPC - RouteTable - Lambda 함수가 설정된 VPC - Subnet의 RouteTable 설정)</li>\n<li>RouteTable 정책을 Lambda Subnet을 0.0.0.0/0 인터넷망을 나갈때 NAT Gateway를 통하도록 설정(VPC - NAT Gatewat 에서 IP 를 확인하시고, 해당 Elastic IP(고정 IP)를 Whitelist 로 넣어줌) <a href=\"https://www.slideshare.net/addnull/aws-lambdas-with-a-static-outgoing-ip\" target=\"_blank\" rel=\"noopener\">https://www.slideshare.net/addnull/aws-lambdas-with-a-static-outgoing-ip</a></li>\n</ul>\n<h3 id=\"8-모니터링\"><a href=\"#8-모니터링\" class=\"headerlink\" title=\"8. 모니터링\"></a>8. 모니터링</h3><ul>\n<li>아래 그림처럼 수행 구간별로 구분해서 분석이 가능함. (참고용… 중요하지 않음)<img width=\"420\" alt=\"lambda_05\" src=\"https://user-images.githubusercontent.com/62123161/81251472-56742800-905e-11ea-9142-0687f7ccb0de.png\">\n\n</li>\n</ul>\n<h3 id=\"9-SDK\"><a href=\"#9-SDK\" class=\"headerlink\" title=\"9. SDK\"></a>9. SDK</h3><ul>\n<li>Java에 적용된 SDK들은 이미 Node.js나 Python에 적용 되어 있다.</li>\n<li>우리가 쓰고자 하는 기능은 당연히 이미 SDK로 나와있다. 예) Dynamo 제어, S3 Bucket 제어, RDS 제어, Kinesis 제어 등등….  </li>\n<li>위 a번의 근거는, 람다를 스크립트언어로 사용하는 곳이 많기에 우선적으로 라이브러리를 지원해주기 때문.</li>\n<li>상대적으로 람다를 Java로 쓰는 곳은 그다지 많이 없다.(구동에 시간이 많이 들기에 빠른반응을 해줘야하는 서비스의 경우 Java를 안쓴다고 전해들었다.)</li>\n</ul>\n<h3 id=\"10-Lambda-RDS\"><a href=\"#10-Lambda-RDS\" class=\"headerlink\" title=\"10. Lambda - RDS\"></a>10. Lambda - RDS</h3><p>Python AWS 공식 자습서 예제 : <a href=\"https://docs.aws.amazon.com/ko_kr/lambda/latest/dg/services-rds-tutorial.html\" target=\"_blank\" rel=\"noopener\">https://docs.aws.amazon.com/ko_kr/lambda/latest/dg/services-rds-tutorial.html</a><br>일반 블로그 Node.js 예제 : <a href=\"https://grip.news/archives/1411\" target=\"_blank\" rel=\"noopener\">https://grip.news/archives/1411</a><br>Node.js AWS 공식 설명서 예제 : <a href=\"https://docs.aws.amazon.com/ko_kr/lambda/latest/dg/lambda-nodejs.html\" target=\"_blank\" rel=\"noopener\">https://docs.aws.amazon.com/ko_kr/lambda/latest/dg/lambda-nodejs.html</a></p>\n<h2 id=\"결론\"><a href=\"#결론\" class=\"headerlink\" title=\"결론\"></a>결론</h2><p>위와 같은 람다의 특성으로 미루어 볼 때, 체크해야될 리스트는 아래와 같다.</p>\n<ol>\n<li>람다→람다를 호출하는 과정이 있을 수 있을지 설계단에서 한번 보아야 한다.</li>\n</ol>\n<ul>\n<li>스마트톡에는 람다→ 람다를 호출하는 과정이 없이, 기능별로만 쪼개놓은 상황이고, 기능이 겹친다고 하더라도 다 따로 만들어주었다.</li>\n</ul>\n<ol start=\"2\">\n<li>여러사람이 개발을 진행해야 한다면, Script언어를 같이 개발할 수 있는 Cloud9검토가 필요하다.(디버깅이 가능하고, 동시개발이 가능한점이 큰 이점. 히스토리도 AWS가 갖고있다.)</li>\n<li>한도는 최대한으로 늘려놓는 것이 좋을 것 같다. 1000→ 5000개정도. 또한, 각 람다별 메모리도 일단은 1024 이상으로 올려 사용하다가 사용량을 비교하여 낮추는 방향도 고려필요.</li>\n<li>VPC위에 lambda를 올려 실행시키는 방법을 미리 고민해두어야 함.</li>\n<li>SDK는 모두 제공하므로 걱정안해도 됨.</li>\n</ol>\n","text":"개발환경 구축※ 기본 개발환경IntelliJJava 8, 11AWS ConsoleLambda 설명1. 람다는 메모리에 따라 돌아가는 환경이 달라진다.m5-Large, t2-small 등.. OS환경은 모두 Linux 환경이지만, Node와 Python","link":"","raw":null,"photos":[],"categories":[{"name":"tip","slug":"tip","count":23,"path":"api/categories/tip.json"}],"tags":[{"name":"AWS","slug":"AWS","count":14,"path":"api/tags/AWS.json"},{"name":"Lambda","slug":"Lambda","count":1,"path":"api/tags/Lambda.json"},{"name":"java","slug":"java","count":1,"path":"api/tags/java.json"}]},{"title":"Lambda Python ColdStart Test","slug":"LambdaPythonColdStart","date":"2020-05-06T23:38:19.000Z","updated":"2020-05-11T05:40:02.120Z","comments":true,"pin":null,"path":"api/articles/LambdaPythonColdStart.json","excerpt":"","keywords":null,"cover":"https://user-images.githubusercontent.com/62123161/81248123-a9e27800-9056-11ea-9be2-3d469e5aca52.png","content":"<h2 id=\"개발환경-구축\"><a href=\"#개발환경-구축\" class=\"headerlink\" title=\"개발환경 구축\"></a>개발환경 구축</h2><p>※ 기본 개발환경</p>\n<ul>\n<li>IntelliJ</li>\n<li>Python</li>\n<li>AWS Console</li>\n</ul>\n<h2 id=\"Lambda-Python-설명\"><a href=\"#Lambda-Python-설명\" class=\"headerlink\" title=\"Lambda Python 설명\"></a>Lambda Python 설명</h2><ul>\n<li>팀장님께서 조사하신 내용을 토대로 Java가 콜드스타트에서 많은 시간을 소모한다는 점에 착안하여 Python으로 시도해보기로 함.</li>\n<li>Node로도 Python과 큰 차이없는 성능을 보여주었던 만큼 기대하고 테스트를 진행함.</li>\n</ul>\n<h2 id=\"설정\"><a href=\"#설정\" class=\"headerlink\" title=\"설정\"></a>설정</h2><ol>\n<li>pymysql 라이브러리를 Python 코드에 넣어야 함.</li>\n<li>가능하면 Layer에 넎어주는 편이 좋다.</li>\n</ol>\n<h3 id=\"개발\"><a href=\"#개발\" class=\"headerlink\" title=\"개발\"></a>개발</h3><h4 id=\"1-Lambda-접속\"><a href=\"#1-Lambda-접속\" class=\"headerlink\" title=\"1) Lambda 접속\"></a>1) Lambda 접속</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81248123-a9e27800-9056-11ea-9be2-3d469e5aca52.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81248123-a9e27800-9056-11ea-9be2-3d469e5aca52.png\" alt=\"lambdapython_01\"></a></p>\n<h4 id=\"2-Create-Function-클릭-및-IAM권한까지-해서-함수생성\"><a href=\"#2-Create-Function-클릭-및-IAM권한까지-해서-함수생성\" class=\"headerlink\" title=\"2) Create Function 클릭 및 IAM권한까지 해서 함수생성\"></a>2) Create Function 클릭 및 IAM권한까지 해서 함수생성</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81248121-a949e180-9056-11ea-8148-4a19eb45aa0e.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81248121-a949e180-9056-11ea-8148-4a19eb45aa0e.png\" alt=\"lambdapython_02\"></a></p>\n<h4 id=\"3-Layer이라는-곳이-있음\"><a href=\"#3-Layer이라는-곳이-있음\" class=\"headerlink\" title=\"3) Layer이라는 곳이 있음.\"></a>3) Layer이라는 곳이 있음.</h4><ul>\n<li>자주쓰는 라이브러리들을 여기에 등록해서 땡겨쓰는건데, 필요하면 이 부분은 따로 설명하는 부분을 만들어야 할 듯.</li>\n<li>기본개념은 람다 밑에 계층을 만들어서 계층 내의 라이브러리를 저장해서 필요할때마다 import 해서 쓰는 개념.</li>\n<li>(참고로 아직 제대로 써보는 방법도 못찾아봤음)<br><a href=\"https://user-images.githubusercontent.com/62123161/81248120-a7801e00-9056-11ea-8709-a15ce1cbda8b.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81248120-a7801e00-9056-11ea-8709-a15ce1cbda8b.png\" alt=\"lambdapython_03\"></a></li>\n</ul>\n<h4 id=\"4-Code-entry-type을-Upload-zip-file로-변경하고-밑의-Upload를-선택하여-위에-다운받은-파일을-넣는다\"><a href=\"#4-Code-entry-type을-Upload-zip-file로-변경하고-밑의-Upload를-선택하여-위에-다운받은-파일을-넣는다\" class=\"headerlink\" title=\"4) Code entry type을 Upload zip file로 변경하고 밑의 Upload를 선택하여 위에 다운받은 파일을 넣는다.\"></a>4) Code entry type을 Upload zip file로 변경하고 밑의 Upload를 선택하여 위에 다운받은 파일을 넣는다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81248125-ab13a500-9056-11ea-8c95-ae25e76cf132.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81248125-ab13a500-9056-11ea-8c95-ae25e76cf132.png\" alt=\"lambdapython_04\"></a></p>\n<ul>\n<li>(중요!!) 넣고 반드시 우측상단 Save노란색 버튼을 눌러줘야 한다. 안누르면 그냥 아무것도 안한상태가 됨.</li>\n</ul>\n<h4 id=\"5-저장-후-Code-entry-type을-Edit-code-inline으로-만들면-아래와-같은-화면이-나오고-코드를-직접-수정할-수-있다\"><a href=\"#5-저장-후-Code-entry-type을-Edit-code-inline으로-만들면-아래와-같은-화면이-나오고-코드를-직접-수정할-수-있다\" class=\"headerlink\" title=\"5) 저장 후 Code entry type을 Edit code inline으로 만들면 아래와 같은 화면이 나오고, 코드를 직접 수정할 수 있다.\"></a>5) 저장 후 Code entry type을 Edit code inline으로 만들면 아래와 같은 화면이 나오고, 코드를 직접 수정할 수 있다.</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81248124-aa7b0e80-9056-11ea-9d30-8a7fef821dea.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81248124-aa7b0e80-9056-11ea-9d30-8a7fef821dea.png\" alt=\"lambdapython_05\"></a></p>\n<ul>\n<li>(중요!!) Handler에 main.main 으로 넣고 세이브한다.</li>\n</ul>\n<h4 id=\"6-우측상단의-테스트케이스를-만들어서-테스트를-돌리면된다\"><a href=\"#6-우측상단의-테스트케이스를-만들어서-테스트를-돌리면된다\" class=\"headerlink\" title=\"6) 우측상단의 테스트케이스를 만들어서 테스트를 돌리면된다.\"></a>6) 우측상단의 테스트케이스를 만들어서 테스트를 돌리면된다.</h4><h3 id=\"끝\"><a href=\"#끝\" class=\"headerlink\" title=\"-끝-\"></a>-끝-</h3><h3 id=\"소스\"><a href=\"#소스\" class=\"headerlink\" title=\"소스\"></a>소스</h3><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>Full Source</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># A lambda function to interact with AWS RDS MySQL</span></span><br><span class=\"line\">import json</span><br><span class=\"line\">import pymysql</span><br><span class=\"line\">import sys</span><br><span class=\"line\"> </span><br><span class=\"line\">REGION = <span class=\"string\">'ap-northeast-2'</span></span><br><span class=\"line\"> </span><br><span class=\"line\">rds_host  = <span class=\"string\">\"RDS_ENDPOINT\"</span></span><br><span class=\"line\">name = <span class=\"string\">\"ID\"</span></span><br><span class=\"line\">password = <span class=\"string\">\"PW\"</span></span><br><span class=\"line\">db_name = <span class=\"string\">\"DATABASE_NAME\"</span></span><br><span class=\"line\"> </span><br><span class=\"line\">def save_events(event):</span><br><span class=\"line\">    <span class=\"string\">\"\"</span><span class=\"string\">\"</span></span><br><span class=\"line\"><span class=\"string\">    This function fetches content from mysql RDS instance</span></span><br><span class=\"line\"><span class=\"string\">    \"</span><span class=\"string\">\"\"</span></span><br><span class=\"line\">    result = []</span><br><span class=\"line\">    conn = pymysql.connect(rds_host, user=name, passwd=password, db=db_name, connect_timeout=5)</span><br><span class=\"line\">    with conn.cursor() as cur:</span><br><span class=\"line\">        <span class=\"comment\"># cur.execute(\"\"\"insert into test (id, name) values( %s, '%s')\"\"\" % (event['id'], event['name']))</span></span><br><span class=\"line\">        cur.execute(<span class=\"string\">\"\"</span><span class=\"string\">\"select * from [TABLE_NAME]\"</span><span class=\"string\">\"\"</span>)</span><br><span class=\"line\">        conn.commit()</span><br><span class=\"line\">        cur.close()</span><br><span class=\"line\">        <span class=\"keyword\">for</span> row <span class=\"keyword\">in</span> cur:</span><br><span class=\"line\">            result.append(list(row))</span><br><span class=\"line\">        <span class=\"comment\"># print \"Data from RDS...\"</span></span><br><span class=\"line\">        <span class=\"built_in\">return</span> &#123;</span><br><span class=\"line\">        <span class=\"string\">'statusCode'</span>: 200,</span><br><span class=\"line\">        <span class=\"string\">'body'</span>: json.dumps(result)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">        <span class=\"comment\"># print result</span></span><br><span class=\"line\"> </span><br><span class=\"line\">def main(event, context):</span><br><span class=\"line\">    save_events(event)</span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"테스트-결과\"><a href=\"#테스트-결과\" class=\"headerlink\" title=\"테스트 결과\"></a>테스트 결과</h3><h4 id=\"1-자바의-Cold-Start-이후-지속호출\"><a href=\"#1-자바의-Cold-Start-이후-지속호출\" class=\"headerlink\" title=\"1) 자바의 Cold Start 이후 지속호출\"></a>1) 자바의 Cold Start 이후 지속호출</h4><p>REPORT RequestId: e48ab981-212a-41c9-96e2-ed07b3f50d8d Duration: 2624.96 ms Billed Duration: 2700 ms Memory Size: 2048 MB Max Memory Used: 157 MB Init Duration: 314.42 ms<br>REPORT RequestId: 25754b1d-1eb5-4e47-b281-8f7f25f86b0e Duration: 2.34 ms Billed Duration: 100 ms Memory Size: 2048 MB Max Memory Used: 157 MB<br>REPORT RequestId: 8e4b7664-f8bd-43bb-a93a-1ce762ff9e08 Duration: 8.53 ms Billed Duration: 100 ms Memory Size: 2048 MB Max Memory Used: 157 MB<br>REPORT RequestId: c75c69c3-c25d-4ca1-a89f-b47568db2b32 Duration: 2.35 ms Billed Duration: 100 ms Memory Size: 2048 MB Max Memory Used: 157 MB<br>REPORT RequestId: a8579b00-6799-4805-b20e-2bda8233f3bf Duration: 2.51 ms Billed Duration: 100 ms Memory Size: 2048 MB Max Memory Used: 157 MB</p>\n<h4 id=\"2-Python의-Cold-Start-이후-지속호출\"><a href=\"#2-Python의-Cold-Start-이후-지속호출\" class=\"headerlink\" title=\"2) Python의 Cold Start 이후 지속호출\"></a>2) Python의 Cold Start 이후 지속호출</h4><p>REPORT RequestId: d9e08910-f520-46f1-998d-dc464ab906d4 Duration: 89.94 ms Billed Duration: 100 ms Memory Size: 128 MB Max Memory Used: 52 MB Init Duration: 178.14 ms<br>REPORT RequestId: 3b38dbe2-50ef-4fa0-914f-fbe8f537fdda Duration: 56.36 ms Billed Duration: 100 ms Memory Size: 128 MB Max Memory Used: 53 MB<br>REPORT RequestId: f9943532-58b0-422e-b040-0e71a7f38837 Duration: 57.04 ms Billed Duration: 100 ms Memory Size: 128 MB Max Memory Used: 52 MB<br>REPORT RequestId: b53b4659-db4a-44c6-aca4-aacca7897648 Duration: 90.57 ms Billed Duration: 100 ms Memory Size: 128 MB Max Memory Used: 52 MB Init Duration: 163.13 ms<br>REPORT RequestId: ef27297d-b738-44eb-b75f-a180ff58abc1 Duration: 187.70 ms Billed Duration: 200 ms Memory Size: 128 MB Max Memory Used: 52 MB Init Duration: 164.85 ms</p>\n<h3 id=\"리포팅\"><a href=\"#리포팅\" class=\"headerlink\" title=\"리포팅\"></a>리포팅</h3><ol>\n<li>파이선 특징</li>\n</ol>\n<ul>\n<li>라이브러리를 모두 직접 등록해줘야 하는 단점…&lt;Maven, Gradle이 그립다.&gt;</li>\n<li>파일을 직접 넣어줘야하고, 지원되는 라이브러리가 생각보다 별로없다.</li>\n<li>디버깅이 어렵다.(이건 툴 문제)</li>\n</ul>\n<ol start=\"2\">\n<li>람다의 특성</li>\n</ol>\n<ul>\n<li>참고로 람다는 복사&lt;똑같은 람다 이름만바꿔서 생성&gt;가 안된다. 할거라면 새로 만들어야 한다. AWS정책임.</li>\n<li>Layer이라는 개념을 스크립트언어에서는 반드시 써줘야 하는데, 내생각보다 좀 좋은 기능으로 보인다.</li>\n</ul>\n","text":"개발환경 구축※ 기본 개발환경IntelliJPythonAWS ConsoleLambda Python 설명팀장님께서 조사하신 내용을 토대로 Java가 콜드스타트에서 많은 시간을 소모한다는 점에 착안하여 Python으로 시도해보기로 함.Node로도 Pyth","link":"","raw":null,"photos":[],"categories":[{"name":"tip","slug":"tip","count":23,"path":"api/categories/tip.json"}],"tags":[{"name":"AWS","slug":"AWS","count":14,"path":"api/tags/AWS.json"},{"name":"cold start","slug":"cold-start","count":1,"path":"api/tags/cold-start.json"},{"name":"hot start","slug":"hot-start","count":1,"path":"api/tags/hot-start.json"},{"name":"python","slug":"python","count":2,"path":"api/tags/python.json"}]},{"title":"Python 개발을 위한 IntelliJ 설정","slug":"LambdaPythonIntelliJ","date":"2020-05-11T05:26:08.000Z","updated":"2020-05-11T07:32:16.664Z","comments":true,"pin":null,"path":"api/articles/LambdaPythonIntelliJ.json","excerpt":"","keywords":null,"cover":"https://user-images.githubusercontent.com/62123161/81527423-2ba70e00-9395-11ea-919a-eb4abd661e5d.png","content":"<h2 id=\"개발환경-구축\"><a href=\"#개발환경-구축\" class=\"headerlink\" title=\"개발환경 구축\"></a>개발환경 구축</h2><p>※ 기본 개발환경</p>\n<ul>\n<li>IntelliJ, Django</li>\n<li>Python</li>\n<li>AWS Console, SAM(Serverless Application Model), RDS(MySQL)</li>\n</ul>\n<h2 id=\"개요\"><a href=\"#개요\" class=\"headerlink\" title=\"개요\"></a>개요</h2><ul>\n<li>파이썬 개발을 진행하고자 하면, 설정이 50%다. </li>\n<li>설정이 꼬여버리면 어떻게든 개발이 진행되지 않으므로, 설정에 유의하자. (돈이 상관없다면 Cloud9을 사용하는 것도 좋다.)</li>\n</ul>\n<h2 id=\"설정\"><a href=\"#설정\" class=\"headerlink\" title=\"설정\"></a>설정</h2><h3 id=\"IntelliJ-설치\"><a href=\"#IntelliJ-설치\" class=\"headerlink\" title=\"IntelliJ 설치\"></a>IntelliJ 설치</h3><ul>\n<li>원하는 버전을 설치해도 상관없겠지만, 1년씩 정기구독하면서 업데이트를 지원받는 IntelliJ IDEA Ultimate 를 사용하려 하였다.</li>\n<li>물론 Visual Studio도 지원을 해준다. 난 개인적으로 IDE는 IntelliJ 를 사용하고자 하였고, 이를 여기에 기록으로 남긴다.<br><a href=\"https://user-images.githubusercontent.com/62123161/81527423-2ba70e00-9395-11ea-919a-eb4abd661e5d.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81527423-2ba70e00-9395-11ea-919a-eb4abd661e5d.png\" alt=\"LambdaPythonIntelliJ_01\"></a><br>IntelliJ에서는 아래와 같은 링크에서 보고 따라하기만 하면된다. Plugin 설치임.<br>(<a href=\"https://whitefrost-developer.tistory.com/7\" target=\"_blank\" rel=\"noopener\">https://whitefrost-developer.tistory.com/7</a>)</li>\n</ul>\n<h3 id=\"Python-설치\"><a href=\"#Python-설치\" class=\"headerlink\" title=\"Python 설치\"></a>Python 설치</h3><ul>\n<li>작성일자까지 확인해본 바로는 현재 Python은 3.8.2버전이 마지막 버전이다. </li>\n<li>설치방법은 아래 참고하자.<ol>\n<li><a href=\"http://www.python.org에서\" target=\"_blank\" rel=\"noopener\">www.python.org에서</a> 다운로드 메뉴 - Python 3.5이상 선택해서 다운로드</li>\n<li>설치 과정에서 Add Python 3.5 to Path 반드시 체크</li>\n<li>설치 확인 윈도우키 + R을 눌러서 나오는 창에 powershell이라고 치고, 확인을 눌러서 powershell실행<br><a href=\"https://user-images.githubusercontent.com/62123161/81527422-2b0e7780-9395-11ea-9f50-d801c3d11225.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81527422-2b0e7780-9395-11ea-9f50-d801c3d11225.png\" alt=\"LambdaPythonIntelliJ_02\"></a></li>\n</ol>\n</li>\n</ul>\n<h3 id=\"SAM-설치\"><a href=\"#SAM-설치\" class=\"headerlink\" title=\"SAM 설치\"></a>SAM 설치</h3><p><a href=\"https://github.com/awslabs/aws-sam-cli/releases\" target=\"_blank\" rel=\"noopener\">https://github.com/awslabs/aws-sam-cli/releases</a></p>\n<h3 id=\"RDS-및-Dynamo-설정\"><a href=\"#RDS-및-Dynamo-설정\" class=\"headerlink\" title=\"RDS 및 Dynamo 설정\"></a>RDS 및 Dynamo 설정</h3><p>MySQL 설정 : <a href=\"https://docs.aws.amazon.com/ko_kr/AmazonRDS/latest/UserGuide/CHAP_MySQL.html\" target=\"_blank\" rel=\"noopener\">https://docs.aws.amazon.com/ko_kr/AmazonRDS/latest/UserGuide/CHAP_MySQL.html</a><br>DynamoDB 설정 : <a href=\"https://aws.amazon.com/ko/dynamodb/getting-started/\" target=\"_blank\" rel=\"noopener\">https://aws.amazon.com/ko/dynamodb/getting-started/</a></p>\n<h4 id=\"MySQL-기타설정-Optional\"><a href=\"#MySQL-기타설정-Optional\" class=\"headerlink\" title=\"MySQL 기타설정(Optional)\"></a>MySQL 기타설정(Optional)</h4><ul>\n<li>우선 기본적으로 ap-northeast-2(Seoul)에 설정하면, 당연히 SysDate()나 Now() 함수를 호출하여 현재 한국의 시간을 받아올 수 있을 줄 알았다.</li>\n<li>말도 안되겠지만, 시간을 조회하면 UTC+0이 들어온다. (그리니치 천문대 : 영국)</li>\n<li>그래서 아래와 같은 세팅을 해주어야 한다.<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>Timezone 체크 쿼리(SQL)</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT @@global.time_zone, @@session.time_zone;  --현재 시스템과 세션에 설정된 타임존 보기</span><br><span class=\"line\">SET time_zone = <span class=\"string\">'Asia/Seoul'</span>; --현재 시스템의 타임존 바꿔버리기.</span><br></pre></td></tr></table></figure></div>\n위 내용은 가장 간단해서 쓴거고.. 다른방법도 있다.(어차피 RDS환경에서 다른방법은 답이없을듯.)<br>쓸거면 여기 링크 참고(<a href=\"https://jwkim96.tistory.com/23\" target=\"_blank\" rel=\"noopener\">https://jwkim96.tistory.com/23</a>)</li>\n</ul>\n<h3 id=\"Django-설치-Optional\"><a href=\"#Django-설치-Optional\" class=\"headerlink\" title=\"Django 설치(Optional)\"></a>Django 설치(Optional)</h3><p>공식 Document : <a href=\"https://docs.djangoproject.com/en/3.0/topics/install/\" target=\"_blank\" rel=\"noopener\">https://docs.djangoproject.com/en/3.0/topics/install/</a><br>문서보고 설치하면 된다.</p>\n<h2 id=\"개발\"><a href=\"#개발\" class=\"headerlink\" title=\"개발\"></a>개발</h2><p>모든 설정은 끝났다. 이제 개발만 하면되겟지만, 디버깅 모드에 관해서만 남기고 글을 마무리한다.<br>위 내용 중에 IntelliJ 설정이 완료가 되었다면 아래와 같은 화면을 볼 수 있을 것이다.</p>\n<h3 id=\"IntelliJ-프로젝트-생성\"><a href=\"#IntelliJ-프로젝트-생성\" class=\"headerlink\" title=\"IntelliJ 프로젝트 생성\"></a>IntelliJ 프로젝트 생성</h3><p><a href=\"https://user-images.githubusercontent.com/62123161/81527416-2a75e100-9395-11ea-815d-fabac97f59f4.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81527416-2a75e100-9395-11ea-815d-fabac97f59f4.png\" alt=\"LambdaPythonIntelliJ_03\"></a></p>\n<ol>\n<li>Django를 선택해준다.<ul>\n<li>SQL Support 선택하지 않은 이유 : 보통 우리는 대부분의 서비스를 DB와 같이 쓴다. 하지만, 당장 pymysql만을 사용하겠다라고 하면 체크할 필요는 없을 것으로 판단이 되며,</li>\n<li>필요한 항목이 있을 경우 그때그때 import 해서 쓰면 된다는 생각이 들었기에 따로 체크하지 않는다.(물론 체크해서 사용해도 상관없다. 그냥 프로그램이 조금더 무거워질수도 있겠지..큰차이는 없다)</li>\n</ul>\n</li>\n<li>Next 클릭</li>\n<li>기존의 Flash Project Template가 없을것이다. 그냥 Next.</li>\n<li>프로젝트의 이름과 경로등이 정확히 들어갔는지 확인하고 Finish.</li>\n</ol>\n<h3 id=\"IntelliJ-프로젝트-디버깅\"><a href=\"#IntelliJ-프로젝트-디버깅\" class=\"headerlink\" title=\"IntelliJ 프로젝트 디버깅\"></a>IntelliJ 프로젝트 디버깅</h3><p><img src=\"https://user-images.githubusercontent.com/62123161/81527426-2c3fa480-9395-11ea-990d-e56f2c82150d.png\" alt=\"LambdaPythonIntelliJ_04\"></p>\n<ul>\n<li>이전 과정을 거치고 나면 위와 같은 화면을 마주하게 될 것이다.</li>\n<li>manage.py가 기본 Default main소스라고 보면 된다.</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/62123161/81527425-2c3fa480-9395-11ea-9063-c2786f3f9c3b.png\" alt=\"LambdaPythonIntelliJ_05\"></p>\n<ul>\n<li>디버깅이 잘 적용되는걸 볼 수 있다.</li>\n<li>저 os관련된 라이브러리는 크게 필요없으니 지워도된다. 알아서 정리해서 써보시길..</li>\n</ul>\n","text":"개발환경 구축※ 기본 개발환경IntelliJ, DjangoPythonAWS Console, SAM(Serverless Application Model), RDS(MySQL)개요파이썬 개발을 진행하고자 하면, 설정이 50%다. 설정이 꼬여버리면 어떻게든","link":"","raw":null,"photos":[],"categories":[{"name":"tip","slug":"tip","count":23,"path":"api/categories/tip.json"}],"tags":[{"name":"AWS","slug":"AWS","count":14,"path":"api/tags/AWS.json"},{"name":"python","slug":"python","count":2,"path":"api/tags/python.json"},{"name":"IntelliJ","slug":"IntelliJ","count":1,"path":"api/tags/IntelliJ.json"}]},{"title":"MQTT 비교","slug":"MQTT-Info","date":"2020-10-05T06:07:26.000Z","updated":"2020-10-05T07:13:06.815Z","comments":true,"pin":null,"path":"api/articles/MQTT-Info.json","excerpt":"","keywords":null,"cover":"https://user-images.githubusercontent.com/62123161/95045402-f2dd4c00-071c-11eb-9c49-2510fce691c3.png","content":"<h1 id=\"공통적인-MQTT-특성\"><a href=\"#공통적인-MQTT-특성\" class=\"headerlink\" title=\"공통적인 MQTT 특성\"></a>공통적인 MQTT 특성</h1><ul>\n<li><dl><dt>QOS (QUALITY OF SERVICE)</dt><dd>MQTT는 시스템에 참여하는 장치들의 처리 능력, 네트워크 대역폭, 메시지 오버헤드 등 주변상황에 맞게 시스템이 동작할 수 있도록 3단계 QoS(Quality of Service) 를 제공합니다.</dd></dl><ul>\n<li><p>0 : 메시지는 한번만 전달하며, 전달여부를 확인하지 않는다. Fire and Forget 타입이다.</p>\n</li>\n<li><p>1 : 메시지는 반드시 한번 이상 전달된다. 하지만 메시지의 핸드셰이킹 과정을 엄밀하게 추적하지 않기 때문에, 중복전송될 수도 있다.</p>\n</li>\n<li><p>2 : 메시지는 한번만 전달된다. 메시지의 핸드셰이킹 과정을 추적한다. 높은 품질을 보장하지만 성능의 희생이 따른다.</p>\n</li>\n<li><p>0에 가까울수록 메시지 처리에 대한 부하가 적은 대신 메시지 손실 위험이 높아집니다. 2에 가까울수록 메시지 손실 위험은 줄어들지만 메시지 처리 부하가 급격히 늘어납니다.<br>(보통 0~1 정도의 QoS를 사용하면서 메시지 손실등의 위험은 상위 어플리케이션 차원에서 관리하도록 하는듯 합니다.)</p>\n</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"Mosquitto-특성\"><a href=\"#Mosquitto-특성\" class=\"headerlink\" title=\"Mosquitto 특성\"></a>Mosquitto 특성</h1><p><a href=\"https://user-images.githubusercontent.com/62123161/95045402-f2dd4c00-071c-11eb-9c49-2510fce691c3.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/95045402-f2dd4c00-071c-11eb-9c49-2510fce691c3.png\" alt=\"image\"></a><br>    - 단일 스레드 방식로 구현 : poll() 메소드를 이용하여 루프를 계속해서 반복하며 데이터를 받고 처리.<br>    - MQTT의 기본 기능을 충실히 지원하는 가벼운 MQTT 브로커<br>    - will(유언)<br>        a. –will-topic : 연결이 끊어지면 메세지 보낼 토픽<br>        b. –will-qos : 연결이 끊어지면 어떤 qos level로 보낼지(0~2)<br>        c. –will-payload : 연결이 끊어지면 보낼 메세지<br>    - Topic<br>        a. +, # 등 wildcard 사용가능<br>    - Session<br>        a. cleanSession 명령어를 false로 두면 완전히 연결을 끊지 않고 대기로 전환.(연결되면 자동활성화)<br>        b. HeartBeat을 전송하고 응답없으면 끊어버림. (시간, 일, 주, 월, 연도로 변경가능)<br>    - QoS(Default 0)<br>    - Client Size<br>        a. Default : 512개<br>    - MySQL과 연동<br>    - Protocol Version : 3.1 / 3.1.1<br>    - WebSocket 사용가능<br>    - 명령어 Page(<a href=\"https://mosquitto.org/man/mosquitto-8.html\" target=\"_blank\" rel=\"noopener\">https://mosquitto.org/man/mosquitto-8.html</a>)<br>    - 라이센스 없음.</p>\n<h2 id=\"Mosquitto-테스트\"><a href=\"#Mosquitto-테스트\" class=\"headerlink\" title=\"Mosquitto 테스트\"></a>Mosquitto 테스트</h2><pre><code>- https://ddnemo.tistory.com/120\n    a. https://midnightcow.tistory.com/36\n- https://deneb21.tistory.com/416</code></pre><h1 id=\"RabitMQ-특성\"><a href=\"#RabitMQ-특성\" class=\"headerlink\" title=\"RabitMQ 특성\"></a>RabitMQ 특성</h1><p>1) 신뢰성<br>    - RabbitMQ는 성능과 맞바꿀 수 있는 다양한 특성들을 제공하는데, 안정성, 영속성 배달 확인, 발행자 보증, 그리고 고가용성등이 있다.</p>\n<p>2) 유연한 라우팅<br>    - 메시지는 큐에 도착하기 전에 exchange를 통해 라우트된다.<br>    - RabbitMQ는 전형적인 라우팅 로직을 위한 몇몇 내장된 exchange 타입을 가지고 있다.<br>    - 좀 더 복잡한 라우팅을 위해서 exchange들을 서로 연결하거나, 자신만의 exchange 타입을 플러그인으로 만들수도 있다.</p>\n<p>3) 클러스터링<br>    - 지역 네트워크상에서 여러개의 RabbitMQ 서버들이 함께 클러스터링되어 단일한 논리적 브로커를 형성할 수 있다.</p>\n<p>4) 연합체(Federation)<br>    - 클러스터링이 허용하는 것보다는 좀 더 느슨하고 신뢰할 필요가 없는 연결을 필요로 하는 서버들에 대해서, RabbitMQ는 연합모델(federation model)을 제공한다.</p>\n<p>5) 고가용적 큐<br>    - 큐는 클러스터내의 여러 머신들에 걸쳐 복제될 수 있는데, 이는 하드웨어 결함시에 여러분의 메시지의 안전을 보장한다.</p>\n<p>6) 다중 프로토콜<br>    - RabbitMQ는 다양한 형태의 메시징 프로토콜을 통해서 메시징을 제공한다.</p>\n<p>7) 많은 클라이언트<br>    - 여러분이 생각할 수 있는 거의 모든 언어에 대해 RabbitMQ 클라이언트가 있다.</p>\n<p>8) 관리 UI<br>    - RabbitMQ는 메시지 브로커의 모든 것들을 모니터하고 컨트롤할 수 있는 사용하기 쉬운 관리 UI를 함께 제공한다.</p>\n<p>9) 추적(Tracing)<br>    - 만약 여러분의 메시징 시스템이 잘못 동작한다면, RabbitMQ는 여러분이 무엇이 잘못되고 있는지를 밝혀낼 수 있도록 추적 기능을 제공한다.</p>\n<p>10) 플러그인 시스템<br>    - RabbitMQ는 다른 방법으로 RabbitMQ를 확장시킬 수 있는 다양한 플러그인을 제공하는데, 여러분 스스로 플러그인을 제작할 수도 있다.</p>\n<p>11) 용어정리<br>    - Vhost(virutal host)<br>        a. Virtual Host를 통해서 하나의 RabbitMQ 인스턴스 안에 사용하고 있는 Application을 분리할 수 있습니다.<br>    - Connection<br>        a. 물리적인 TCP Connection, HTTPS -&gt; TLS(SSL) Connection을 사용<br>    - Channel<br>        a. 하나의 물리적인 Connection 내에 생성되는 가상의 Connection<br>        b. Consumer의 process나 thread는 각자 Channel을 통해 Queue에 연결 될 수 있습니다.</p>\n<p>12) Message Queue 및 Message 보존방법<br>    - RabbitMQ server가 종료(어떤 이유에서든지)후 재기동하면, 기본적으로 Queue는 모두 제거됩니다.<br>    - 이를 막기 위해서는 Queue를 생성할 때, Durable 옵션에 true를 주고 생성해야 하며, Producer가 메세지를 발송할 때, PERSISTENT_TEXT_PLAIN 옵션을 주어야 메세지가 보존됩니다.<br>    a. Queue 생성<br>    <div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rabbitmqChannel.queueDeclare(rabbitmqQueueName, <span class=\"literal\">true</span>, <span class=\"literal\">false</span>, <span class=\"literal\">false</span>, null); //QueueName 다음의 <span class=\"literal\">true</span>가 durable option</span><br></pre></td></tr></table></figure></div></p>\n<pre><code>b. Message 발송\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rabbitmqChannel.basicPublish(exchangeName, routingKey, MessageProperties.PERSISTENT_TEXT_PLAIN, message.getBytes());</span><br></pre></td></tr></table></figure></div></code></pre><p>13) 라이센스 있음(<a href=\"https://ko.wikipedia.org/wiki/%EB%AA%A8%EC%A7%88%EB%9D%BC_%EA%B3%B5%EC%9A%A9_%ED%97%88%EA%B0%80%EC%84%9C\" target=\"_blank\" rel=\"noopener\">https://ko.wikipedia.org/wiki/%EB%AA%A8%EC%A7%88%EB%9D%BC_%EA%B3%B5%EC%9A%A9_%ED%97%88%EA%B0%80%EC%84%9C</a>)</p>\n<h1 id=\"RabitMQ-개념-5개\"><a href=\"#RabitMQ-개념-5개\" class=\"headerlink\" title=\"RabitMQ 개념(5개)\"></a>RabitMQ 개념(5개)</h1><p><a href=\"https://user-images.githubusercontent.com/62123161/95046057-48662880-071e-11eb-9d24-ae595f6a6042.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/95046057-48662880-071e-11eb-9d24-ae595f6a6042.png\" alt=\"image\"></a><br>    - Producer<br>        a. 메세지를 생성하고 발송하는 주체<br>        b.Producer는 Queue에 직접 접근하지 않고, 항상 Exchange를 통해 접근<br>    - Consumer<br>        a. 메세지를 수신하는 주체<br>        b. Consumer는 Queue에 직접 접근하여 메세지를 가져옴<br>    - Queue<br>        a. 메세지들이 Consumer가 소비하기 전까지 보관되는 장소<br>        b. 같은 이름과 같은 설정으로 Queue를 생성하면 에러 없이 기존 Queue에 연결되지만, 같은 이름과 다른 설정으로 Queue를 생성하려고 시도하면 에러<br>    - Exchange<br>        a. Producer들에게서 전달받은 메세지들을 어떤 Queue들에게 발송할지를 결정하는 객체<br>        b. 총 4개의 Type을 보유하며, Router 개념으로 생각하면 됨.<br>            i. Direct(default)<br>                1. Routing key가 정확히 일치하는 Queue에 메세지 전송(Unicast)<br>                2. 예시<br>                <a href=\"https://user-images.githubusercontent.com/62123161/95046159-8cf1c400-071e-11eb-8106-45aace9bedc2.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/95046159-8cf1c400-071e-11eb-8106-45aace9bedc2.png\" alt=\"image\"></a><br>                (error 메세지만 저장소에 기록하고, info와 warning을 포함한 모든 정보를 디스플레이에 출력할 때를 나타내는 모식도)<br>            ii. Topic<br>                1. Routing key 패턴이 일치하는 Queue에 메세지 전송(Multicast)<br>                2. 예시<br>                <a href=\"https://user-images.githubusercontent.com/62123161/95046205-b14da080-071e-11eb-901a-b31040e5ed16.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/95046205-b14da080-071e-11eb-901a-b31040e5ed16.png\" alt=\"image\"></a><br>                (라우팅 키가 example.orange.rabbit 인 경우 메세지가 Q1, Q2에 모두 전달되고, 라우팅 키가 example.orange.turtle 인 경우 메세지가 Q1에만 전달. 라우팅 키가 lazy.grape.rabbit인 경우엔 메세지가 Q2에 한 번만 전달이 됩니다.)<br>            iii. Headers<br>                1. [key:value]로 이루어진 header 값을 기준으로 일치하는 Queue에 메세지 전송(Multicast)<br>                2. 예시<br>                <a href=\"https://user-images.githubusercontent.com/62123161/95046280-d8a46d80-071e-11eb-9236-aed3b3cb2760.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/95046280-d8a46d80-071e-11eb-9236-aed3b3cb2760.png\" alt=\"image\"></a><br>            iv. Fanout<br>                1. 해당 Exchange에 등록된 모든 Queue에 메세지 전송(Broadcast)<br>                2. 예시<br>                <a href=\"https://user-images.githubusercontent.com/62123161/95046342-f83b9600-071e-11eb-8f27-e5352204a36e.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/95046342-f83b9600-071e-11eb-8f27-e5352204a36e.png\" alt=\"image\"></a></p>\n<pre><code>- Binding\n    a. Exchange에게 메세지를 라우팅 할 규칙을 지정하는 행위</code></pre><h1 id=\"HiveMQ-특성\"><a href=\"#HiveMQ-특성\" class=\"headerlink\" title=\"HiveMQ 특성\"></a>HiveMQ 특성</h1><pre><code>- 자세한 정보가 너무 없음.\n- 샘플소스코드에 대한 링크는 아래와 같음\n    a. https://www.hivemq.com/blog/how-to-get-started-with-mqtt/\n- 다른MQTT Message Broker과 다른점\n    a. WebSockets native support for all common WebSocket versions\n        i. 웹소켓을 지원함은 물론이고, 클라이언트 인증서를 통한 통신이 가능함.\n    b. PROXY protocol for advanced load balancer integrations\n        i. TCP 프로토콜(로드밸런서) 뒤에 위치하는 것이 효율이 가장 좋다고 함.\n    c. Open-source extension SDK an extension framework to extend HiveMQ with custom business logic or integrate practically any system into HiveMQ\n    d. HiveMQ Enterprise Extensions for Kafka to seamlessly integrate MQTT messages with one or more Kafka clusters\n        i. HiveMQ MQTT 브로커에서 메시지를 버퍼링하여 Kafka 클러스터를 일시적으로 사용할 수 없을 때마다 고가용성 및 장애 허용성을 보장\n        [![image](https://user-images.githubusercontent.com/62123161/95046590-6c763980-071f-11eb-97aa-41faad3acc20.png)](https://user-images.githubusercontent.com/62123161/95046590-6c763980-071f-11eb-97aa-41faad3acc20.png)\n    e. HiveMQ Enterprise Security Extension to secure your MQTT deployment\n        i. SQL 데이터베이스 를 통한 인증 및 권한 부여에 대한 완전한 지원\n        ii. JSON 웹 토큰을 통한 인증에 대한 완전한 지원\n        iii. 클라이언트별로 주제 권한을 개별화하는 동적 권한 자리 표시 자\n        iv. 데이터를 모니터링하고 잠재적 인 보안 위반을 추적하는 데 도움이되는 자세한 액세스 로그\n        v. 액세스 제어 에 대한 역할 기반 액세스 제어 (RBAC)를 포함 HiveMQ 제어 센터 (ESE 버전 1.2.0 이상)\n- 라이센스 있음(https://www.hivemq.com/hivemq/editions/)</code></pre><h1 id=\"Mosca-MQTT\"><a href=\"#Mosca-MQTT\" class=\"headerlink\" title=\"Mosca MQTT\"></a>Mosca MQTT</h1><pre><code>- 특성(https://github.com/moscajs/mosca)\n    a. 구조가 단순\n    b. 사용 환경에 따라 customizing 하기도 용이\n        i. REDIS나 MongoDB를 활용한 storage option도 지원\n    c. 무료 사용이 가능한 license\n    d. MQTT 3.1, 3.1.1 호환.\n    e. QoS 0 또는 QoS 1 지원.\n    f. 클라이언트 인증(토픽을 제한하는데 사용)\n        i. #authenticate\n        ii. #authorizePublish\n        iii. #authorizeSubscribe\n    g. MIT License</code></pre>","text":"공통적인 MQTT 특성QOS (QUALITY OF SERVICE)MQTT는 시스템에 참여하는 장치들의 처리 능력, 네트워크 대역폭, 메시지 오버헤드 등 주변상황에 맞게 시스템이 동작할 수 있도록 3단계 QoS(Quality of Service) 를 제","link":"","raw":null,"photos":[],"categories":[{"name":"tip","slug":"tip","count":23,"path":"api/categories/tip.json"}],"tags":[{"name":"MQTT","slug":"MQTT","count":1,"path":"api/tags/MQTT.json"},{"name":"Message","slug":"Message","count":1,"path":"api/tags/Message.json"},{"name":"Broker","slug":"Broker","count":1,"path":"api/tags/Broker.json"}]},{"title":"Node.js HTTP Flow","slug":"Node-js-HTTP-Flow","date":"2020-10-05T07:01:42.000Z","updated":"2020-10-05T07:10:14.418Z","comments":true,"pin":null,"path":"api/articles/Node-js-HTTP-Flow.json","excerpt":"","keywords":null,"cover":"https://user-images.githubusercontent.com/62123161/95049128-22dc1d80-0724-11eb-96fa-47644f63fcbe.png","content":"<h2 id=\"API-시스템-구성도\"><a href=\"#API-시스템-구성도\" class=\"headerlink\" title=\"API 시스템 구성도\"></a>API 시스템 구성도</h2><p><a href=\"https://user-images.githubusercontent.com/62123161/95049128-22dc1d80-0724-11eb-96fa-47644f63fcbe.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/95049128-22dc1d80-0724-11eb-96fa-47644f63fcbe.png\" alt=\"image\"></a></p>\n<ul>\n<li>(IP/Port) or(DNS) 를 통해서 API서버로 요청이 들어온걸로 가정하면,<br> 1) 최초 app.js내에서 Express내 application.js handler 로 진입.(Default Configuration은 기본적으로 수행되니 생략)<br> 2) 핸들러에서 라우터를 확인하고 HTTP Method를 확인한 뒤, Layer Stack을 수정해서 적용하고 Layer로 데이터를 보냄.<br> 3) Layer는 여러 MiddleWare를 사용하며, (proto.process_params)에서 Req, Res 데이터들을 각각 분류하여 저장 및 생성.<br> 4) Layer내에서 모두 셋팅이 끝나면 Router로 해당 데이터를 보냄.<br> 5) 사용자가 요청한 데이터를 req에 받을 수 있고, Method를 통해 res데이터를 주는 것을 미리 Layer에서 셋팅된 res로 셋팅하여 내보낼 수 있음.</li>\n</ul>\n","text":"API 시스템 구성도 [Figure]  5) 사용자가 요청한 데이터를 req에 받을 수 있고, Method를 통해 res데이터를 주는 것을 미리 Layer에서 셋팅된 res로 셋팅하여 내보낼 수 있음.","link":"","raw":null,"photos":[],"categories":[{"name":"tip","slug":"tip","count":23,"path":"api/categories/tip.json"}],"tags":[{"name":"flow","slug":"flow","count":2,"path":"api/tags/flow.json"},{"name":"node","slug":"node","count":3,"path":"api/tags/node.json"},{"name":"http","slug":"http","count":1,"path":"api/tags/http.json"}]},{"title":"OAuth 2.0 마스터 (Mastering OAuth 2.0)","slug":"OAuth2-0","date":"2020-06-29T03:46:47.000Z","updated":"2020-06-29T03:47:52.417Z","comments":true,"pin":null,"path":"api/articles/OAuth2-0.json","excerpt":"","keywords":null,"cover":null,"content":"<p>OAuth 2.0은 서로 다른 두 집단이 정보와 리소스를 안전하고 신뢰할 수 있는 방법으로 공유할 수 있게 해주는 프로토콜이다.</p>\n<p>※ OAuth 2.0은 OAuth 1.0과 호환되지 않는다.</p>\n<ul>\n<li>인증과 인가</li>\n</ul>\n<ul>\n<li>인증(authentication) : 누군가(또는 시스템)가 그들이 말하는 그 사람이 맞는지 실제로 확인하는 절차</li>\n<li>인가(authorization) : 일단 인증이 됐다면 당신이 하고자 하는 어떤 일을 할 수 있는 권한이 있는지 판단하는 절차</li>\n</ul>\n<p>결국에는 보호된 리소스에 해당 리소스 소유자 대신해서 접근하는 것</p>\n<ul>\n<li>연합된 신원(federated identity) : 어떤 서비스가 다른 서비스의 계정을 이용한 인증을 허용하는 것</li>\n<li>권한 위임(delegated authority) : 어떤 서비스나 어플리케이션이 사용자의 리소스에 대신 접근할 수 있는 것</li>\n</ul>\n<p>OAuth 2.0 동작<br>사용자 동의(user consent)</p>\n<ul>\n<li>그랜트(grant) 유형</li>\n</ul>\n<ul>\n<li>인가 코드 그랜트(authorization code grant) : 서버 사이드 워크플로우</li>\n<li>암시적 그랜트(implicit grant) : 클라이언트 사이드 워크플로우<br>위 2가지를 가장 많이 사용되고 OAuth 2.0 스펙에는 추가적인 2가지 유형의 그랜트가 있다.</li>\n<li>리소스 소유자 비밀번호 자격증명 그랜트(resource owner password credentials grant)</li>\n<li>클라이언트 자격증명 그랜트(client credentials grant)</li>\n</ul>\n<p>OAuth 2.0 클라이언트에는 2가지 신뢰 레벨의 클라이언트만 있다.</p>\n<ul>\n<li>신뢰 클라이언트 (trusted client)</li>\n<li>비신뢰 클라이언트 (untrusted client)<br>신뢰 레벨을 판단하는 요소 : 안전하게 정보를 저장하고 전송하는 능력</li>\n</ul>\n<ol>\n<li>신뢰 클라이언트</li>\n</ol>\n<p>-&gt; 클라이언트 자격증명과 토큰 또는 어플리케이션이 필요로 하는 다른 리소스를 안전하게 저장할 수 있음<br>-&gt; ex) 기밀 정보를 안전하게 저장하고 전송할 수 있는 백엔드 서버가 존재하는 전형적인 3계층 클라이언트-서버-데이터베이스 어플리케이션</p>\n<ol start=\"2\">\n<li>비신뢰 클라이언트</li>\n</ol>\n<p>-&gt; 기밀 정보를 안전하게 저장하거나 전송할 수 없음<br>-&gt; 정보를 안전하게 저장해주는 서버가 없음<br>-&gt; ex) 브라우저 기반의 어플리케이션</p>\n<p>※ OAuth 2.0 스펙에서 trusted(신뢰) = confidential, untrusted(비신뢰) = public</p>\n<ul>\n<li>클라이언트 사이드 워크플로우<br>비신뢰 클라이언트에 가장 적합한 것이 암시적 그랜트이다.<br>ex) GoodApp이 암시적 그랜트를 이용해 페이스북의 친구 목록에 대한 접근 요청</li>\n</ul>\n<p>-&gt; GoodApp은 비신뢰 클라이언트이므로 신분 증명이나 토큰을 저장할 수 없다.</p>\n<ol>\n<li>GoodApp은 사용자를 페이스북에 연결한다. 페이스북은 사용자에게 GoodApp이 사용자의 친구 목록에 접근하는 것을 허용하는지 물어본다.</li>\n<li>(사용자가 허락한다.) 페이스북은 GoodApp에게 사용자의 페이스북 친구 목록에 접근하는데 사용할 수 있는 키를 전달한다.</li>\n<li>GoodApp은 페이스북으로부터 전달받은 키를 이용해 페이스북에게 사용자의 친구 목록을 요청한다.</li>\n<li>페이스북은 전달된 키를 확인한 후 GoodApp에게 사용자의 친구 목록을 전달한다.</li>\n<li>GoodApp은 전달받은 친구 목록으로 자기 서비스를 제공한다.</li>\n</ol>\n<p>엑세스토큰과 bearer 토큰<br>-&gt; 엑세스토큰은 보호된 리소스에 접근할 수 있는 권한을 나타내는 문자열 값<br>-&gt; bearer 토큰은 엑세스토큰의 한 유형<br>-&gt; 가장 많이 사용되는 토큰 유형<br>-&gt; bearer 토큰은 토큰만 가지고 있으면 더 이상 필요한 것이 없다는 의미에서 이름이 붙여짐, 즉 특정 리소스에 접근하기 위해 토큰 외에 다른 것은 필요 없음</p>\n<p>언제 암시적 그랜트를 사용해야 하는가?<br>-&gt; 비신뢰 클라이언트를 위해<br>-&gt; 사용자의 데이터를 오랜 기간 저장할 필요가 없는 클라이언트 (ex. 웹 브라우저 기반 어플리케이션)</p>\n<p>비신뢰 클라이언트의 장단점<br>장점) 간편함, 구현이 단순함<br>단점) 보안성이 낮음<br>      단기간 접근만 가능 : 비신뢰 클라이언트이므로 오랜 기간 키를 저장할 수 없기 때문에 사용자는 신뢰 클라이언트보다 더 자주 인증을 다시 받고 토큰을 재발급해야 한다.</p>\n<h3 id=\"개발가이드\"><a href=\"#개발가이드\" class=\"headerlink\" title=\"개발가이드\"></a>개발가이드</h3><p>-&gt; 암시적 그랜트 유형을 이용하는 비신뢰 클라이언트를 개발한다면 읽기 전용 모드의 요청만 할 수 있도록 제한하는 것이 좋다.</p>\n<ul>\n<li>서버 사이드 워크플로우<br>신뢰 클라이언트는 클라이언트 자격증명과 같은 기밀 정보를 안전하게 저장할 수 있어야 한다.</li>\n</ul>\n<p>-&gt; 이번 GoodApp은 신뢰 클라이언트</p>\n<ol>\n<li>GoodApp은 사용자를 페이스북에 연결한다. 페이스북은 사용자에게 GoodApp이 사용자의 친구 목록에 접근하는 것을 허용하는지 물어본다.</li>\n<li>(사용자가 허락한다.) 페이스북은 GoodApp에게 사용자의 페이스북 친구 목록에 접근하는데 사용할 수 있는 키와 교환할 수 있는 태그(tag)를 준다.</li>\n<li>GoodApp은 페이스북으로부터 전달받은 태그를 이용해 사용자의 페이스북 친구 목록을 요청할 수 있는 키를 요청한다.</li>\n<li>페이스북은 절달된 태그를 확인한 후 GoodApp 서버에게 키를 전달한다.</li>\n<li>GoodApp은 페이스북으로부터 전달받은 키를 이용해 페이스북에게 사용자의 친구 목록을 요청한다.</li>\n<li>페이스북은 전달된 키를 확인한 후 GoodApp에게 사용자의 친구 목록을 전달한다.</li>\n<li>GoodApp은 전달받은 친구 목록으로 자기 서비스를 제공한다.</li>\n</ol>\n<p>[중요] 키를 얻기 위해 사용하는 태그는 한 번만 사용할 수 있다.</p>\n<p>※ OAuth 2.0 스펙에서 인가 코드(authorization code)가 태그에 해당한다.</p>\n<p>[포인트] 비신뢰 클라이언트와 중요한 차이점은 엑세스 토큰이 브라우저에게 절대 전달되지 않는다는 것, 페이스북과 GoodApp 서버 간에 엑세스 토큰이 직접 교환됨 -&gt; 엑세스 토큰 유출 위험도가 낮아짐</p>\n<p>신뢰 클라이언트의 장단점<br>장점) 더 안전<br>      장시간, 오프라인 접근 가능 : 키를 저장할 수 있으므로<br>단점) 더 복잡</p>\n<h3 id=\"개발가이드-1\"><a href=\"#개발가이드-1\" class=\"headerlink\" title=\"개발가이드\"></a>개발가이드</h3><p>많은 개발자들이 SSL이나 TLS와 같은 안전한 전송 프로토콜과 함께 사용하면 정보를 안전하게 저장하고 전송해야 한다는 요구 사항을 만족한다고 생각한다.<br>따라서 그들이 만든 어플리케이션이 신뢰 클라이언트라고 생각하나 문제가 있다…</p>\n<p>OAuth 2.0 클라이언트가 되기 위한 4개의 단계</p>\n<ol>\n<li>클라이언트 어플리케이션 등록</li>\n<li>엑세스 토큰 얻기</li>\n<li>엑세스 토큰을 이용해서 보호된 리소스에 접근</li>\n<li>엑세스 토큰 갱신</li>\n</ol>\n<p>※ 엑세스 토큰 갱신<br>엑세스 토큰 갱신은 신뢰 클라이언트만 가능하다. 클라이언트 어플리케이션이 엑세스 토큰을 갱신하려면 리프레쉬 토큰(refresh token)을 안전하게 저장할 수 있어야 하기 때문에</p>\n<p>1단계 : 클라이언트 어플리케이션 등록<br>어플리케이션 등록 후 사용하게될 정보 셋</p>\n<ul>\n<li>클라이언트 ID(client id) : 클라이언트 어플리케이션의 고유한 ID, 반드시 유일해야함</li>\n<li>클라이언트 시크릿(client secret) : 어플리케이션을 위한 비밀 키, 어플리케이션의 신원</li>\n<li>리다이렉션 엔드포인트(redirection endpoint) : 서비스 제공자가 응답(토큰 또는 에러)을 전달하기 위해 사용하는 엔드포인트, 데스크탑이나 모바일 네이티브 어플리케이션의 경우는 서비스 제공자에 의해 제공 여부가 결정됨</li>\n<li>인가 엔드포인트(authorization endpoint) : 클라이언트 어플리케이션이 인가 플로우를 시작할 때 사용하는 엔드포인트, 서비스 제공자에 의해 제공 여부가 결정</li>\n<li>토큰 엔드포인트(token endpoint) : 클라이언트 어플리케이션이 토큰 플로우를 시작할 때 사용하는 엔드포인트, 서비스 제공자에 의해 제공 여부가 결정</li>\n</ul>\n<p>ex) GoodApp 어플리케이션의 예</p>\n<ul>\n<li>클라이언트 ID(client id) : goodapp-541106</li>\n<li>클라이언트 시크릿(client secret) : 38D83HHHFF873RASDPPEKJ1KHJZL</li>\n<li>리다이렉션 엔드포인트(redirection endpoint) : <a href=\"https://www.goodapp.com/callback\" target=\"_blank\" rel=\"noopener\">https://www.goodapp.com/callback</a></li>\n<li>인가 엔드포인트(authorization endpoint) : <a href=\"https://api.facebook.com/auth\" target=\"_blank\" rel=\"noopener\">https://api.facebook.com/auth</a></li>\n<li>토큰 엔드포인트(token endpoint) : <a href=\"https://api.facebook.com/token\" target=\"_blank\" rel=\"noopener\">https://api.facebook.com/token</a></li>\n</ul>\n<p>[포인트] 비신뢰 클라이언트에게는 클라이언트 시크릿이 제공되지 않을 것, 안전하게 저장할 수 없기 때문에</p>\n<p>*** 엑세스 토큰<br>범위(scope)</p>\n<p>그런 문자열은 서비스 제공자가 정의하는 것이다.</p>\n<p>접근 기간(duration of access)</p>\n<p>영구 토큰(perpetual token)도 있으나 극히 드물다.</p>\n<p>-&gt; 대부분의 서비스 제공자는 대략 몇 분이나 몇 시간 정도의 접근 기간을 가지는 토큰을 발급한다.<br>-&gt; 접근 기간은 요청되는 범위 뿐만 아니라 서비스 제공자에 따라 달라지며, 일반적으로 30분에서 몇 시간 정도로 정해짐<br>-&gt; 또한 읽기/쓰기가 가능한 접근 권한보다 읽기만 가능한 접근 권한이 좀 더 긴 접근 기간을 갖는 경향이 있음</p>\n<p>토큰 폐기(token revocation) : 서비스 제공자가 지원할 수도 있고 지원하지 않을 수도 있고… 그러나 보안상 중요함</p>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"PLAIN\"><figure class=\"iseeu highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">~~~</span><br></pre></td></tr></table></figure></div>\n\n\n\n\n<p>리다이렉션 엔드포인트를 어플리케이션을 등록할 때 설정한다.</p>\n<p>인가 엔드포인트와 토큰 엔드포인트는 서비스 제공자가 결정하는 것</p>\n<p>@@@ 암시적 그랜트 플로우 @@@</p>\n<p>1) 인가 요청</p>\n<p>인가 요청을 보내는 곳 : 서비스 제공자의 인가 엔드포인트<br>필요한 파라미터도 함께 전달하고 전달되는 파라미터는 application/x-www-form-urlencoded 포멧으로 인코딩돼야 한다.</p>\n<p>ex) 일반적인 형태의 인가 요청<br>GET /authorize?<br>response_type=token&amp;<br>client_id=[CLIENT_ID]&amp;<br>redirect_uri=[REDIRECT_URI]&amp;<br>scope=[SCOPE]&amp;<br>state=[STATE] http/1.1<br>Host: server.example.com</p>\n<ul>\n<li>response_type : (필수) 암시적 그랜트 플로우를 사용하고 있음을 나타내기 위해 값을 token으로 세팅해야 한다.</li>\n<li>client_id : (필수) 어플리케이션의 고유한 클라이언트 ID</li>\n<li>redirect_uri : (선택) 서비스 제공자가 요청에 대한 응답을 전달하기 위해 사용하게 될 리다이렉션 엔트포인트. 서비스 제공자는 요청이 성공하면 엑세스 토큰을, 실패하면 에러 메시지를 전달한다.</li>\n<li>scpoe : (선택) 클라이언트가 요청하는 접근 권한의 범위를 나타냄</li>\n<li>state : (권장) 사용하는 것이 좋다. 클라이언트가 서비스 제공자에게 전달하면 서비스 제공자는 이 값을 다시 응답에 포함해서 전달한다. CSRF(Cross-Site Request Forgery) 공격을 차단하기 위한 목적으로 사용될 수 있다.</li>\n</ul>\n<p>ex) 인가 응답(성공)<br>HTTP/1.1 302 Found<br>Location: [REDIRECT_URI]#<br>access_token=[ACCESS_TOKEN]&amp;<br>token_type=[TOKEN_TYPE]&amp;<br>expires_in=[EXPIRES_IN]&amp;<br>scope=[SCOPE]&amp;<br>state=[STATE]</p>\n<ul>\n<li>access_token : (필수) 얻고자 한 토큰, 이 토큰을 이용해서 사용자의 프로파일과 글에 접근할 수 있다.</li>\n<li>token_type : (필수) 전달된 토큰의 유형. 이는 거의 bearer 토큰 유형일 것</li>\n<li>expires_in : (선택) 토큰의 유효 기간(초 단위), 이 값은 선택 사항으로 서비스 제공자는 이 값을 전달하지 않을 수도 있다.</li>\n<li>scope : (조건부로 필수) 인가된 접근 범위가 요청된 범위와 일치한다면 이 값은 아마 생략될 것이다. 하지만 요청된 범위와 인가된 범위가 다르다면 이 파라미터를 통해 인가된 범위가 전달</li>\n<li><ul>\n<li>[중요] : OAuth 2.0 스펙에서는 공백으로 구분한다. 비록 많은 서비스 제공자가 콤마도 지원하겠지만…</li>\n</ul>\n</li>\n<li>state : (조건부로 필수) 인가 요청에 state 파라미터가 포함됐다면 응답에도 이 파라미터가 존재해야 한다.</li>\n</ul>\n<p>ex) 인가 응답(실패)<br>HTTP/1.1 302 Found<br>Location: [REDIRECT_URI]#<br>error=[ERROR_CODE]&amp;<br>error_description=[ERROR_DESCRIPTION]&amp;<br>error_uri=[ERROR_URI]&amp;<br>state=[STATE]</p>\n<ul>\n<li>error : (필수) 에러 코드로 인가 요청에 실패한 이유를 나타냄</li>\n<li>-에러 코드 종류</li>\n<li>– invalid_request : 요청 데이터가 잘못돼서 처리할 수 없음</li>\n<li>– unauthorized_client : 클라이언트 어플리케이션이 요청을 전달할 권한이 없음</li>\n<li>– access_denied : 사용자가 인가 요청을 거부함</li>\n<li>– unsupported_response_type : 잘못된 응답 유형이 사용됐음. 앞에서 암시적 그랜트 유형을 사용했기 때문에 응답 유형으로 token을 사용해야 한다.</li>\n<li>– invalid_scope : 잘못된 범위가 사용됐음</li>\n<li>– server_error : 서버 내에서 에러가 발생해 인가 요청을 제대로 처리할 수 없음</li>\n<li>– temporarily_unavailable : 인가 서버가 일시적인 장애 상태임</li>\n<li>error_description : (선택) 사람이 읽을 수 있는 형태의 에러 메시지</li>\n<li>error_uri : (선택) 에러에 대해 좀 더 자세한 정보를 담고 있는 웹 문서에 대한 링크</li>\n<li>state : (조건부 필수) 인가 요청에 state 파라미터가 포함됐다면 응답에도 이 파라미터가 존재해야 한다.</li>\n</ul>\n<p>[중요] 클라이언트가 인가 요청을 보내는 엔드포인트는 서비스 제공자의 서버에 위치해야 한다는 것</p>\n<p>@@@ 서버 사이드 플로우 (인가 코드 그랜트 플로우) @@@<br>-&gt; 클라이언트 사이드 플로우(암시적 그랜트 플로우)보다는 좀 더 복잡하지만 더욱 안전함<br>-&gt; 일반적으로 백엔드와 함께 동작하는 웹 어플리케이션에서 사용됨<br>-&gt; 인가 코드를 전달할 때 프론트엔드가 아닌 백엔드 즉 서버에 전달한다.<br>[중요] 서버 사이드에서 인가 코드를 교환하는 것이 차이점으로 클라이언트 자격증명과 토큰을 안전하게 관리하고 전송할 수 있어야 한다.<br>비신뢰 클라이언트는 그런 자격증명을 안전하게 저장할 수 없기 때문에(브라우저는 안전하다고 여겨지지 않는다.) 인가 코드 그랜트 플로우를 사용할 수 없다.</p>\n<p>@ 인가 요청<br>-&gt; 암시적 그랜트 플로우와 유일한 차이점은 response_type 파라미터의 값이 token이 아닌 code로 세팅돼야 함<br>ex) 일반적인 형태의 인가 요청<br>GET /authorize?<br>response_type=code&amp;<br>client_id=[CLIENT_ID]&amp;<br>redirect_uri=[REDIRECT_URI]&amp;<br>scope=[SCOPE]&amp;<br>state=[STATE] http/1.1<br>Host: server.example.com</p>\n<ul>\n<li>response_type : (필수) 인가 코드 그랜트 플로우를 사용한다는 것을 나타내기 위해 값을 code로 세팅해야 한다.</li>\n<li>client_id : (필수) 어플리케이션의 고유한 클라이언트 ID</li>\n<li>redirect_uri : (선택) 서비스 제공자가 요청에 대한 응답을 전달하기 위해 사용하게 될 리다이렉션 엔트포인트. 서비스 제공자는 요청이 성공하면 엑세스 토큰을, 실패하면 에러 메시지를 전달한다.</li>\n<li>scpoe : (선택) 클라이언트가 요청하는 접근 권한의 범위를 나타냄</li>\n<li>state : (권장) 사용하는 것이 좋다. 클라이언트가 서비스 제공자에게 전달하면 서비스 제공자는 이 값을 다시 응답에 포함해서 전달한다. CSRF(Cross-Site Request Forgery) 공격을 차단하기 위한 목적으로 사용될 수 있다.</li>\n</ul>\n<p>ex) 샘플 어플리케이션의 경우</p>\n<ul>\n<li>response_type : code</li>\n<li>client_id : wmiig-550106</li>\n<li>redirect_uri : <a href=\"http://wmiig.com/callback\" target=\"_blank\" rel=\"noopener\">http://wmiig.com/callback</a></li>\n<li>scope : public_profile, user_posts</li>\n</ul>\n<p>@ 인가 응답 (성공)<br>ex)<br>HTTP/1.1 302 Found<br>Location: [REDIRECT_URI]?<br>code=[AUTHORIZATION_CODE]&amp;<br>scope=[SCOPE]</p>\n<p>[중요] 응답 값이 URL 프래그먼트가 아닌 URL 질의 컴포넌트로 전달</p>\n<ul>\n<li>code : (필수) 엑세스 토큰과 교환하는 데 사용하는 인가 코드</li>\n<li>state : (조건부로 필수) : 인가 요청에 state 파라미터가 포함됐다면 응답에도 이 파라미터가 존재해야 한다.</li>\n</ul>\n<p>[중요] 인가 코드는 한 번만 사용할 수 있고 짧은 만료 시간을 가진다.(OAuth 2.0 스펙은 10분으로 제한 권장) 따라서 클라이언트는 인가 코드를 받으면 그것을 곧바로 사용해야 한다.</p>\n<p>@ 인가 응답 (에러)<br>ex) 응답 값이 URL 프래그먼트가 아닌 URL 질의 컴포넌트로 전달<br>HTTP/1.1 302 Found<br>Location: [REDIRECT_URI]#<br>error=[ERROR_CODE]&amp;<br>error_description=[ERROR_DESCRIPTION]&amp;<br>error_uri=[ERROR_URI]&amp;<br>state=[STATE]</p>\n<ul>\n<li>error : (필수) 에러 코드로 인가 요청에 실패한 이유를 나타냄</li>\n<li>-에러 코드 종류</li>\n<li>– invalid_request : 요청 데이터가 잘못돼서 처리할 수 없음</li>\n<li>– unauthorized_client : 클라이언트 어플리케이션이 요청을 전달할 권한이 없음</li>\n<li>– access_denied : 사용자가 인가 요청을 거부함</li>\n<li>– unsupported_response_type : 잘못된 응답 유형이 사용됐음. 앞에서 암시적 그랜트 유형을 사용했기 때문에 응답 유형으로 token을 사용해야 한다.</li>\n<li>– invalid_scope : 잘못된 범위가 사용됐음</li>\n<li>– server_error : 서버 내에서 에러가 발생해 인가 요청을 제대로 처리할 수 없음</li>\n<li>– temporarily_unavailable : 인가 서버가 일시적인 장애 상태임</li>\n<li>error_description : (선택) 사람이 읽을 수 있는 형태의 에러 메시지</li>\n<li>error_uri : (선택) 에러에 대해 좀 더 자세한 정보를 담고 있는 웹 문서에 대한 링크</li>\n<li>state : (조건부 필수) 인가 요청에 state 파라미터가 포함됐다면 응답에도 이 파라미터가 존재해야 한다.</li>\n</ul>\n<p>@ 액세스 토큰 요청<br>-&gt; 서비스 제공자의 토큰 엔드포인트로 필요한 파라미터와 함께 POST 요청을 보내야 한다.<br>-&gt; application/x-www-form-urlencoded 포멧으로 전달해야 함<br>ex)<br>POST /token HTTP/1.1<br>Host: server.example.com<br>Authorization: Basic [ENCODED_CLIENT_CREDENTIALS]<br>Content-Type: application/x-www-form-urlencoded</p>\n<p>grant_type=authorization_code&amp;<br>code=[AUTHORIZATION_CODE]&amp;<br>redirect_uri=[REDIRECT_URI]&amp;<br>client_id=[CLIENT_ID]</p>\n<ul>\n<li>grant_type : (필수) 액세스 토큰으로 교환하고자 한다는 것을 나타내기 위해 authorization_code로 세팅해야 한다.</li>\n<li>code : (필수) 인가 요청에 의해 전달받은 인가 코드 값</li>\n<li>redirect_uri : (조건부로 필수) 인가 요청에 리다이렉션 엔드포인트가 포함된다면 액세스 토큰 요청에도 리다이렉션 엔드포인트가 포함돼야 한다.</li>\n<li>client_id : (필수) 어플리케이션의 고유한 클라이언트 ID</li>\n</ul>\n<p>엑세스 토큰을 요청하려면 위 파라미터 전달 뿐만 아니라 클라이언트 어플리케이션은 서비스 제공자에게 자기 자신을 증명해야 한다.<br>OAuth 2.0 스펙에는 클라이언트 인증을 위해 어떤 특정한 인증 메커니즘을 사용해야 한다고 말하지 않지만 일반적으로 HTTP 기본 인증(HTTP basic authentication)을 사용한다.<br>이는 위의 Authorization 헤더로 구현된다.<br>즉 HTTP 헤더의 Authorization 부분에는 인증 유형을 나타내는 ‘Basic’과 HTTP 기본 인증 스펙에서 정의한 인코딩 방식인 Base64로 인코딩된 클라이언트 자경증명이 포함된다.<br>[CLIENT_ID] : [CLIENT_SECRET]</p>\n<p>HTTP 기본 인증 프로토콜 = 기본 인증</p>\n<p>이를 사용하지 않는 예전 방식의 요청<br>ex)<br>POST /token HTTP/1.1<br>Host: server.example.com<br>Content-Type: application/x-www-form-urlencoded</p>\n<p>grant_type=authorization_code&amp;<br>code=[AUTHORIZATION_CODE]&amp;<br>redirect_uri=[REDIRECT_URI]&amp;<br>client_id=[CLIENT_ID]&amp;<br>client_secret=[CLIENT_SECRET]</p>\n<p>@엑세스 토큰 응답</p>\n<ul>\n<li>성공인 경우<br>ex)<br>HTTP/1.1 200 OK<br>Content-Type: application/json;charset=UTF-8<br>Cache-Control: no-store<br>Pragma: no-cache<br>{<br>  “access_token”:”???”,<br>  “token_type”:”bearer”,<br>  “expires_in”:3600,<br>  “refresh_token”:”???”,<br>}</li>\n</ul>\n<p>보통 JSON 포멧으로 전달됌, XML이나 Key-Value 포멧일 수도 있다.</p>\n<ul>\n<li>실패인 경우</li>\n<li><blockquote>\n<p>HTTP 400(Bad Request) 에러 코드를 반환할 것이다.<br>ex) HTTP/1.1 400 Bad Request<br>Content-Type: application/json;charset=UTF-8<br>Cache-Control: no-store<br>Pragma: no-cache<br>{<br>   “error”:”invalid_client”<br>}</p>\n</blockquote>\n</li>\n</ul>\n","text":"OAuth 2.0은 서로 다른 두 집단이 정보와 리소스를 안전하고 신뢰할 수 있는 방법으로 공유할 수 있게 해주는 프로토콜이다.※ OAuth 2.0은 OAuth 1.0과 호환되지 않는다.인증과 인가인증(authentication) : 누군가(또는 시스","link":"","raw":null,"photos":[],"categories":[{"name":"tip","slug":"tip","count":23,"path":"api/categories/tip.json"}],"tags":[{"name":"Security","slug":"Security","count":1,"path":"api/tags/Security.json"},{"name":"OAuth","slug":"OAuth","count":1,"path":"api/tags/OAuth.json"},{"name":"Master","slug":"Master","count":1,"path":"api/tags/Master.json"}]},{"title":"SNS","slug":"SNS","date":"2020-05-06T05:26:34.000Z","updated":"2020-05-12T03:10:48.994Z","comments":true,"pin":null,"path":"api/articles/SNS.json","excerpt":"","keywords":null,"cover":"https://user-images.githubusercontent.com/62123161/81143669-536d2f00-8fad-11ea-8ade-3a21d5987656.png","content":"<h2 id=\"개발환경-구축\"><a href=\"#개발환경-구축\" class=\"headerlink\" title=\"개발환경 구축\"></a>개발환경 구축</h2><p>※ 기본 개발환경</p>\n<ul>\n<li>IntelliJ</li>\n<li>Java, Spring</li>\n<li>AWS Console</li>\n</ul>\n<h2 id=\"SNS-설명\"><a href=\"#SNS-설명\" class=\"headerlink\" title=\"SNS 설명\"></a>SNS 설명</h2><ul>\n<li>사용자에게 Noti 보내주는게 주요 임무.</li>\n<li>기본 기능으로는 Push(FCM, GCM), 이메일, SMS, 등 … 다용도로 보낼 수 있다.</li>\n</ul>\n<h3 id=\"1-SNS-Topic\"><a href=\"#1-SNS-Topic\" class=\"headerlink\" title=\"1) SNS Topic\"></a>1) SNS Topic</h3><p><a href=\"https://user-images.githubusercontent.com/62123161/81143669-536d2f00-8fad-11ea-8ade-3a21d5987656.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81143669-536d2f00-8fad-11ea-8ade-3a21d5987656.png\" alt=\"sns_02\"></a></p>\n<ul>\n<li>Topic이라는 그룹개념을 생성하고, 메세지를 받을 Subscription들을 등록하면 된다. 원하는 Protocol을 설정하면 그대로 받을 수 있다.</li>\n<li>참고사항 : 서울 리전(ap-northeast-2)는 문자서비스(SMS)를 사용할 수 없다. 도쿄리전이나, Virginia 리전을 이용하면 좋다. </li>\n<li>그리고, 기본 Limit은 말도안되지만 1달러이다. 한도를 증액 요청해야 한다.</li>\n</ul>\n<h3 id=\"2-SNS-Subscription\"><a href=\"#2-SNS-Subscription\" class=\"headerlink\" title=\"2) SNS Subscription\"></a>2) SNS Subscription</h3><p><a href=\"https://user-images.githubusercontent.com/62123161/81143663-51a36b80-8fad-11ea-922e-568047d624c5.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81143663-51a36b80-8fad-11ea-922e-568047d624c5.png\" alt=\"sns_01\"></a></p>\n<ul>\n<li>Subscription은 말그대로 구독자다. </li>\n<li>HTTP(80), HTTPS(443), Email, SQS, Lambda 등 각종 AWS서비스와 3rd party 애플리케이션에 보낼 수 있다.</li>\n</ul>\n<h3 id=\"3-SNS-Publish-Message\"><a href=\"#3-SNS-Publish-Message\" class=\"headerlink\" title=\"3) SNS Publish Message\"></a>3) SNS Publish Message</h3><p><a href=\"https://user-images.githubusercontent.com/62123161/81143668-52d49880-8fad-11ea-99b6-946c8cbec576.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81143668-52d49880-8fad-11ea-99b6-946c8cbec576.png\" alt=\"sns_03\"></a></p>\n<ul>\n<li>Publish는 간단히 제목과 본문으로 보내줘도 된다. 큰 의미가 없다.</li>\n</ul>\n<h3 id=\"4-Subscriptions에-여러-EndPoint를-등록할-수-있고-각-Endpoint들을-그룹으로-묶어줄-수-있다\"><a href=\"#4-Subscriptions에-여러-EndPoint를-등록할-수-있고-각-Endpoint들을-그룹으로-묶어줄-수-있다\" class=\"headerlink\" title=\"4) Subscriptions에 여러 EndPoint를 등록할 수 있고, 각 Endpoint들을 그룹으로 묶어줄 수 있다.\"></a>4) Subscriptions에 여러 EndPoint를 등록할 수 있고, 각 Endpoint들을 그룹으로 묶어줄 수 있다.</h3><p><a href=\"https://user-images.githubusercontent.com/62123161/81145089-8533c500-8fb0-11ea-8ed7-96c10b10cc60.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81145089-8533c500-8fb0-11ea-8ed7-96c10b10cc60.png\" alt=\"sns_04\"></a></p>\n<h2 id=\"소스\"><a href=\"#소스\" class=\"headerlink\" title=\"소스\"></a>소스</h2><h3 id=\"1-Credentials\"><a href=\"#1-Credentials\" class=\"headerlink\" title=\"1) Credentials\"></a>1) Credentials</h3><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>인증생성</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public static BasicAWSCredentials creds = new BasicAWSCredentials(<span class=\"string\">\"ACCESS_KEY\"</span>,<span class=\"string\">\"SECRET_KEY\"</span>);</span><br><span class=\"line\">    public static AmazonSNSClient client = (AmazonSNSClient)((AmazonSNSClientBuilder)((AmazonSNSClientBuilder)AmazonSNSClient.builder().withCredentials(new AWSStaticCredentialsProvider(creds))).withRegion(aws_region)).build(); //provide credentials here</span><br><span class=\"line\">    public static AmazonSNS snsClient = (AmazonSNS)((AmazonSNSClientBuilder)((AmazonSNSClientBuilder) AmazonSNSClient.builder().withCredentials(new AWSStaticCredentialsProvider(creds))).withRegion(aws_region)).build();</span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"2-Create-Topic\"><a href=\"#2-Create-Topic\" class=\"headerlink\" title=\"2) Create Topic\"></a>2) Create Topic</h3><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>토픽 생성</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//Create Topic</span><br><span class=\"line\">BasicAWSCredentials creds = new BasicAWSCredentials(aws_access_key_id,aws_secret_access_key);</span><br><span class=\"line\">AmazonSNS snsClient = (AmazonSNS)((AmazonSNSClientBuilder)((AmazonSNSClientBuilder) AmazonSNSClient.builder().withCredentials(new AWSStaticCredentialsProvider(creds))).withRegion(aws_region)).build();</span><br><span class=\"line\">CreateTopicResult createTopicResult = snsClient.createTopic(<span class=\"string\">\"myTopic\"</span>);</span><br><span class=\"line\">String topicArn = createTopicResult.getTopicArn();</span><br></pre></td></tr></table></figure></div>\n<h3 id=\"3-Delete-Topic\"><a href=\"#3-Delete-Topic\" class=\"headerlink\" title=\"3) Delete Topic\"></a>3) Delete Topic</h3><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>토픽삭제</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//Delete Topic</span><br><span class=\"line\">BasicAWSCredentials creds = new BasicAWSCredentials(aws_access_key_id,aws_secret_access_key);</span><br><span class=\"line\">AmazonSNS snsClient = (AmazonSNS)((AmazonSNSClientBuilder)((AmazonSNSClientBuilder) AmazonSNSClient.builder().withCredentials(new AWSStaticCredentialsProvider(creds))).withRegion(aws_region)).build();</span><br><span class=\"line\">snsClient.deleteTopic(<span class=\"string\">\"myTopic\"</span>);</span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"4-Get-Topic-list\"><a href=\"#4-Get-Topic-list\" class=\"headerlink\" title=\"4) Get Topic list\"></a>4) Get Topic list</h3><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>SNS내 토픽리스트 받아오기.</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//////TODO:SNS (List)</span><br><span class=\"line\">            ListTopicsResult listTopicsResult = snsClient.listTopics();</span><br><span class=\"line\">            HashMap&lt;String, String&gt; listTopics = new HashMap&lt;String, String&gt;();</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(int i = 0; i&lt;listTopicsResult.getTopics().size();i++)&#123;</span><br><span class=\"line\">                String topic_arn = listTopicsResult.getTopics().get(i).toString().replace(<span class=\"string\">\"TopicArn: \"</span>,<span class=\"string\">\"\"</span>).replace(<span class=\"string\">\"&#123;\"</span>,<span class=\"string\">\"\"</span>).replace(<span class=\"string\">\"&#125;\"</span>,<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">                String[] topicSplit = topic_arn.split(<span class=\"string\">\":\"</span>);</span><br><span class=\"line\">                String topic_name = topicSplit[topicSplit.length-1];</span><br><span class=\"line\"></span><br><span class=\"line\">                listTopics.put(topic_name, topic_arn);</span><br><span class=\"line\">            &#125;</span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"5-Publish-Message-Send\"><a href=\"#5-Publish-Message-Send\" class=\"headerlink\" title=\"5) Publish Message(Send)\"></a>5) Publish Message(Send)</h3><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>TopicArn과 msg로 전달가능</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// Publish a message to an Amazon SNS topic.</span><br><span class=\"line\">final String msg = <span class=\"string\">\"If you receive this message, publishing a message to an Amazon SNS topic works.\"</span>;</span><br><span class=\"line\">final PublishRequest publishRequest = new PublishRequest(topicArn, msg);</span><br><span class=\"line\">final PublishResult publishResponse = snsClient.publish(publishRequest);</span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"6-Etc…\"><a href=\"#6-Etc…\" class=\"headerlink\" title=\"6) Etc….\"></a>6) Etc….</h3><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>(번외)SQS에 보내서 Queue 방식으로 SNS에 전송</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">            //TODO: search from topic list</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(findSNSArn.length() &gt; 0)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (findSQSArn.length() &gt; 0) &#123;</span><br><span class=\"line\">                    //TODO: subscribe!!!</span><br><span class=\"line\">                    Topics.subscribeQueue(snsClient, sqsClient, findSNSArn, findSQSArn);</span><br><span class=\"line\">                    //TODO: save the token to sns</span><br><span class=\"line\">                    String token_ARN = registerWithSNS(smartPhoneKey);</span><br><span class=\"line\">                    //TODO: userSeq, smartPhoneKey, smartPhoneType, token_ARN .....mySQL</span><br><span class=\"line\">                    String[] <span class=\"built_in\">where</span> = &#123;<span class=\"string\">\"USER_SEQ\"</span>, Integer.toString(userSeq)&#125;; //&#123;<span class=\"string\">\"gid\"</span>,<span class=\"string\">\"1\"</span>,<span class=\"string\">\"uid\"</span>,<span class=\"string\">\"2\"</span>,<span class=\"string\">\"CountryCD\"</span>,<span class=\"string\">\"1\"</span>,<span class=\"string\">\"test\"</span>&#125;;</span><br><span class=\"line\">                    ResultSet resultSet = mysqlCRUD_R(<span class=\"built_in\">where</span>, <span class=\"string\">\"\"</span>);</span><br><span class=\"line\">                    int row = rowCount(resultSet);</span><br><span class=\"line\">                    //<span class=\"keyword\">if</span>, row exist : update</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(row &gt; 0)&#123;</span><br><span class=\"line\">                        mysqlCRUD_CU(<span class=\"string\">\"Update\"</span>, token_ARN);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    //<span class=\"keyword\">if</span>, row not exist : insert</span><br><span class=\"line\">                    <span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                        mysqlCRUD_CU(<span class=\"string\">\"Create\"</span>, token_ARN);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">//                //메세지전송!!</span><br><span class=\"line\">//                snsClient.publish(new PublishRequest(findSNSArn, <span class=\"string\">\"Hello SNS World\"</span>).withSubject(<span class=\"string\">\"Subject\"</span>));</span><br><span class=\"line\">//</span><br><span class=\"line\">//                List&lt;Message&gt; messages = sqsClient.receiveMessage(new ReceiveMessageRequest(findSQSArn).getMessages();</span><br><span class=\"line\">//                <span class=\"keyword\">if</span> (messages.size() &gt; 0) &#123;</span><br><span class=\"line\">//                    byte[] decodedBytes = Base64.decodeBase64((messages.get(0)).getBody().getBytes());</span><br><span class=\"line\">//                    System.out.println(<span class=\"string\">\"Message: \"</span> +  new String(decodedBytes));</span><br><span class=\"line\">//                &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                    <span class=\"built_in\">return</span> new GatewayResponse(<span class=\"string\">\"[SQS]Topic Arn does not exist.\"</span>, headers, 400);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                <span class=\"built_in\">return</span> new GatewayResponse(<span class=\"string\">\"[SNS]Topic Arn does not exist.\"</span>, headers, 400);</span><br><span class=\"line\">            &#125;</span><br></pre></td></tr></table></figure></div>\n\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>(번외) Util들..</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    //TODO:find value from topic list</span><br><span class=\"line\">    public static String topicSearch(HashMap&lt;String, String&gt; hashMap, String topicName)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(hashMap.size() &gt; 0)&#123;</span><br><span class=\"line\">            String value = hashMap.get(topicName);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(value.length() &lt; 1)&#123;</span><br><span class=\"line\">                <span class=\"built_in\">return</span> <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                <span class=\"built_in\">return</span> value;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////</span><br><span class=\"line\">    public String registerWithSNS(String token) &#123;</span><br><span class=\"line\">        String endpointArn = retrieveEndpointArn();</span><br><span class=\"line\"></span><br><span class=\"line\">        boolean updateNeeded = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        boolean createNeeded = (null == endpointArn);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (createNeeded) &#123;</span><br><span class=\"line\">            // No platform endpoint ARN is stored; need to call createEndpoint.</span><br><span class=\"line\">            endpointArn = createEndpoint(token, platformApplication_ARN);</span><br><span class=\"line\">            createNeeded = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"Retrieving platform endpoint data...\"</span>);</span><br><span class=\"line\">        // Look up the platform endpoint and make sure the data <span class=\"keyword\">in</span> it is current, even <span class=\"keyword\">if</span></span><br><span class=\"line\">        // it was just created.</span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">            GetEndpointAttributesRequest geaReq =</span><br><span class=\"line\">                    new GetEndpointAttributesRequest()</span><br><span class=\"line\">                            .withEndpointArn(endpointArn);</span><br><span class=\"line\">            GetEndpointAttributesResult geaRes =</span><br><span class=\"line\">                    client.getEndpointAttributes(geaReq);</span><br><span class=\"line\"></span><br><span class=\"line\">            updateNeeded = !geaRes.getAttributes().get(<span class=\"string\">\"Token\"</span>).equals(token)</span><br><span class=\"line\">                    || !geaRes.getAttributes().get(<span class=\"string\">\"Enabled\"</span>).equalsIgnoreCase(<span class=\"string\">\"true\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125; catch (NotFoundException nfe) &#123;</span><br><span class=\"line\">            // We had a stored ARN, but the platform endpoint associated with it</span><br><span class=\"line\">            // disappeared. Recreate it.</span><br><span class=\"line\">            createNeeded = <span class=\"literal\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (createNeeded) &#123;</span><br><span class=\"line\">            createEndpoint(token, platformApplication_ARN);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"updateNeeded = \"</span> + updateNeeded);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (updateNeeded) &#123;</span><br><span class=\"line\">            // The platform endpoint is out of sync with the current data;</span><br><span class=\"line\">            // update the token and <span class=\"built_in\">enable</span> it.</span><br><span class=\"line\">            System.out.println(<span class=\"string\">\"Updating platform endpoint \"</span> + endpointArn);</span><br><span class=\"line\">            Map attribs = new HashMap();</span><br><span class=\"line\">            attribs.put(<span class=\"string\">\"Token\"</span>, token);</span><br><span class=\"line\">            attribs.put(<span class=\"string\">\"Enabled\"</span>, <span class=\"string\">\"true\"</span>);</span><br><span class=\"line\">            SetEndpointAttributesRequest saeReq =</span><br><span class=\"line\">                    new SetEndpointAttributesRequest()</span><br><span class=\"line\">                            .withEndpointArn(endpointArn)</span><br><span class=\"line\">                            .withAttributes(attribs);</span><br><span class=\"line\">            client.setEndpointAttributes(saeReq);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> endpointArn;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * @<span class=\"built_in\">return</span> never null</span><br><span class=\"line\">     * */</span><br><span class=\"line\">    private String createEndpoint(String token, String PlatformApplicationARN) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        String endpointArn = null;</span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">\"Creating platform endpoint with token \"</span> + token);</span><br><span class=\"line\">            CreatePlatformEndpointRequest cpeReq =</span><br><span class=\"line\">                    new CreatePlatformEndpointRequest()</span><br><span class=\"line\">//                            .withPlatformApplicationArn(applicationArn)</span><br><span class=\"line\">                            .withPlatformApplicationArn(platformApplication_ARN)</span><br><span class=\"line\">                            .withToken(token);</span><br><span class=\"line\">            CreatePlatformEndpointResult cpeRes = client</span><br><span class=\"line\">                    .createPlatformEndpoint(cpeReq);</span><br><span class=\"line\">            endpointArn = cpeRes.getEndpointArn();</span><br><span class=\"line\">        &#125; catch (InvalidParameterException ipe) &#123;</span><br><span class=\"line\">            String message = ipe.getErrorMessage();</span><br><span class=\"line\">            System.out.println(<span class=\"string\">\"Exception message: \"</span> + message);</span><br><span class=\"line\">            Pattern p = Pattern</span><br><span class=\"line\">                    .compile(<span class=\"string\">\".*Endpoint (arn:aws:sns[^ ]+) already exists \"</span> +</span><br><span class=\"line\">                            <span class=\"string\">\"with the same [Tt]oken.*\"</span>);</span><br><span class=\"line\">            Matcher m = p.matcher(message);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (m.matches()) &#123;</span><br><span class=\"line\">                // The platform endpoint already exists <span class=\"keyword\">for</span> this token, but with</span><br><span class=\"line\">                // additional custom data that</span><br><span class=\"line\">                // createEndpoint does not want to overwrite. Just use the</span><br><span class=\"line\">                // existing platform endpoint.</span><br><span class=\"line\">                endpointArn = m.group(1);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                // Rethrow the exception, the input is actually bad.</span><br><span class=\"line\">                throw ipe;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        storeEndpointArn(endpointArn);</span><br><span class=\"line\">        <span class=\"built_in\">return</span> endpointArn;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * @<span class=\"built_in\">return</span> the ARN the app was registered under previously, or null <span class=\"keyword\">if</span> no</span><br><span class=\"line\">     *         platform endpoint ARN is stored.</span><br><span class=\"line\">     */</span><br><span class=\"line\">    private String <span class=\"function\"><span class=\"title\">retrieveEndpointArn</span></span>() &#123;</span><br><span class=\"line\">        // Retrieve the platform endpoint ARN from permanent storage,</span><br><span class=\"line\">        // or <span class=\"built_in\">return</span> null <span class=\"keyword\">if</span> null is stored.</span><br><span class=\"line\">        <span class=\"built_in\">return</span> arnStorage;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * Stores the platform endpoint ARN <span class=\"keyword\">in</span> permanent storage <span class=\"keyword\">for</span> lookup next time.</span><br><span class=\"line\">     * */</span><br><span class=\"line\">    private void storeEndpointArn(String endpointArn) &#123;</span><br><span class=\"line\">        // Write the platform endpoint ARN to permanent storage.</span><br><span class=\"line\">        arnStorage = endpointArn;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////</span><br><span class=\"line\">    public static ResultSet mysqlCRUD_R(String[] <span class=\"built_in\">where</span>, String orderby)&#123;</span><br><span class=\"line\">        Connection conn = null;</span><br><span class=\"line\">        Statement stmt = null;</span><br><span class=\"line\"></span><br><span class=\"line\">        try&#123;</span><br><span class=\"line\">            Class.forName(JDBC_DRIVER);</span><br><span class=\"line\">            conn = DriverManager.getConnection(mySQLConnection,USERNAME,PASSWORD);</span><br><span class=\"line\">            System.out.println(<span class=\"string\">\"\\n- MySQL Connection\"</span>);</span><br><span class=\"line\">            stmt = conn.createStatement(</span><br><span class=\"line\">                    ResultSet.TYPE_SCROLL_INSENSITIVE,</span><br><span class=\"line\">                    ResultSet.CONCUR_READ_ONLY);</span><br><span class=\"line\"></span><br><span class=\"line\">            String sql;</span><br><span class=\"line\">            sql = <span class=\"string\">\"SELECT * FROM \"</span>+insertDataTableName;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(where.length &gt; 0) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> ((where.length % 2) == 0) &#123;//Even Number</span><br><span class=\"line\">                    String str = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">                    str += <span class=\"string\">\" WHERE \"</span>;</span><br><span class=\"line\">                    <span class=\"keyword\">for</span> (int i = 0; i &lt; where.length; i++) &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">if</span>((where.length/2) == ((i/2)+1))&#123;//final</span><br><span class=\"line\">                            str += <span class=\"built_in\">where</span>[i] + <span class=\"string\">\"='\"</span> + <span class=\"built_in\">where</span>[i + 1] + <span class=\"string\">\"' \"</span>;</span><br><span class=\"line\">                            i++;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                        <span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                            str += <span class=\"built_in\">where</span>[i] + <span class=\"string\">\"='\"</span> + <span class=\"built_in\">where</span>[i + 1] + <span class=\"string\">\"' AND \"</span>;</span><br><span class=\"line\">                            i++;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    sql += str;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123; //Odd Number</span><br><span class=\"line\">                    String str = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">                    str += <span class=\"string\">\" WHERE \"</span>;</span><br><span class=\"line\">                    <span class=\"keyword\">for</span> (int i = 0; i &lt; where.length - 1; i++) &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">if</span>((where.length/2) == ((i/2)+1))&#123;//final</span><br><span class=\"line\">                            str += <span class=\"built_in\">where</span>[i] + <span class=\"string\">\"='\"</span> + <span class=\"built_in\">where</span>[i + 1] + <span class=\"string\">\"' \"</span>;</span><br><span class=\"line\">                            i++;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                        <span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                            str += <span class=\"built_in\">where</span>[i] + <span class=\"string\">\"='\"</span> + <span class=\"built_in\">where</span>[i + 1] + <span class=\"string\">\"' AND \"</span>;</span><br><span class=\"line\">                            i++;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    sql += str;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(orderby.length()&gt;0)&#123;</span><br><span class=\"line\">                sql += orderby;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            rs = stmt.executeQuery(sql);</span><br><span class=\"line\">            int row = rowCount(rs);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">while</span>(rs.next())&#123;</span><br><span class=\"line\">                String groupName = rs.getString(<span class=\"string\">\"USER_SEQ\"</span>);</span><br><span class=\"line\">                String memberName = rs.getString(<span class=\"string\">\"SMARTPHONE_KEY\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">                System.out.print(<span class=\"string\">\"\\n** USER_SEQ : \"</span> + groupName);</span><br><span class=\"line\">                System.out.print(<span class=\"string\">\"\\n    -&gt; SMARTPHONE_KEY: \"</span> + memberName);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            //rs.close();</span><br><span class=\"line\">            //stmt.close();</span><br><span class=\"line\">            //conn.close();</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;catch(SQLException se1)&#123;</span><br><span class=\"line\">            se1.printStackTrace();</span><br><span class=\"line\">        &#125;catch(Exception ex)&#123;</span><br><span class=\"line\">            ex.printStackTrace();</span><br><span class=\"line\">        &#125;finally&#123;</span><br><span class=\"line\">//            try&#123;</span><br><span class=\"line\">//                <span class=\"keyword\">if</span>(stmt!=null)</span><br><span class=\"line\">//                    stmt.close();</span><br><span class=\"line\">//            &#125;catch(SQLException se2)&#123;</span><br><span class=\"line\">//</span><br><span class=\"line\">//            &#125;</span><br><span class=\"line\">//            try&#123;</span><br><span class=\"line\">//                <span class=\"keyword\">if</span>(conn!=null)</span><br><span class=\"line\">//                    conn.close();</span><br><span class=\"line\">//            &#125;catch(SQLException se)&#123;</span><br><span class=\"line\">//                se.printStackTrace();</span><br><span class=\"line\">//            &#125;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">\"\\n\\n- MySQL Connection Close\"</span>);</span><br><span class=\"line\">            <span class=\"built_in\">return</span> rs;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    public static int rowCount(ResultSet resultSet)&#123;</span><br><span class=\"line\">        int size = 0;</span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">            resultSet.last();</span><br><span class=\"line\">            size = resultSet.getRow();</span><br><span class=\"line\">            resultSet.beforeFirst();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        catch(Exception ex) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">return</span> 0;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> size;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    public static ResultSet mysqlCRUD_CU(String devide, String token_ARN)&#123;</span><br><span class=\"line\">        Connection con = null;</span><br><span class=\"line\">        PreparedStatement pstmt = null;</span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">            String SQL = null;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(devide == <span class=\"string\">\"Create\"</span>)&#123;</span><br><span class=\"line\">                SQL = <span class=\"string\">\"INSERT문\"</span>;</span><br><span class=\"line\">                Class.forName(JDBC_DRIVER);</span><br><span class=\"line\">                con = DriverManager.getConnection(mySQLConnection, USERNAME, PASSWORD);</span><br><span class=\"line\">                java.util.Date utilDate = new java.util.Date ();</span><br><span class=\"line\">                pstmt = con.prepareStatement(SQL);</span><br><span class=\"line\">                pstmt.setInt(N,VALUE);</span><br><span class=\"line\">                pstmt.setString(N, VALUE);</span><br><span class=\"line\">                pstmt.setNull(N, Types.VARCHAR); //java.sql.Types.NULL</span><br><span class=\"line\">                pstmt.setDate(N, java.sql.Date.valueOf(java.time.LocalDate.now()));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(devide == <span class=\"string\">\"Update\"</span>)&#123;</span><br><span class=\"line\">                SQL = <span class=\"string\">\"UPDATE문\"</span>;</span><br><span class=\"line\">                Class.forName(JDBC_DRIVER);</span><br><span class=\"line\">                con = DriverManager.getConnection(mySQLConnection, USERNAME, PASSWORD);</span><br><span class=\"line\">                java.util.Date utilDate = new java.util.Date ();</span><br><span class=\"line\">                pstmt = con.prepareStatement(SQL);</span><br><span class=\"line\">                pstmt.setString(N, VALUE);</span><br><span class=\"line\">                pstmt.setInt(N, VALUE);</span><br><span class=\"line\">                pstmt.setNull(N, Types.VARCHAR); //java.sql.Types.NULL</span><br><span class=\"line\">                pstmt.setDate(N, java.sql.Date.valueOf(java.time.LocalDate.now()));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                <span class=\"built_in\">return</span> rs;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            int r = pstmt.executeUpdate();</span><br><span class=\"line\">        &#125; catch (SQLException e) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">return</span> rs=null;</span><br><span class=\"line\">        &#125; catch (ClassNotFoundException e1) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">return</span> rs=null;</span><br><span class=\"line\">        &#125; finally &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (pstmt != null) &#123;</span><br><span class=\"line\">                try &#123;</span><br><span class=\"line\">                    pstmt.close();</span><br><span class=\"line\">                &#125; catch (SQLException e) &#123;</span><br><span class=\"line\">                    e.printStackTrace();</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (con != null) &#123;</span><br><span class=\"line\">                try &#123;</span><br><span class=\"line\">                    con.close();</span><br><span class=\"line\">                &#125; catch (SQLException e) &#123;</span><br><span class=\"line\">                    e.printStackTrace();</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"built_in\">return</span> rs;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"번외\"><a href=\"#번외\" class=\"headerlink\" title=\"번외\"></a>번외</h3><ul>\n<li>각 유형의 가입자에게 다른 컨텐츠를 보내려면 “각 전송 프로토콜에 대한 사용자 정의 페이로드”를 선택한 다음 각 프로토콜에 대한 지시 사항이있는 JSON 오브젝트를 삽입<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">\"default\"</span>: <span class=\"string\">\"Sample fallback message\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"email\"</span>: <span class=\"string\">\"Sample message for email endpoints\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"sqs\"</span>: <span class=\"string\">\"Sample message for Amazon SQS endpoints\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"lambda\"</span>: <span class=\"string\">\"Sample message for AWS Lambda endpoints\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"http\"</span>: <span class=\"string\">\"Sample message for HTTP endpoints\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"https\"</span>: <span class=\"string\">\"Sample message for HTTPS endpoints\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"sms\"</span>: <span class=\"string\">\"Sample message for SMS endpoints\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"APNS\"</span>: <span class=\"string\">\"&#123;\\\"aps\\\":&#123;\\\"alert\\\": \\\"Sample message for iOS endpoints\\\"&#125; &#125;\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"APNS_SANDBOX\"</span>: <span class=\"string\">\"&#123;\\\"aps\\\":&#123;\\\"alert\\\":\\\"Sample message for iOS development endpoints\\\"&#125;&#125;\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"APNS_VOIP\"</span>: <span class=\"string\">\"&#123;\\\"aps\\\":&#123;\\\"alert\\\":\\\"Sample message for Apple VoIP endpoints\\\"&#125;&#125;\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"APNS_VOIP_SANDBOX\"</span>: <span class=\"string\">\"&#123;\\\"aps\\\":&#123;\\\"alert\\\": \\\"Sample message for Apple VoIP development endpoints\\\"&#125; &#125;\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"MACOS\"</span>: <span class=\"string\">\"&#123;\\\"aps\\\":&#123;\\\"alert\\\":\\\"Sample message for MacOS endpoints\\\"&#125;&#125;\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"MACOS_SANDBOX\"</span>: <span class=\"string\">\"&#123;\\\"aps\\\":&#123;\\\"alert\\\": \\\"Sample message for MacOS development endpoints\\\"&#125; &#125;\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"GCM\"</span>: <span class=\"string\">\"&#123; \\\"data\\\": &#123; \\\"message\\\": \\\"Sample message for Android endpoints\\\" &#125; &#125;\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"ADM\"</span>: <span class=\"string\">\"&#123; \\\"data\\\": &#123; \\\"message\\\": \\\"Sample message for FireOS endpoints\\\" &#125; &#125;\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"BAIDU\"</span>: <span class=\"string\">\"&#123;\\\"title\\\":\\\"Sample message title\\\",\\\"description\\\":\\\"Sample message for Baidu endpoints\\\"&#125;\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"MPNS\"</span>: <span class=\"string\">\"&lt;?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?&gt;&lt;wp:Notification xmlns:wp=\\\"WPNotification\\\"&gt;&lt;wp:Tile&gt;&lt;wp:Count&gt;ENTER COUNT&lt;/wp:Count&gt;&lt;wp:Title&gt;Sample message for Windows Phone 7+ endpoints&lt;/wp:Title&gt;&lt;/wp:Tile&gt;&lt;/wp:Notification&gt;\"</span>,</span><br><span class=\"line\">  <span class=\"string\">\"WNS\"</span>: <span class=\"string\">\"&lt;badge version=\\\"1\\\" value=\\\"42\\\"/&gt;\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div></li>\n</ul>\n","text":"개발환경 구축※ 기본 개발환경IntelliJJava, SpringAWS ConsoleSNS 설명사용자에게 Noti 보내주는게 주요 임무.기본 기능으로는 Push(FCM, GCM), 이메일, SMS, 등 … 다용도로 보낼 수 있다.1) SNS Topic","link":"","raw":null,"photos":[],"categories":[{"name":"tip","slug":"tip","count":23,"path":"api/categories/tip.json"}],"tags":[{"name":"AWS","slug":"AWS","count":14,"path":"api/tags/AWS.json"},{"name":"secretsmanager","slug":"secretsmanager","count":2,"path":"api/tags/secretsmanager.json"},{"name":"Secret","slug":"Secret","count":2,"path":"api/tags/Secret.json"}]},{"title":"SQS(Simple Queue Service)","slug":"SQS","date":"2020-05-02T04:54:16.000Z","updated":"2020-05-11T04:01:04.585Z","comments":true,"pin":null,"path":"api/articles/SQS.json","excerpt":"","keywords":null,"cover":"https://user-images.githubusercontent.com/62123161/80855560-14716d80-8c7d-11ea-9a58-fa748f417da0.png","content":"<ol>\n<li><p>Kinesis가 있으니 SQS를 쓸 일이 없겠다. 이걸 뭐하러 쓰나?</p>\n</li>\n<li><p>라고 생각했다면, 한참 더 공부해야한다. </p>\n</li>\n<li><p>우선 Kinesis와 SQS의 큰 차이점을 비교한다.</p>\n</li>\n</ol>\n<h3 id=\"Kinesis-vs-SQS\"><a href=\"#Kinesis-vs-SQS\" class=\"headerlink\" title=\"Kinesis vs SQS\"></a>Kinesis vs SQS</h3><ul>\n<li>Kinesis는 스트리밍 데이터 수집 서비스이고 SQS는 메시지 대기열이다.</li>\n<li>Kinesis는 대량의 스트리밍 데이터를 수집하도록 설계되었으며 SQS는 메시지 브로커, 디커플링 메커니즘으로 설계되었으며 이벤트 중심 아키텍처다.</li>\n<li>SQS를 사용하면 큐에서 메시지를 가져 와서 처리 중에 보이지 않는 것으로 표시 할 수 있습니다. 해당 소비자가 메시지를 큐에서 삭제하지 않으면 가시성 시간 초과가 만료 된 후에 메시지가 큐로 돌아가서 다른 소비자가 메시지를 처리 ​​할 수 ​​있습니다. SQS에는 데드 레터 큐가 내장되어 있습니다. 이러한 기능을 통해 다른 소비자가 대기열로 돌아갈 때 실패한 메시지 처리를 자동으로 재 시도 할 수 있습니다. SQS는 또한 많은 소비자가 대기열에서 메시지를 가져 와서 병렬로 처리 할 수 ​​있도록함으로써 병렬 또는 팬 아웃 처리 아키텍처를 지원합니다.</li>\n<li>Kinesis 및 Kinesis Firehose는 Elasticsearch, DynamoDB, S3 등과 같은 서비스 (데이터의 지속성 저장소)와 통합되는 반면 SQS는 Lambda, S3, SNS 등과 같은 서비스 (메시징 및 이벤트 중심 구성 요소)와 통합됩니다.</li>\n<li>이외에도 엄청나게 많은 차이점이 있지만, 링크 참고하면 더 큰 차이를 느낄 수 있음.</li>\n</ul>\n<h2 id=\"SQS는-최초의-AWS-서비스\"><a href=\"#SQS는-최초의-AWS-서비스\" class=\"headerlink\" title=\"SQS는 최초의 AWS 서비스!!!\"></a>SQS는 최초의 AWS 서비스!!!</h2><h3 id=\"1-SQS-서비스-만들기\"><a href=\"#1-SQS-서비스-만들기\" class=\"headerlink\" title=\"1) SQS 서비스 만들기.\"></a>1) SQS 서비스 만들기.</h3><p><a href=\"https://user-images.githubusercontent.com/62123161/80855560-14716d80-8c7d-11ea-9a58-fa748f417da0.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855560-14716d80-8c7d-11ea-9a58-fa748f417da0.png\" alt=\"sqs_01\"></a><br>끝.</p>\n<ul>\n<li>허무하지만 이게 끝 맞다. 소스로는 아래와 같이 추가해주면 된다.</li>\n</ul>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>Standard Queue vs FIFO Queue</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//Standard QUEUE의 경우</span><br><span class=\"line\">    //2-1. Standard Create Queue</span><br><span class=\"line\">    CreateQueueRequest create_request = new CreateQueueRequest(<span class=\"string\">\"minseoktestQueue\"</span>)</span><br><span class=\"line\">            .addAttributesEntry(<span class=\"string\">\"DelaySeconds\"</span>, <span class=\"string\">\"0\"</span>) //An <span class=\"built_in\">integer</span> from 0 to 900 seconds (15 minutes). Default: 0.</span><br><span class=\"line\">            .addAttributesEntry(<span class=\"string\">\"VisibilityTimeout\"</span>, <span class=\"string\">\"30\"</span>) // An <span class=\"built_in\">integer</span> from 0 to 43,200 (12 hours). Default: 30.</span><br><span class=\"line\">            .addAttributesEntry(<span class=\"string\">\"MessageRetentionPeriod\"</span>, <span class=\"string\">\"345600\"</span>) // An <span class=\"built_in\">integer</span> from 60 seconds (1 minute) to 1,209,600 seconds (14 days). Default: 345,600 (4 days).</span><br><span class=\"line\">            .addAttributesEntry(<span class=\"string\">\"MaximumMessageSize\"</span>, <span class=\"string\">\"262144\"</span>); //An <span class=\"built_in\">integer</span> from 1,024 bytes (1 KiB) to 262,144 bytes (256 KiB). Default: 262,144 (256 KiB).</span><br><span class=\"line\">    String standardQueueUrl = sqs.createQueue(create_request).getQueueUrl();</span><br><span class=\"line\"> </span><br><span class=\"line\">//FIFO QUEUE의 경우</span><br><span class=\"line\">    //1-1. FIFO Create Queue</span><br><span class=\"line\">    Map&lt;String, String&gt; queueAttributes = new HashMap&lt;&gt;();</span><br><span class=\"line\">    queueAttributes.put(<span class=\"string\">\"FifoQueue\"</span>, <span class=\"string\">\"true\"</span>);</span><br><span class=\"line\">    queueAttributes.put(<span class=\"string\">\"ContentBasedDeduplication\"</span>, <span class=\"string\">\"true\"</span>);</span><br><span class=\"line\">    queueAttributes.put(<span class=\"string\">\"VisibilityTimeout\"</span>, <span class=\"string\">\"1\"</span>);</span><br><span class=\"line\">    CreateQueueRequest createFifoQueueRequest = new CreateQueueRequest(</span><br><span class=\"line\">            <span class=\"string\">\"minseok1.fifo\"</span>).withAttributes(queueAttributes);</span><br><span class=\"line\">    String fifoQueueUrl = sqs.createQueue(createFifoQueueRequest)</span><br><span class=\"line\">            .getQueueUrl();</span><br></pre></td></tr></table></figure></div>\n<ul>\n<li>하지만, 이렇게 끝나면 정말 별거 없는 서비스가 될 우려가 있기에 많은 소스코드와 함께 지원되는 API를 검토하고 활용해보자.</li>\n<li>SQS도 Kinesis와 마찬가지로 큐에 데이터를 쌓는것이지만, SQS는 Console화면에서 데이터가 어떤것이 들어있는지 아주 매우 많이 쉽게 볼 수 있다.</li>\n<li>예제는 현재 Alive데이터를 담아두도록 설계해둔 SQS(2020-01-30 기준으로 폐쇄) alive-sqs-event 큐이다.<br><a href=\"https://user-images.githubusercontent.com/62123161/80855561-15a29a80-8c7d-11ea-99fe-dd9d95635b7e.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855561-15a29a80-8c7d-11ea-99fe-dd9d95635b7e.png\" alt=\"sqs_02\"></a> </li>\n<li>화면보면 알겠지만, 페이지별로 몇개의 Row를 볼 수 있는지와 Polling 주기를 선택할 수 있다.</li>\n</ul>\n<h3 id=\"2-기능\"><a href=\"#2-기능\" class=\"headerlink\" title=\"2) 기능\"></a>2) 기능</h3><h4 id=\"전체-큐-리스트\"><a href=\"#전체-큐-리스트\" class=\"headerlink\" title=\"전체 큐 리스트\"></a>전체 큐 리스트</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>Queue List</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//Standard QUEUE의 경우</span><br><span class=\"line\">    //1-2. Standard Queue List(All)</span><br><span class=\"line\">    ListQueuesResult lq_result = sqs.listQueues();</span><br><span class=\"line\">    System.out.println(<span class=\"string\">\"Your SQS Queue URLs:\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (String url : lq_result.getQueueUrls()) &#123;</span><br><span class=\"line\">        System.out.println(url);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">//FIFO QUEUE의 경우</span><br><span class=\"line\">    //1-2. FIFO Queue List(All)</span><br><span class=\"line\">    ListQueuesResult lq_result = sqs.listQueues();</span><br><span class=\"line\">    System.out.println(<span class=\"string\">\"Your SQS Queue URLs:\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (String url : lq_result.getQueueUrls()) &#123;</span><br><span class=\"line\">        System.out.println(url);</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"특정키워드로-큐-찾기-여러개-검색해도-가능-→-Queue-이름이다-Queue의-데이터가-아니고\"><a href=\"#특정키워드로-큐-찾기-여러개-검색해도-가능-→-Queue-이름이다-Queue의-데이터가-아니고\" class=\"headerlink\" title=\"특정키워드로 큐 찾기(여러개 검색해도 가능) → Queue 이름이다. Queue의 데이터가 아니고!!\"></a>특정키워드로 큐 찾기(여러개 검색해도 가능) → Queue 이름이다. Queue의 데이터가 아니고!!</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>Find Queue</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//Standard QUEUE의 경우</span><br><span class=\"line\">    //1-3. Standard Queue Search(KEY_WORD)</span><br><span class=\"line\">    String name_prefix = <span class=\"string\">\"KEY_WORD_ENTER\"</span>;</span><br><span class=\"line\">    lq_result = sqs.listQueues(new ListQueuesRequest(name_prefix));</span><br><span class=\"line\">    System.out.println(<span class=\"string\">\"Queue URLs with prefix: \"</span> + name_prefix);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (String url : lq_result.getQueueUrls()) &#123;</span><br><span class=\"line\">        System.out.println(url);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">//FIFO QUEUE의 경우</span><br><span class=\"line\">    //1-3. FIFO Queue Search(KEY_WORD)</span><br><span class=\"line\">    String name_prefix = <span class=\"string\">\"KEY_WORD_ENTER\"</span>;</span><br><span class=\"line\">    lq_result = sqs.listQueues(new ListQueuesRequest(name_prefix));</span><br><span class=\"line\">    System.out.println(<span class=\"string\">\"Queue URLs with prefix: \"</span> + name_prefix);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (String url : lq_result.getQueueUrls()) &#123;</span><br><span class=\"line\">        System.out.println(url);</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"큐-삭제\"><a href=\"#큐-삭제\" class=\"headerlink\" title=\"큐 삭제\"></a>큐 삭제</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>Delete Queue</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//Standard QUEUE의 경우</span><br><span class=\"line\">    //1-4. Standard Queue Delete(URL)</span><br><span class=\"line\">    sqs.deleteQueue(fifoQueueUrl);</span><br><span class=\"line\"> </span><br><span class=\"line\">//FIFO QUEUE의 경우</span><br><span class=\"line\">    //1-4. FIFO Queue Delete(URL)</span><br><span class=\"line\">    sqs.deleteQueue(fifoQueueUrl);</span><br></pre></td></tr></table></figure></div>\n<h4 id=\"단일-데이터-삽입\"><a href=\"#단일-데이터-삽입\" class=\"headerlink\" title=\"단일 데이터 삽입\"></a>단일 데이터 삽입</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>Insert Single Message</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//Standard QUEUE의 경우</span><br><span class=\"line\">    //1-5. Standard Posting a Message to a Queue</span><br><span class=\"line\">    SendMessageRequest send_msg_request = new SendMessageRequest()</span><br><span class=\"line\">            .withQueueUrl(fifoQueueUrl)</span><br><span class=\"line\">            .withMessageBody(<span class=\"string\">\"hello world\"</span>)</span><br><span class=\"line\">            .withDelaySeconds(0);</span><br><span class=\"line\">    sqs.sendMessage(send_msg_request);</span><br><span class=\"line\"> </span><br><span class=\"line\">//FIFO QUEUE의 경우</span><br><span class=\"line\">    //1-5. FIFO Posting a Message to a FIFO Queue</span><br><span class=\"line\">    SendMessageRequest send_msg_request = new SendMessageRequest()</span><br><span class=\"line\">            .withQueueUrl(fifoQueueUrl)</span><br><span class=\"line\">            .withMessageBody(<span class=\"string\">\"hello world\"</span>)</span><br><span class=\"line\">            .withMessageGroupId(<span class=\"string\">\"minseok-group-1\"</span>)</span><br><span class=\"line\">            .withDelaySeconds(0);</span><br><span class=\"line\">    sqs.sendMessage(send_msg_request);</span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"여러-데이터-삽입\"><a href=\"#여러-데이터-삽입\" class=\"headerlink\" title=\"여러 데이터 삽입\"></a>여러 데이터 삽입</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>Insert Multiple Data </span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//Standard QUEUE의 경우</span><br><span class=\"line\">    //1-6. Standard Posting Multiple Messages to a Queue</span><br><span class=\"line\">    List&lt;SendMessageBatchRequestEntry&gt; messageEntries = new ArrayList&lt;&gt;();</span><br><span class=\"line\">    messageEntries.add(new SendMessageBatchRequestEntry()</span><br><span class=\"line\">            .withId(<span class=\"string\">\"id-1\"</span>)</span><br><span class=\"line\">            .withMessageBody(<span class=\"string\">\"batch-1\"</span>));</span><br><span class=\"line\">    messageEntries.add(new SendMessageBatchRequestEntry()</span><br><span class=\"line\">            .withId(<span class=\"string\">\"id-2\"</span>)</span><br><span class=\"line\">            .withMessageBody(<span class=\"string\">\"batch-2\"</span>));</span><br><span class=\"line\"> </span><br><span class=\"line\">    SendMessageBatchRequest sendMessageBatchRequest</span><br><span class=\"line\">            = new SendMessageBatchRequest(fifoQueueUrl, messageEntries);</span><br><span class=\"line\">    sqs.sendMessageBatch(sendMessageBatchRequest);</span><br><span class=\"line\"> </span><br><span class=\"line\">//FIFO QUEUE의 경우</span><br><span class=\"line\">    //1-6. FIFO Posting Multiple Messages to a Queue</span><br><span class=\"line\">    List&lt;SendMessageBatchRequestEntry&gt; messageEntries = new ArrayList&lt;&gt;();</span><br><span class=\"line\">    messageEntries.add(new SendMessageBatchRequestEntry()</span><br><span class=\"line\">            .withId(<span class=\"string\">\"id-1\"</span>)</span><br><span class=\"line\">            .withMessageBody(<span class=\"string\">\"batch-1\"</span>)</span><br><span class=\"line\">            .withMessageGroupId(<span class=\"string\">\"minseok-group-1\"</span>));</span><br><span class=\"line\">    messageEntries.add(new SendMessageBatchRequestEntry()</span><br><span class=\"line\">            .withId(<span class=\"string\">\"id-2\"</span>)</span><br><span class=\"line\">            .withMessageBody(<span class=\"string\">\"batch-2\"</span>)</span><br><span class=\"line\">            .withMessageGroupId(<span class=\"string\">\"minseok-group-1\"</span>));</span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"큐-내의-데이터-읽기\"><a href=\"#큐-내의-데이터-읽기\" class=\"headerlink\" title=\"큐 내의 데이터 읽기\"></a>큐 내의 데이터 읽기</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>Read Data In Queue</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//Standard QUEUE / FIFO QUEUE의 경우</span><br><span class=\"line\">    //1-7. Reading Messages from Queues</span><br><span class=\"line\">    ReceiveMessageRequest receiveMessageRequest = new ReceiveMessageRequest(fifoQueueUrl)</span><br><span class=\"line\">            .withWaitTimeSeconds(10)</span><br><span class=\"line\">            .withMaxNumberOfMessages(10);</span><br><span class=\"line\"> </span><br><span class=\"line\">    List&lt;Message&gt; sqsMessages = sqs.receiveMessage(receiveMessageRequest).getMessages();</span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"큐-내의-데이터-삭제\"><a href=\"#큐-내의-데이터-삭제\" class=\"headerlink\" title=\"큐 내의 데이터 삭제\"></a>큐 내의 데이터 삭제</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>Delete Data In Queue</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//Standard QUEUE / FIFO QUEUE의 경우</span><br><span class=\"line\">    //1-8. Deleting a Message from a Queue</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (Message m : sqsMessages) &#123;</span><br><span class=\"line\">        sqs.deleteMessage(fifoQueueUrl, m.getReceiptHandle());</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"전달못한-Queue\"><a href=\"#전달못한-Queue\" class=\"headerlink\" title=\"전달못한 Queue\"></a>전달못한 Queue</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>Dead Letter Queues</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//Standard QUEUE / FIFO QUEUE의 경우</span><br><span class=\"line\">    //1-9. FIFO Dead Letter Queues1(TODO:배달못한 편지 대기열을 생성하고,</span><br><span class=\"line\">    /*String deadLetterQueueUrl = sqs.createQueue(<span class=\"string\">\"aws-sqs://notification_queue?amazonSQSClient=#sqsClient\"</span>).getQueueUrl();*/</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">        // Create dead-letter queue</span><br><span class=\"line\">        Map&lt;String, String&gt; queueAttributes = new HashMap&lt;&gt;();</span><br><span class=\"line\">        queueAttributes.put(<span class=\"string\">\"FifoQueue\"</span>, <span class=\"string\">\"true\"</span>);</span><br><span class=\"line\">        queueAttributes.put(<span class=\"string\">\"ContentBasedDeduplication\"</span>, <span class=\"string\">\"true\"</span>);</span><br><span class=\"line\">        queueAttributes.put(<span class=\"string\">\"VisibilityTimeout\"</span>, <span class=\"string\">\"1\"</span>);</span><br><span class=\"line\">        CreateQueueRequest createFifoQueueRequest = new CreateQueueRequest(</span><br><span class=\"line\">                <span class=\"string\">\"deadletterminseok.fifo\"</span>).withAttributes(queueAttributes);</span><br><span class=\"line\">        String fifoQueueUrls = sqs.createQueue(createFifoQueueRequest)</span><br><span class=\"line\">                .getQueueUrl();</span><br><span class=\"line\">    &#125; catch (AmazonSQSException e) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!e.getErrorCode().equals(<span class=\"string\">\"QueueAlreadyExists\"</span>)) &#123;</span><br><span class=\"line\">            throw e;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    //TODO:minseok.fifo 로 통신하다가 부하가 걸리면 deadletterminseok.fifo로 보내도록 설정하는 아래 코드</span><br><span class=\"line\">    String dl_queue_url = sqs.getQueueUrl(<span class=\"string\">\"deadletterminseok.fifo\"</span>)</span><br><span class=\"line\">            .getQueueUrl();</span><br><span class=\"line\">    GetQueueAttributesResult queue_attrs = sqs.getQueueAttributes(</span><br><span class=\"line\">            new GetQueueAttributesRequest(dl_queue_url)</span><br><span class=\"line\">                    .withAttributeNames(<span class=\"string\">\"QueueArn\"</span>));</span><br><span class=\"line\">    String dl_queue_arn = queue_attrs.getAttributes().get(<span class=\"string\">\"QueueArn\"</span>);</span><br><span class=\"line\">    // Set dead letter queue with redrive policy on <span class=\"built_in\">source</span> queue.</span><br><span class=\"line\">    String src_queue_url = sqs.getQueueUrl(<span class=\"string\">\"minseok.fifo\"</span>)</span><br><span class=\"line\">            .getQueueUrl();</span><br><span class=\"line\">    SetQueueAttributesRequest request = new SetQueueAttributesRequest()</span><br><span class=\"line\">            .withQueueUrl(src_queue_url)</span><br><span class=\"line\">            .addAttributesEntry(<span class=\"string\">\"RedrivePolicy\"</span>,</span><br><span class=\"line\">                    <span class=\"string\">\"&#123;\\\"maxReceiveCount\\\":\\\"5\\\", \\\"deadLetterTargetArn\\\":\\\"\"</span></span><br><span class=\"line\">                            + dl_queue_arn + <span class=\"string\">\"\\\"&#125;\"</span>);</span><br><span class=\"line\">    sqs.setQueueAttributes(request);</span><br><span class=\"line\"> </span><br><span class=\"line\"> </span><br><span class=\"line\">//또다른 방법(샘플)</span><br><span class=\"line\">    //1-10. FIFO Dead Letter Queues</span><br><span class=\"line\">    GetQueueAttributesResult deadLetterQueueAttributes = sqs.getQueueAttributes(</span><br><span class=\"line\">            new GetQueueAttributesRequest(dl_queue_url)</span><br><span class=\"line\">                    .withAttributeNames(<span class=\"string\">\"QueueArn\"</span>));</span><br><span class=\"line\"> </span><br><span class=\"line\">    String deadLetterQueueARN = deadLetterQueueAttributes.getAttributes()</span><br><span class=\"line\">            .get(<span class=\"string\">\"QueueArn\"</span>);</span><br><span class=\"line\">    SetQueueAttributesRequest queueAttributesRequest = new SetQueueAttributesRequest()</span><br><span class=\"line\">            //.withQueueUrl(standardQueueUrl)</span><br><span class=\"line\">            .withQueueUrl(<span class=\"string\">\"https://sqs.ap-northeast-2.amazonaws.com/[ALLIAS]/[FIFO_NAME]\"</span>)</span><br><span class=\"line\">            .addAttributesEntry(<span class=\"string\">\"RedrivePolicy\"</span>,</span><br><span class=\"line\">                    <span class=\"string\">\"&#123;\\\"maxReceiveCount\\\":\\\"2\\\", \"</span></span><br><span class=\"line\">                            + <span class=\"string\">\"\\\"deadLetterTargetArn\\\":\\\"\"</span> + deadLetterQueueARN + <span class=\"string\">\"\\\"&#125;\"</span>);</span><br><span class=\"line\"> </span><br><span class=\"line\">    sqs.setQueueAttributes(queueAttributesRequest);</span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"Monitoring\"><a href=\"#Monitoring\" class=\"headerlink\" title=\"Monitoring\"></a>Monitoring</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//Standard QUEUE / FIFO QUEUE의 경우</span><br><span class=\"line\">    //1-11. FIFO Monitoring</span><br><span class=\"line\">    GetQueueAttributesRequest getQueueAttributesRequest</span><br><span class=\"line\">            //= new GetQueueAttributesRequest(standardQueueUrl) </span><br><span class=\"line\">            = new GetQueueAttributesRequest(<span class=\"string\">\"https://sqs.ap-northeast-2.amazonaws.com/[ALLIAS]/[FIFO_NAME]\"</span>)</span><br><span class=\"line\">            .withAttributeNames(<span class=\"string\">\"All\"</span>);</span><br><span class=\"line\">    GetQueueAttributesResult getQueueAttributesResult</span><br><span class=\"line\">            = sqs.getQueueAttributes(getQueueAttributesRequest);</span><br><span class=\"line\">    System.out.println(String.format(<span class=\"string\">\"The number of messages on the queue: %s\"</span>,</span><br><span class=\"line\">            getQueueAttributesResult.getAttributes()</span><br><span class=\"line\">                    .get(<span class=\"string\">\"ApproximateNumberOfMessages\"</span>)));</span><br><span class=\"line\">    System.out.println(String.format(<span class=\"string\">\"The number of messages in flight: %s\"</span>,</span><br><span class=\"line\">            getQueueAttributesResult.getAttributes()</span><br><span class=\"line\">                    .get(<span class=\"string\">\"ApproximateNumberOfMessagesNotVisible\"</span>)));</span><br></pre></td></tr></table></figure></div>\n\n\n<h3 id=\"전체-Full-소스\"><a href=\"#전체-Full-소스\" class=\"headerlink\" title=\"[전체 Full 소스]\"></a>[전체 Full 소스]</h3><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>full source</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package helloworld;</span><br><span class=\"line\"> </span><br><span class=\"line\">import java.io.BufferedReader;</span><br><span class=\"line\">import java.io.InputStreamReader;</span><br><span class=\"line\">import java.io.IOException;</span><br><span class=\"line\">import java.net.URL;</span><br><span class=\"line\">import java.util.ArrayList;</span><br><span class=\"line\">import java.util.HashMap;</span><br><span class=\"line\">import java.util.List;</span><br><span class=\"line\">import java.util.Map;</span><br><span class=\"line\">import java.util.stream.Collectors;</span><br><span class=\"line\"> </span><br><span class=\"line\">import com.amazonaws.auth.AWSStaticCredentialsProvider;</span><br><span class=\"line\">import com.amazonaws.auth.BasicAWSCredentials;</span><br><span class=\"line\">import com.amazonaws.regions.Regions;</span><br><span class=\"line\">import com.amazonaws.services.lambda.runtime.Context;</span><br><span class=\"line\">import com.amazonaws.services.lambda.runtime.RequestHandler;</span><br><span class=\"line\">import com.amazonaws.services.sqs.AmazonSQS;</span><br><span class=\"line\">import com.amazonaws.services.sqs.AmazonSQSClientBuilder;</span><br><span class=\"line\">import com.amazonaws.services.sqs.model.*;</span><br><span class=\"line\">import com.amazonaws.services.sqs.model.ListQueuesResult;</span><br><span class=\"line\"> </span><br><span class=\"line\"> </span><br><span class=\"line\">/**</span><br><span class=\"line\"> * Handler <span class=\"keyword\">for</span> requests to Lambda <span class=\"keyword\">function</span>.</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class App implements RequestHandler&lt;Object, Object&gt; &#123;</span><br><span class=\"line\"> </span><br><span class=\"line\">    public Object handleRequest(final Object input, final Context context) &#123;</span><br><span class=\"line\"> </span><br><span class=\"line\">        BasicAWSCredentials credentials = new BasicAWSCredentials(<span class=\"string\">\"ACCESS_KEY\"</span>, <span class=\"string\">\"SECRET_KEY\"</span>);</span><br><span class=\"line\">        AmazonSQS sqs = AmazonSQSClientBuilder.standard()</span><br><span class=\"line\">                .withCredentials(new AWSStaticCredentialsProvider(credentials))</span><br><span class=\"line\">                .withRegion(Regions.AP_NORTHEAST_2)</span><br><span class=\"line\">                .build();</span><br><span class=\"line\">        ///////Create, Delete 는 있거나 삭제할게 없으면 바로 에러 떨어짐..</span><br><span class=\"line\">//        //1-1. FIFO Create Queue</span><br><span class=\"line\">//        Map&lt;String, String&gt; queueAttributes = new HashMap&lt;&gt;();</span><br><span class=\"line\">//        queueAttributes.put(<span class=\"string\">\"FifoQueue\"</span>, <span class=\"string\">\"true\"</span>);</span><br><span class=\"line\">//        queueAttributes.put(<span class=\"string\">\"ContentBasedDeduplication\"</span>, <span class=\"string\">\"true\"</span>);</span><br><span class=\"line\">//        queueAttributes.put(<span class=\"string\">\"VisibilityTimeout\"</span>, <span class=\"string\">\"1\"</span>);</span><br><span class=\"line\">//        CreateQueueRequest createFifoQueueRequest = new CreateQueueRequest(</span><br><span class=\"line\">//                <span class=\"string\">\"[FIFO_NAME]\"</span>).withAttributes(queueAttributes);</span><br><span class=\"line\">//        String fifoQueueUrl = sqs.createQueue(createFifoQueueRequest)</span><br><span class=\"line\">//                .getQueueUrl();</span><br><span class=\"line\"> </span><br><span class=\"line\">//        //1-2. FIFO Queue List(All)</span><br><span class=\"line\">//        ListQueuesResult lq_result = sqs.listQueues();</span><br><span class=\"line\">//        System.out.println(<span class=\"string\">\"Your SQS Queue URLs:\"</span>);</span><br><span class=\"line\">//        <span class=\"keyword\">for</span> (String url : lq_result.getQueueUrls()) &#123;</span><br><span class=\"line\">//            System.out.println(url);</span><br><span class=\"line\">//        &#125;</span><br><span class=\"line\">//        //1-3. FIFO Queue Search(KEY_WORD)</span><br><span class=\"line\">//        String name_prefix = <span class=\"string\">\"KEY_WORD_ENTER\"</span>;</span><br><span class=\"line\">//        lq_result = sqs.listQueues(new ListQueuesRequest(name_prefix));</span><br><span class=\"line\">//        System.out.println(<span class=\"string\">\"Queue URLs with prefix: \"</span> + name_prefix);</span><br><span class=\"line\">//        <span class=\"keyword\">for</span> (String url : lq_result.getQueueUrls()) &#123;</span><br><span class=\"line\">//            System.out.println(url);</span><br><span class=\"line\">//        &#125;</span><br><span class=\"line\">//        //1-4. FIFO Queue Delete(URL)</span><br><span class=\"line\">//        sqs.deleteQueue(fifoQueueUrl);</span><br><span class=\"line\"> </span><br><span class=\"line\">//        //1-5. FIFO Posting a Message to a FIFO Queue</span><br><span class=\"line\">//        SendMessageRequest send_msg_request = new SendMessageRequest()</span><br><span class=\"line\">//                .withQueueUrl(fifoQueueUrl)</span><br><span class=\"line\">//                .withMessageBody(<span class=\"string\">\"hello world\"</span>)</span><br><span class=\"line\">//                .withMessageGroupId(<span class=\"string\">\"minseok-group-1\"</span>)</span><br><span class=\"line\">//                .withDelaySeconds(0);</span><br><span class=\"line\">//        sqs.sendMessage(send_msg_request);</span><br><span class=\"line\"> </span><br><span class=\"line\">//        //1-6. FIFO Posting Multiple Messages to a Queue</span><br><span class=\"line\">//        List&lt;SendMessageBatchRequestEntry&gt; messageEntries = new ArrayList&lt;&gt;();</span><br><span class=\"line\">//        messageEntries.add(new SendMessageBatchRequestEntry()</span><br><span class=\"line\">//                .withId(<span class=\"string\">\"id-1\"</span>)</span><br><span class=\"line\">//                .withMessageBody(<span class=\"string\">\"batch-1\"</span>)</span><br><span class=\"line\">//                .withMessageGroupId(<span class=\"string\">\"minseok-group-1\"</span>));</span><br><span class=\"line\">//        messageEntries.add(new SendMessageBatchRequestEntry()</span><br><span class=\"line\">//                .withId(<span class=\"string\">\"id-2\"</span>)</span><br><span class=\"line\">//                .withMessageBody(<span class=\"string\">\"batch-2\"</span>)</span><br><span class=\"line\">//                .withMessageGroupId(<span class=\"string\">\"minseok-group-1\"</span>));</span><br><span class=\"line\">//</span><br><span class=\"line\">//        SendMessageBatchRequest sendMessageBatchRequest</span><br><span class=\"line\">//                = new SendMessageBatchRequest(fifoQueueUrl, messageEntries);</span><br><span class=\"line\">//        sqs.sendMessageBatch(sendMessageBatchRequest);</span><br><span class=\"line\"> </span><br><span class=\"line\">//        //1-7. FIFO Reading Messages from Queues</span><br><span class=\"line\">//        ReceiveMessageRequest receiveMessageRequest = new ReceiveMessageRequest(fifoQueueUrl)</span><br><span class=\"line\">//                .withWaitTimeSeconds(10)</span><br><span class=\"line\">//                .withMaxNumberOfMessages(10);</span><br><span class=\"line\">//</span><br><span class=\"line\">//        List&lt;Message&gt; sqsMessages = sqs.receiveMessage(receiveMessageRequest).getMessages();</span><br><span class=\"line\">//</span><br><span class=\"line\">//        //1-8. FIFO Deleting a Message from a Queue</span><br><span class=\"line\">//        <span class=\"keyword\">for</span> (Message m : sqsMessages) &#123;</span><br><span class=\"line\">//            sqs.deleteMessage(fifoQueueUrl, m.getReceiptHandle());</span><br><span class=\"line\">//        &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> </span><br><span class=\"line\">//        //1-9. FIFO Dead Letter Queues1(배달못한 편지 대기열을 생성하고,</span><br><span class=\"line\">//        /*String deadLetterQueueUrl = sqs.createQueue(<span class=\"string\">\"aws-sqs://notification_queue?amazonSQSClient=#sqsClient\"</span>).getQueueUrl();*/</span><br><span class=\"line\">//        try &#123;</span><br><span class=\"line\">//            // Create dead-letter queue</span><br><span class=\"line\">//            Map&lt;String, String&gt; queueAttributes = new HashMap&lt;&gt;();</span><br><span class=\"line\">//            queueAttributes.put(<span class=\"string\">\"FifoQueue\"</span>, <span class=\"string\">\"true\"</span>);</span><br><span class=\"line\">//            queueAttributes.put(<span class=\"string\">\"ContentBasedDeduplication\"</span>, <span class=\"string\">\"true\"</span>);</span><br><span class=\"line\">//            queueAttributes.put(<span class=\"string\">\"VisibilityTimeout\"</span>, <span class=\"string\">\"1\"</span>);</span><br><span class=\"line\">//            CreateQueueRequest createFifoQueueRequest = new CreateQueueRequest(</span><br><span class=\"line\">//                    <span class=\"string\">\"[DEADLETTER_FIFO_NAME]\"</span>).withAttributes(queueAttributes);</span><br><span class=\"line\">//            String fifoQueueUrls = sqs.createQueue(createFifoQueueRequest)</span><br><span class=\"line\">//                    .getQueueUrl();</span><br><span class=\"line\">//        &#125; catch (AmazonSQSException e) &#123;</span><br><span class=\"line\">//            <span class=\"keyword\">if</span> (!e.getErrorCode().equals(<span class=\"string\">\"QueueAlreadyExists\"</span>)) &#123;</span><br><span class=\"line\">//                throw e;</span><br><span class=\"line\">//            &#125;</span><br><span class=\"line\">//        &#125;</span><br><span class=\"line\">//        //[FIFO_NAME] 로 통신하다가 부하가 걸리면 [DEADLETTER_FIFO_NAME]로 보내도록 설정하는 아래 코드</span><br><span class=\"line\">//        String dl_queue_url = sqs.getQueueUrl(<span class=\"string\">\"[DEADLETTER_FIFO_NAME]\"</span>)</span><br><span class=\"line\">//                .getQueueUrl();</span><br><span class=\"line\">//        GetQueueAttributesResult queue_attrs = sqs.getQueueAttributes(</span><br><span class=\"line\">//                new GetQueueAttributesRequest(dl_queue_url)</span><br><span class=\"line\">//                        .withAttributeNames(<span class=\"string\">\"QueueArn\"</span>));</span><br><span class=\"line\">//        String dl_queue_arn = queue_attrs.getAttributes().get(<span class=\"string\">\"QueueArn\"</span>);</span><br><span class=\"line\">//        // Set dead letter queue with redrive policy on <span class=\"built_in\">source</span> queue.</span><br><span class=\"line\">//        String src_queue_url = sqs.getQueueUrl(<span class=\"string\">\"[FIFO_NAME]\"</span>)</span><br><span class=\"line\">//                .getQueueUrl();</span><br><span class=\"line\">//        SetQueueAttributesRequest request = new SetQueueAttributesRequest()</span><br><span class=\"line\">//                .withQueueUrl(src_queue_url)</span><br><span class=\"line\">//                .addAttributesEntry(<span class=\"string\">\"RedrivePolicy\"</span>,</span><br><span class=\"line\">//                        <span class=\"string\">\"&#123;\\\"maxReceiveCount\\\":\\\"5\\\", \\\"deadLetterTargetArn\\\":\\\"\"</span></span><br><span class=\"line\">//                                + dl_queue_arn + <span class=\"string\">\"\\\"&#125;\"</span>);</span><br><span class=\"line\">//        sqs.setQueueAttributes(request);</span><br><span class=\"line\"> </span><br><span class=\"line\"> </span><br><span class=\"line\">//        //1-10. FIFO Dead Letter Queues</span><br><span class=\"line\">//        GetQueueAttributesResult deadLetterQueueAttributes = sqs.getQueueAttributes(</span><br><span class=\"line\">//                new GetQueueAttributesRequest(dl_queue_url)</span><br><span class=\"line\">//                        .withAttributeNames(<span class=\"string\">\"QueueArn\"</span>));</span><br><span class=\"line\">//</span><br><span class=\"line\">//        String deadLetterQueueARN = deadLetterQueueAttributes.getAttributes()</span><br><span class=\"line\">//                .get(<span class=\"string\">\"QueueArn\"</span>);</span><br><span class=\"line\">//        SetQueueAttributesRequest queueAttributesRequest = new SetQueueAttributesRequest()</span><br><span class=\"line\">//                //.withQueueUrl(standardQueueUrl)</span><br><span class=\"line\">//                .withQueueUrl(<span class=\"string\">\"https://sqs.ap-northeast-2.amazonaws.com/[ALLIAS]/[FIFO_NAME]\"</span>)</span><br><span class=\"line\">//                .addAttributesEntry(<span class=\"string\">\"RedrivePolicy\"</span>,</span><br><span class=\"line\">//                        <span class=\"string\">\"&#123;\\\"maxReceiveCount\\\":\\\"2\\\", \"</span></span><br><span class=\"line\">//                                + <span class=\"string\">\"\\\"deadLetterTargetArn\\\":\\\"\"</span> + deadLetterQueueARN + <span class=\"string\">\"\\\"&#125;\"</span>);</span><br><span class=\"line\">//</span><br><span class=\"line\">//        sqs.setQueueAttributes(queueAttributesRequest);</span><br><span class=\"line\"> </span><br><span class=\"line\">//        //1-11. FIFO Monitoring</span><br><span class=\"line\">//        GetQueueAttributesRequest getQueueAttributesRequest</span><br><span class=\"line\">//                //= new GetQueueAttributesRequest(standardQueueUrl) //https://sqs.ap-northeast-2.amazonaws.com/491870877159/minseok.fifo</span><br><span class=\"line\">//                = new GetQueueAttributesRequest(<span class=\"string\">\"https://sqs.ap-northeast-2.amazonaws.com/[ALLIAS]/[FIFO_NAME]\"</span>)</span><br><span class=\"line\">//                .withAttributeNames(<span class=\"string\">\"All\"</span>);</span><br><span class=\"line\">//        GetQueueAttributesResult getQueueAttributesResult</span><br><span class=\"line\">//                = sqs.getQueueAttributes(getQueueAttributesRequest);</span><br><span class=\"line\">//        System.out.println(String.format(<span class=\"string\">\"The number of messages on the queue: %s\"</span>,</span><br><span class=\"line\">//                getQueueAttributesResult.getAttributes()</span><br><span class=\"line\">//                        .get(<span class=\"string\">\"ApproximateNumberOfMessages\"</span>)));</span><br><span class=\"line\">//        System.out.println(String.format(<span class=\"string\">\"The number of messages in flight: %s\"</span>,</span><br><span class=\"line\">//                getQueueAttributesResult.getAttributes()</span><br><span class=\"line\">//                        .get(<span class=\"string\">\"ApproximateNumberOfMessagesNotVisible\"</span>)));</span><br><span class=\"line\">//</span><br><span class=\"line\">/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////</span><br><span class=\"line\">//</span><br><span class=\"line\">//        //2-1. Standard Create Queue</span><br><span class=\"line\">//        CreateQueueRequest create_request = new CreateQueueRequest(<span class=\"string\">\"[STANDARD_QUEUE_NAME]\"</span>)</span><br><span class=\"line\">//                .addAttributesEntry(<span class=\"string\">\"DelaySeconds\"</span>, <span class=\"string\">\"0\"</span>) //An <span class=\"built_in\">integer</span> from 0 to 900 seconds (15 minutes). Default: 0.</span><br><span class=\"line\">//                .addAttributesEntry(<span class=\"string\">\"VisibilityTimeout\"</span>, <span class=\"string\">\"30\"</span>) // An <span class=\"built_in\">integer</span> from 0 to 43,200 (12 hours). Default: 30.</span><br><span class=\"line\">//                .addAttributesEntry(<span class=\"string\">\"MessageRetentionPeriod\"</span>, <span class=\"string\">\"345600\"</span>) // An <span class=\"built_in\">integer</span> from 60 seconds (1 minute) to 1,209,600 seconds (14 days). Default: 345,600 (4 days).</span><br><span class=\"line\">//                .addAttributesEntry(<span class=\"string\">\"MaximumMessageSize\"</span>, <span class=\"string\">\"262144\"</span>); //An <span class=\"built_in\">integer</span> from 1,024 bytes (1 KiB) to 262,144 bytes (256 KiB). Default: 262,144 (256 KiB).</span><br><span class=\"line\">//        String standardQueueUrl = sqs.createQueue(create_request).getQueueUrl();</span><br><span class=\"line\"> </span><br><span class=\"line\">//        //1-2. Standard Queue List(All)</span><br><span class=\"line\">//        ListQueuesResult lq_result = sqs.listQueues();</span><br><span class=\"line\">//        System.out.println(<span class=\"string\">\"Your SQS Queue URLs:\"</span>);</span><br><span class=\"line\">//        <span class=\"keyword\">for</span> (String url : lq_result.getQueueUrls()) &#123;</span><br><span class=\"line\">//            System.out.println(url);</span><br><span class=\"line\">//        &#125;</span><br><span class=\"line\">//        //1-3. Standard Queue Search(KEY_WORD)</span><br><span class=\"line\">//        String name_prefix = <span class=\"string\">\"KEY_WORD_ENTER\"</span>;</span><br><span class=\"line\">//        lq_result = sqs.listQueues(new ListQueuesRequest(name_prefix));</span><br><span class=\"line\">//        System.out.println(<span class=\"string\">\"Queue URLs with prefix: \"</span> + name_prefix);</span><br><span class=\"line\">//        <span class=\"keyword\">for</span> (String url : lq_result.getQueueUrls()) &#123;</span><br><span class=\"line\">//            System.out.println(url);</span><br><span class=\"line\">//        &#125;</span><br><span class=\"line\">//        //1-4. Standard Queue Delete(URL)</span><br><span class=\"line\">//        sqs.deleteQueue(fifoQueueUrl);</span><br><span class=\"line\"> </span><br><span class=\"line\">//        //1-5. Standard Posting a Message to a Queue</span><br><span class=\"line\">//        SendMessageRequest send_msg_request = new SendMessageRequest()</span><br><span class=\"line\">//                .withQueueUrl(fifoQueueUrl)</span><br><span class=\"line\">//                .withMessageBody(<span class=\"string\">\"hello world\"</span>)</span><br><span class=\"line\">//                .withDelaySeconds(0);</span><br><span class=\"line\">//        sqs.sendMessage(send_msg_request);</span><br><span class=\"line\"> </span><br><span class=\"line\">//        //1-6. Standard Posting Multiple Messages to a Queue</span><br><span class=\"line\">//        List&lt;SendMessageBatchRequestEntry&gt; messageEntries = new ArrayList&lt;&gt;();</span><br><span class=\"line\">//        messageEntries.add(new SendMessageBatchRequestEntry()</span><br><span class=\"line\">//                .withId(<span class=\"string\">\"id-1\"</span>)</span><br><span class=\"line\">//                .withMessageBody(<span class=\"string\">\"batch-1\"</span>));</span><br><span class=\"line\">//        messageEntries.add(new SendMessageBatchRequestEntry()</span><br><span class=\"line\">//                .withId(<span class=\"string\">\"id-2\"</span>)</span><br><span class=\"line\">//                .withMessageBody(<span class=\"string\">\"batch-2\"</span>));</span><br><span class=\"line\">//</span><br><span class=\"line\">//        SendMessageBatchRequest sendMessageBatchRequest</span><br><span class=\"line\">//                = new SendMessageBatchRequest(fifoQueueUrl, messageEntries);</span><br><span class=\"line\">//        sqs.sendMessageBatch(sendMessageBatchRequest);</span><br><span class=\"line\"> </span><br><span class=\"line\">//        //1-7. Standard Reading Messages from Queues</span><br><span class=\"line\">//        ReceiveMessageRequest receiveMessageRequest = new ReceiveMessageRequest(fifoQueueUrl)</span><br><span class=\"line\">//                .withWaitTimeSeconds(10)</span><br><span class=\"line\">//                .withMaxNumberOfMessages(10);</span><br><span class=\"line\">//</span><br><span class=\"line\">//        List&lt;Message&gt; sqsMessages = sqs.receiveMessage(receiveMessageRequest).getMessages();</span><br><span class=\"line\">//</span><br><span class=\"line\">//        //1-8. FIFO Deleting a Message from a Queue</span><br><span class=\"line\">//        <span class=\"keyword\">for</span> (Message m : sqsMessages) &#123;</span><br><span class=\"line\">//            sqs.deleteMessage(fifoQueueUrl, m.getReceiptHandle());</span><br><span class=\"line\">//        &#125;</span><br><span class=\"line\">//</span><br><span class=\"line\">/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////</span><br><span class=\"line\"> </span><br><span class=\"line\">        Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();</span><br><span class=\"line\">        headers.put(<span class=\"string\">\"Content-Type\"</span>, <span class=\"string\">\"application/json\"</span>);</span><br><span class=\"line\">        headers.put(<span class=\"string\">\"X-Custom-Header\"</span>, <span class=\"string\">\"application/json\"</span>);</span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">            final String pageContents = this.getPageContents(<span class=\"string\">\"https://checkip.amazonaws.com\"</span>);</span><br><span class=\"line\">            String output = String.format(<span class=\"string\">\"&#123; \\\"message\\\": \\\"hello world\\\", \\\"location\\\": \\\"%s\\\" &#125;\"</span>, pageContents);</span><br><span class=\"line\">            <span class=\"built_in\">return</span> new GatewayResponse(output, headers, 200);</span><br><span class=\"line\">        &#125; catch (IOException e) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">return</span> new GatewayResponse(<span class=\"string\">\"&#123;&#125;\"</span>, headers, 500);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">    private String getPageContents(String address) throws IOException&#123;</span><br><span class=\"line\">        URL url = new URL(address);</span><br><span class=\"line\">        try(BufferedReader br = new BufferedReader(new InputStreamReader(url.openStream()))) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">return</span> br.lines().collect(Collectors.joining(System.lineSeparator()));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"3-결론\"><a href=\"#3-결론\" class=\"headerlink\" title=\"3) 결론\"></a>3) 결론</h3><ol>\n<li>한개의 큐 관리만 잘 해주면 열 Dynamo 안부럽다.</li>\n<li>람다에서 돌아가는 소스로 작성되었지만, 얼마든지 다른 서비스에 쓰일 수 있다.</li>\n<li>이유 : 아까 위에서 말한대로 AWS 최초의 서비스였기 때문(거의 화석급….)</li>\n</ol>\n","text":"Kinesis가 있으니 SQS를 쓸 일이 없겠다. 이걸 뭐하러 쓰나?라고 생각했다면, 한참 더 공부해야한다. 우선 Kinesis와 SQS의 큰 차이점을 비교한다.Kinesis vs SQSKinesis는 스트리밍 데이터 수집 서비스이고 SQS는 메시지 ","link":"","raw":null,"photos":[],"categories":[{"name":"tip","slug":"tip","count":23,"path":"api/categories/tip.json"}],"tags":[{"name":"AWS","slug":"AWS","count":14,"path":"api/tags/AWS.json"},{"name":"sqs","slug":"sqs","count":1,"path":"api/tags/sqs.json"},{"name":"fifo","slug":"fifo","count":1,"path":"api/tags/fifo.json"},{"name":"standard","slug":"standard","count":1,"path":"api/tags/standard.json"}]},{"title":"Secretmanager","slug":"Secretmanager","date":"2020-05-06T05:09:57.000Z","updated":"2020-05-11T03:36:12.943Z","comments":true,"pin":null,"path":"api/articles/Secretmanager.json","excerpt":"","keywords":null,"cover":"https://user-images.githubusercontent.com/62123161/81140306-e1441c80-8fa3-11ea-83b9-f4eed46627c9.png","content":"<h2 id=\"개발환경-구축\"><a href=\"#개발환경-구축\" class=\"headerlink\" title=\"개발환경 구축\"></a>개발환경 구축</h2><p>※ 기본 개발환경</p>\n<ul>\n<li>IntelliJ</li>\n<li>Java, Spring</li>\n<li>AWS Console</li>\n</ul>\n<h2 id=\"SecretsManager-설명\"><a href=\"#SecretsManager-설명\" class=\"headerlink\" title=\"SecretsManager 설명\"></a>SecretsManager 설명</h2><ul>\n<li><p>이름에서 유추가 가능하지 않은가? 비밀스런 Key를 가지고 있는(관리하는) 서비스라고 보면 쉽다.</p>\n</li>\n<li><p>사실 비밀까지는 아니지만 환경변수를 받아서 사용하는 용도로 쓰고 있다. 자주 변하지 않는 변수로는 아래와 같은….<br>1) RDS 접속정보(주소, ID, PW)<br>2) SNS 그룹, 기능사양인 알림 메세지<br>3) Access Key, Secret Key<br>4) IoT Core 접속이나 Control을 위한 ARN들…<br>5) 외부 FTP 접속정보<br>6) 회원정보 관리를 위한 Cognito 접속정보<br><a href=\"https://user-images.githubusercontent.com/62123161/81140306-e1441c80-8fa3-11ea-83b9-f4eed46627c9.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81140306-e1441c80-8fa3-11ea-83b9-f4eed46627c9.png\" alt=\"secretmanager_01\"></a></p>\n</li>\n<li><p>참고로, Secrets Manager에 값을 넣는 것은 CLI와 콘솔 두개뿐이다. (API 호출로 넣을 수 없다는 소리이다.)</p>\n</li>\n<li><p>코딩으로 할 수 있는건 조회만 가능하다. (더 이상의 설명은 생략한다.)</p>\n</li>\n</ul>\n<h3 id=\"1-Secret-생성\"><a href=\"#1-Secret-생성\" class=\"headerlink\" title=\"1) Secret 생성\"></a>1) Secret 생성</h3><h4 id=\"Secret-Type\"><a href=\"#Secret-Type\" class=\"headerlink\" title=\"Secret Type\"></a>Secret Type</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81145165-b7ddbd80-8fb0-11ea-839a-4fb3f7e37f28.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81145165-b7ddbd80-8fb0-11ea-839a-4fb3f7e37f28.png\" alt=\"secretmanager_02\"></a></p>\n<ul>\n<li>너무 직관적으로 다 써져있기에 크게 설명할게 없다. 우선, 우리 Secrets Manager는 모두 “Other type of Secret”을 사용하고 있음(API 호출 용도)</li>\n<li>다른 type을 선택하면 해당 DB 인스턴스에 접근이 쉽게 가능하다.</li>\n<li>다른 type들은 직접 설정해서 테스트해보기 바란다. (근데 나는 한번하고 안해봤다..)</li>\n</ul>\n<h4 id=\"Key-Value\"><a href=\"#Key-Value\" class=\"headerlink\" title=\"Key / Value\"></a>Key / Value</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81140303-e0ab8600-8fa3-11ea-8c3a-1609cca6120e.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81140303-e0ab8600-8fa3-11ea-8c3a-1609cca6120e.png\" alt=\"secretmanager_03\"></a></p>\n<ul>\n<li>Key &amp; Value를 Json형태로 작성해도 좋고, MessageBox에 작성하여도 좋다. (어째든 받아 쓸때는 Json이다.)</li>\n<li>Encryption Key는 가급적 기본으로…(암호화를 원한다면 직접 해주어도 좋다. 다만, 호출해서 꺼내쓸때 복호화를 해줘야 읽을 수 있다.)</li>\n</ul>\n<h4 id=\"Name-and-Description\"><a href=\"#Name-and-Description\" class=\"headerlink\" title=\"Name and Description\"></a>Name and Description</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81140301-e012ef80-8fa3-11ea-854b-295e78aff2a2.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81140301-e012ef80-8fa3-11ea-854b-295e78aff2a2.png\" alt=\"secretmanager_04\"></a></p>\n<ul>\n<li>설명은 따로 하지않겠다. 이제 이쯤 되면 봐도 알지 않는가?</li>\n</ul>\n<h4 id=\"Configure-rotation\"><a href=\"#Configure-rotation\" class=\"headerlink\" title=\"Configure rotation\"></a>Configure rotation</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81140297-dee1c280-8fa3-11ea-9e65-1830cb3b5dc2.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81140297-dee1c280-8fa3-11ea-9e65-1830cb3b5dc2.png\" alt=\"secretmanager_05\"></a></p>\n<ul>\n<li>회전주기라고 읽지말고… 번역기 돌리면 그렇게 나온다..</li>\n<li>말그대로 Key/Value에 대해 Rotation 돌리면서 특정 값을 변경해주는 것이다. </li>\n<li>Lambda를 만들어서 주기적으로 Value를 변경해주는 기능인데, 주기적으로 변경을 해줘야하는 값(암호 및 키)의 경우 이 기능을 사용하면 좋다.(참고로, 만들어두면 자동으로 돌아준다.)</li>\n</ul>\n<h4 id=\"Sample-Code\"><a href=\"#Sample-Code\" class=\"headerlink\" title=\"Sample Code\"></a>Sample Code</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81140411-31bb7a00-8fa4-11ea-83b7-4c2e57b494cd.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81140411-31bb7a00-8fa4-11ea-83b7-4c2e57b494cd.png\" alt=\"secretmanager_06\"></a></p>\n<ul>\n<li>내가 소스를 설명하거나 찾아야 할 필요 없이, 설명도 해주고 알아서 만들어준다.</li>\n<li>물론, 조회만이니까 어마어마한 양의 소스가 들은 것은 아니다.</li>\n<li>총 6가지의 언어에 대해 지원한다.</li>\n</ul>\n<h3 id=\"2-소스\"><a href=\"#2-소스\" class=\"headerlink\" title=\"2) 소스\"></a>2) 소스</h3><h4 id=\"Gradle\"><a href=\"#Gradle\" class=\"headerlink\" title=\"Gradle\"></a>Gradle</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">compileJava &#123;</span><br><span class=\"line\">    sourceCompatibility = 1.8</span><br><span class=\"line\">    targetCompatibility = 1.8</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">compileJava.options.encoding = <span class=\"string\">\"UTF-8\"</span></span><br><span class=\"line\">compileTestJava.options.encoding = <span class=\"string\">\"UTF-8\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">dependencies &#123;</span><br><span class=\"line\">    // https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-secretsmanager</span><br><span class=\"line\">    compile group: <span class=\"string\">'com.amazonaws'</span>, name: <span class=\"string\">'aws-java-sdk-secretsmanager'</span>, version: <span class=\"string\">'1.11.683'</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"샘플도-있는데-이게-필요한지-모르겠다-그래도-대충이나마-만들었으니-참고하기-바람\"><a href=\"#샘플도-있는데-이게-필요한지-모르겠다-그래도-대충이나마-만들었으니-참고하기-바람\" class=\"headerlink\" title=\"샘플도 있는데 이게 필요한지 모르겠다.(그래도 대충이나마 만들었으니 참고하기 바람.)\"></a>샘플도 있는데 이게 필요한지 모르겠다.(그래도 대충이나마 만들었으니 참고하기 바람.)</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public static void <span class=\"function\"><span class=\"title\">getSecret</span></span>() &#123;</span><br><span class=\"line\"> </span><br><span class=\"line\">        String secretName = <span class=\"string\">\"MyTestDatabaseMasterSecret\"</span>;</span><br><span class=\"line\">        String endpoint = <span class=\"string\">\"secretsmanager.ap-northeast-2.amazonaws.com\"</span>;</span><br><span class=\"line\">        String region = <span class=\"string\">\"ap-northeast-2\"</span>;</span><br><span class=\"line\"> </span><br><span class=\"line\">        AwsClientBuilder.EndpointConfiguration config = new AwsClientBuilder.EndpointConfiguration(endpoint, region);</span><br><span class=\"line\">        AWSSecretsManagerClientBuilder clientBuilder = AWSSecretsManagerClientBuilder.standard();</span><br><span class=\"line\">        clientBuilder.setEndpointConfiguration(config);</span><br><span class=\"line\">        AWSSecretsManager client = clientBuilder.build();</span><br><span class=\"line\"> </span><br><span class=\"line\">        String secret;</span><br><span class=\"line\">        ByteBuffer binarySecretData;</span><br><span class=\"line\">        GetSecretValueRequest getSecretValueRequest = new GetSecretValueRequest()</span><br><span class=\"line\">                .withSecretId(secretName).withVersionStage(<span class=\"string\">\"AWSCURRENT\"</span>);</span><br><span class=\"line\">        GetSecretValueResult getSecretValueResult = null;</span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">            getSecretValueResult = client.getSecretValue(getSecretValueRequest);</span><br><span class=\"line\"> </span><br><span class=\"line\">        &#125; catch(ResourceNotFoundException e) &#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">\"The requested secret \"</span> + secretName + <span class=\"string\">\" was not found\"</span>);</span><br><span class=\"line\">        &#125; catch (InvalidRequestException e) &#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">\"The request was invalid due to: \"</span> + e.getMessage());</span><br><span class=\"line\">        &#125; catch (InvalidParameterException e) &#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">\"The request had invalid params: \"</span> + e.getMessage());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        String json = getSecretValueResult.getSecretString();</span><br><span class=\"line\">        try&#123;</span><br><span class=\"line\">            JsonNode eventNode = OBJECT_MAPPER.readTree(json);</span><br><span class=\"line\">            String username = eventNode.path(<span class=\"string\">\"username\"</span>).asText();</span><br><span class=\"line\">            String password = eventNode.path(<span class=\"string\">\"password\"</span>).asText();</span><br><span class=\"line\">            String engine = eventNode.path(<span class=\"string\">\"engine\"</span>).asText();</span><br><span class=\"line\">            String host = eventNode.path(<span class=\"string\">\"host\"</span>).asText();</span><br><span class=\"line\">            String port = eventNode.path(<span class=\"string\">\"port\"</span>).asText();</span><br><span class=\"line\">            String dbname = eventNode.path(<span class=\"string\">\"dbname\"</span>).asText();</span><br><span class=\"line\">            String dbInstanceIdentifier = eventNode.path(<span class=\"string\">\"dbInstanceIdentifier\"</span>).asText();</span><br><span class=\"line\">            String name = eventNode.path(<span class=\"string\">\"name\"</span>).asText();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        catch(Exception e)&#123;</span><br><span class=\"line\">            System.out.println(e.getMessage());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">        <span class=\"keyword\">if</span>(getSecretValueResult == null) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">        // Depending on whether the secret was a string or binary, one of these fields will be populated</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(getSecretValueResult.getSecretString() != null) &#123;</span><br><span class=\"line\">            secret = getSecretValueResult.getSecretString();</span><br><span class=\"line\">            System.out.println(secret);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            binarySecretData = getSecretValueResult.getSecretBinary();</span><br><span class=\"line\">            System.out.println(binarySecretData.toString());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"클래스화-한-소스\"><a href=\"#클래스화-한-소스\" class=\"headerlink\" title=\"클래스화 한 소스\"></a>클래스화 한 소스</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class SecretManagerHelper &#123;</span><br><span class=\"line\"> </span><br><span class=\"line\">    private static SecretManagerHelper secretManagerHelper;</span><br><span class=\"line\">    private static AWSSecretsManager awsSecretsManager;</span><br><span class=\"line\"> </span><br><span class=\"line\">    public static void init() throws IOException &#123;</span><br><span class=\"line\">        secretManagerHelper = new SecretManagerHelper();</span><br><span class=\"line\"> </span><br><span class=\"line\">        awsSecretsManager  = AWSSecretsManagerClientBuilder.standard()</span><br><span class=\"line\">                .withRegion(Config.AWS_SECRET_REGION)</span><br><span class=\"line\">                .build();</span><br><span class=\"line\"> </span><br><span class=\"line\">        getSecretValue();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">    public static SecretManagerHelper getInstance() throws IOException&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(null == secretManagerHelper)&#123;</span><br><span class=\"line\">            secretManagerHelper = new SecretManagerHelper();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(null == awsSecretsManager)&#123;</span><br><span class=\"line\">            init();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> secretManagerHelper;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">    public static AWSSecretsManager getAWSSecretsManager() throws IOException&#123;</span><br><span class=\"line\">        getInstance();</span><br><span class=\"line\">        <span class=\"built_in\">return</span> awsSecretsManager;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">    private static void getSecretValue() throws IOException &#123;</span><br><span class=\"line\">        try&#123;</span><br><span class=\"line\">            GetSecretValueRequest getCredentialRequest = new GetSecretValueRequest()</span><br><span class=\"line\">                    .withSecretId(Config.SECRET_IOT_CREDENTIALS);</span><br><span class=\"line\">            GetSecretValueResult getCredentialResult = awsSecretsManager.getSecretValue(getCredentialRequest);</span><br><span class=\"line\">            String credentialString = getCredentialResult.getSecretString();</span><br><span class=\"line\">            Config.IOT_CREDENTIALS_NODE = new ObjectMapper().readTree(credentialString);</span><br><span class=\"line\"> </span><br><span class=\"line\">            GetSecretValueRequest getRdsRequest = new GetSecretValueRequest()</span><br><span class=\"line\">                    .withSecretId(Config.SECRET_IOT_RDS);</span><br><span class=\"line\">            GetSecretValueResult getRdsResult = awsSecretsManager.getSecretValue(getRdsRequest);</span><br><span class=\"line\">            String rdsString = getRdsResult.getSecretString();</span><br><span class=\"line\">            Config.IOT_RDS_NODE = new ObjectMapper().readTree(rdsString);</span><br><span class=\"line\"> </span><br><span class=\"line\">            GetSecretValueRequest getSnsRequest = new GetSecretValueRequest()</span><br><span class=\"line\">                    .withSecretId(Config.SECRET_IOT_SNS);</span><br><span class=\"line\">            GetSecretValueResult getSnsResult = awsSecretsManager.getSecretValue(getSnsRequest);</span><br><span class=\"line\">            String snsString = getSnsResult.getSecretString();</span><br><span class=\"line\">            Config.IOT_SNS_NODE = new ObjectMapper().readTree(snsString);</span><br><span class=\"line\"> </span><br><span class=\"line\">            GetSecretValueRequest getCoreRequest = new GetSecretValueRequest()</span><br><span class=\"line\">                    .withSecretId(Config.SECRET_IOT_CORE);</span><br><span class=\"line\">            GetSecretValueResult getCoreResult = awsSecretsManager.getSecretValue(getCoreRequest);</span><br><span class=\"line\">            String coreString = getCoreResult.getSecretString();</span><br><span class=\"line\">            Config.IOT_CORE_NODE = new ObjectMapper().readTree(coreString);</span><br><span class=\"line\"> </span><br><span class=\"line\">            GetSecretValueRequest getKWeatherRequest = new GetSecretValueRequest()</span><br><span class=\"line\">                    .withSecretId(Config.SECRET_IOT_KWEATHER);</span><br><span class=\"line\">            GetSecretValueResult getKWeatherResult = awsSecretsManager.getSecretValue(getKWeatherRequest);</span><br><span class=\"line\">            String kWeatherString = getKWeatherResult.getSecretString();</span><br><span class=\"line\">            Config.IOT_KWEATHER_NODE = new ObjectMapper().readTree(kWeatherString);</span><br><span class=\"line\"> </span><br><span class=\"line\">//            String username = eventNode.path(<span class=\"string\">\"username\"</span>).asText();</span><br><span class=\"line\">//            String password = eventNode.path(<span class=\"string\">\"password\"</span>).asText();</span><br><span class=\"line\">//            String engine = eventNode.path(<span class=\"string\">\"engine\"</span>).asText();</span><br><span class=\"line\">//            String host = eventNode.path(<span class=\"string\">\"host\"</span>).asText();</span><br><span class=\"line\">//            String port = eventNode.path(<span class=\"string\">\"port\"</span>).asText();</span><br><span class=\"line\">//            String dbname = eventNode.path(<span class=\"string\">\"dbname\"</span>).asText();</span><br><span class=\"line\">//            String dbInstanceIdentifier = eventNode.path(<span class=\"string\">\"dbInstanceIdentifier\"</span>).asText();</span><br><span class=\"line\">//            String name = eventNode.path(<span class=\"string\">\"name\"</span>).asText();</span><br><span class=\"line\"> </span><br><span class=\"line\">        &#125; catch (Exception ex)&#123;</span><br><span class=\"line\">            throw ex;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">//        String secret = null, decodedBinarySecret;</span><br><span class=\"line\">//        GetSecretValueRequest getSecretValueRequest = new GetSecretValueRequest()</span><br><span class=\"line\">//                .withSecretId(Config.SECRET_IOT_CREDENTIALS);</span><br><span class=\"line\">//        GetSecretValueResult getSecretValueResult = null;</span><br><span class=\"line\">//</span><br><span class=\"line\">//        try &#123;</span><br><span class=\"line\">//            getSecretValueResult = awsSecretsManager.getSecretValue(getSecretValueRequest);</span><br><span class=\"line\">//        &#125; catch (DecryptionFailureException e) &#123;</span><br><span class=\"line\">//            // SecretsManager can not decrypt the protected secret text using the provided KMS key.</span><br><span class=\"line\">//            // Deal with the exception here, and/or rethrow at your discretion.</span><br><span class=\"line\">//            throw e;</span><br><span class=\"line\">//        &#125; catch (InternalServiceErrorException e) &#123;</span><br><span class=\"line\">//            // An error occurred on the server side.</span><br><span class=\"line\">//            // Deal with the exception here, and/or rethrow at your discretion.</span><br><span class=\"line\">//            throw e;</span><br><span class=\"line\">//        &#125; catch (InvalidParameterException e) &#123;</span><br><span class=\"line\">//            // You provided an invalid value <span class=\"keyword\">for</span> a parameter.</span><br><span class=\"line\">//            // Deal with the exception here, and/or rethrow at your discretion.</span><br><span class=\"line\">//            throw e;</span><br><span class=\"line\">//        &#125; catch (InvalidRequestException e) &#123;</span><br><span class=\"line\">//            // You provided a parameter value that is not valid <span class=\"keyword\">for</span> the current state of the resource.</span><br><span class=\"line\">//            // Deal with the exception here, and/or rethrow at your discretion.</span><br><span class=\"line\">//            throw e;</span><br><span class=\"line\">//        &#125; catch (ResourceNotFoundException e) &#123;</span><br><span class=\"line\">//            // We can not find the resource that you asked <span class=\"keyword\">for</span>.</span><br><span class=\"line\">//            // Deal with the exception here, and/or rethrow at your discretion.</span><br><span class=\"line\">//            throw e;</span><br><span class=\"line\">//        &#125;</span><br><span class=\"line\">//</span><br><span class=\"line\">//        // Decrypts secret using the associated KMS CMK.</span><br><span class=\"line\">//        // Depending on whether the secret is a string or binary, one of these fields will be populated.</span><br><span class=\"line\">//        <span class=\"keyword\">if</span> (getSecretValueResult.getSecretString() != null) &#123;</span><br><span class=\"line\">//            secret = getSecretValueResult.getSecretString();</span><br><span class=\"line\">//        &#125;</span><br><span class=\"line\">//        <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">//            decodedBinarySecret = new String(Base64.getDecoder().decode(getSecretValueResult.getSecretBinary()).array());</span><br><span class=\"line\">//        &#125;</span><br><span class=\"line\">//        // Your code goes here.</span><br><span class=\"line\">//        try&#123;</span><br><span class=\"line\">//            JsonNode eventNode = new ObjectMapper().readTree(secret);</span><br><span class=\"line\">//        &#125;</span><br><span class=\"line\">//        catch(Exception e)&#123;</span><br><span class=\"line\">//            System.out.println(e.getMessage());</span><br><span class=\"line\">//        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"3-결론\"><a href=\"#3-결론\" class=\"headerlink\" title=\"3) 결론\"></a>3) 결론</h3><ul>\n<li>조회쪽만 코딩하면 된다.</li>\n<li>고정적으로 변하지 않는 값을 저장해두고 쓰기 좋다.(소스를 건드릴 필요가 없으므로…)</li>\n<li>DB Instance를 설정해서 값을 불러오기 좋고, Rotation 기능을 활용하여 암호주기를 설정하고 자동으로 바꿔주기 좋다.</li>\n<li>별 거 아닌 내용이지만, 거의 대부분에서 쓰일정도로 쓰임새가 좋다.</li>\n</ul>\n","text":"개발환경 구축※ 기본 개발환경IntelliJJava, SpringAWS ConsoleSecretsManager 설명이름에서 유추가 가능하지 않은가? 비밀스런 Key를 가지고 있는(관리하는) 서비스라고 보면 쉽다.사실 비밀까지는 아니지만 환경변수를 받아","link":"","raw":null,"photos":[],"categories":[{"name":"tip","slug":"tip","count":23,"path":"api/categories/tip.json"}],"tags":[{"name":"AWS","slug":"AWS","count":14,"path":"api/tags/AWS.json"},{"name":"secretsmanager","slug":"secretsmanager","count":2,"path":"api/tags/secretsmanager.json"},{"name":"Secret","slug":"Secret","count":2,"path":"api/tags/Secret.json"}]},{"title":"기상청과 연동한 날씨 Data서버 구축","slug":"WeatherServer","date":"2020-08-15T03:06:45.000Z","updated":"2020-08-15T01:30:51.984Z","comments":true,"pin":null,"path":"api/articles/WeatherServer.json","excerpt":"","keywords":null,"cover":null,"content":"<p>2016년 C#에 이어 Python으로 개발을 진행했었다.<br>특별한 시나리오는 없다.</p>\n<ol>\n<li>AWS Cloudwatch의 CRON 설정을 통해 매 시간 전국의 날씨 상황정보를 받아옴.</li>\n<li>DataBase에 저장</li>\n<li>API를 통하여 날씨 정보를 제공</li>\n<li>(추후) TAC 청정환기를 위한 대기질 정보 수신부 추가예정</li>\n</ol>\n<h3 id=\"Python-Batch용\"><a href=\"#Python-Batch용\" class=\"headerlink\" title=\"Python Batch용\"></a>Python Batch용</h3><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>python Weather</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import json</span><br><span class=\"line\">import os</span><br><span class=\"line\">import pymysql</span><br><span class=\"line\">import requests</span><br><span class=\"line\">import time</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Refactored</span></span><br><span class=\"line\">from pytz import timezone</span><br><span class=\"line\">from navien.util.logger import Logger as Log</span><br><span class=\"line\">from navien.util.secrets_manager import getSecretString</span><br><span class=\"line\">from datetime import datetime, timedelta</span><br><span class=\"line\">from navien.util.scenario.base.scenario import Scenario</span><br><span class=\"line\"></span><br><span class=\"line\">KWEATHER_URL = \\</span><br><span class=\"line\">  <span class=\"string\">'http://apis.data.go.kr/1360000/VilageFcstInfoService/getUltraSrtFcst'</span> \\</span><br><span class=\"line\">  <span class=\"string\">'?serviceKey=(SERVICE_KEY)&amp;numOfRows=1000&amp;pageNo=1&amp;dataType=JSON&amp;'</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">class ScenarioImpl(Scenario):</span><br><span class=\"line\">  def __init__(self, dbHelper, event, tz):</span><br><span class=\"line\">    super().__init__(dbHelper, event, tz)</span><br><span class=\"line\">    self._parseEvent(event)</span><br><span class=\"line\"></span><br><span class=\"line\">    self._todayList = &#123;&#125;</span><br><span class=\"line\">    self._queryParamList = []</span><br><span class=\"line\"></span><br><span class=\"line\">  def _parseEvent(self, event):</span><br><span class=\"line\">    self._now = datetime.now(timezone(self._tz))-timedelta(hours=1)</span><br><span class=\"line\">    self._lastModifyAt = self._now.strftime(<span class=\"string\">'%Y-%m-%d %H:%M:%S'</span>)</span><br><span class=\"line\">    self._registerAt = self._lastModifyAt</span><br><span class=\"line\"></span><br><span class=\"line\">  def _getRegionCodes(self):</span><br><span class=\"line\">    <span class=\"built_in\">return</span> self._dbHelper.fetchAll(</span><br><span class=\"line\">        <span class=\"string\">\"\"</span><span class=\"string\">\"</span></span><br><span class=\"line\"><span class=\"string\">        select * </span></span><br><span class=\"line\"><span class=\"string\">        from REGION_CODE </span></span><br><span class=\"line\"><span class=\"string\">        WHERE REGION_CODE&gt;20000 AND CITY !='' AND DONG='';    </span></span><br><span class=\"line\"><span class=\"string\">        \"</span><span class=\"string\">\"\"</span>, ()</span><br><span class=\"line\">    )</span><br><span class=\"line\"></span><br><span class=\"line\">  def _requestWeatherInfo(self, server, nx, ny):</span><br><span class=\"line\">    additionalValue = <span class=\"string\">'base_date='</span> + self._now.strftime(<span class=\"string\">\"%Y%m%d\"</span>) + \\</span><br><span class=\"line\">                      <span class=\"string\">'&amp;base_time='</span> + self._now.strftime(<span class=\"string\">\"%H00\"</span>) + \\</span><br><span class=\"line\">                      <span class=\"string\">'&amp;'</span> + <span class=\"string\">'nx='</span> + str(nx) + \\</span><br><span class=\"line\">                      <span class=\"string\">'&amp;'</span> + <span class=\"string\">'ny='</span> + str(ny)</span><br><span class=\"line\">    <span class=\"comment\"># Log.d('URL : &#123;&#125;&#123;&#125;'.format(server, additionalValue))</span></span><br><span class=\"line\">    _r = requests.get(server + additionalValue)</span><br><span class=\"line\">    <span class=\"built_in\">return</span> json.loads(_r.text)</span><br><span class=\"line\"></span><br><span class=\"line\">  @staticmethod</span><br><span class=\"line\">  def _isResponseOkay(response):</span><br><span class=\"line\">    resultCode = response[<span class=\"string\">'response'</span>][<span class=\"string\">'header'</span>][<span class=\"string\">'resultCode'</span>]</span><br><span class=\"line\">    resultMessage = response[<span class=\"string\">'response'</span>][<span class=\"string\">'header'</span>][<span class=\"string\">'resultMsg'</span>]</span><br><span class=\"line\">    <span class=\"keyword\">if</span> resultCode != <span class=\"string\">'00'</span>:</span><br><span class=\"line\">      Log.e(<span class=\"string\">'ResultCode : &#123;&#125;, ResultMessage : &#123;&#125;'</span>.format(resultCode, resultMessage))</span><br><span class=\"line\">      <span class=\"built_in\">return</span> False</span><br><span class=\"line\">    <span class=\"built_in\">return</span> True</span><br><span class=\"line\"></span><br><span class=\"line\">  def _cleanUpTables(self):</span><br><span class=\"line\">    self._dbHelper.execute(<span class=\"string\">'TRUNCATE STATUS_DAY;'</span>, ())</span><br><span class=\"line\">    self._dbHelper.execute(<span class=\"string\">'TRUNCATE STATUS_YDAY;'</span>, ())</span><br><span class=\"line\"></span><br><span class=\"line\">  def _updateTemperatureGap(self):</span><br><span class=\"line\">    yesterdayBegin = datetime.now(timezone(self._tz))-timedelta(hours=26)</span><br><span class=\"line\">    yesterdayEnd = datetime.now(timezone(self._tz))-timedelta(hours=22)</span><br><span class=\"line\">    yesterdayStatus = self._dbHelper.fetchAll(</span><br><span class=\"line\">        <span class=\"string\">\"\"</span><span class=\"string\">\"</span></span><br><span class=\"line\"><span class=\"string\">        SELECT * </span></span><br><span class=\"line\"><span class=\"string\">        FROM STATUS_LOG </span></span><br><span class=\"line\"><span class=\"string\">        WHERE REG_TIME BETWEEN %s AND %s GROUP BY REGION_CODE;</span></span><br><span class=\"line\"><span class=\"string\">        \"</span><span class=\"string\">\"\"</span>, (yesterdayBegin, yesterdayEnd)</span><br><span class=\"line\">    )</span><br><span class=\"line\"></span><br><span class=\"line\">    Log.d(<span class=\"string\">'yesterdayBegin : &#123;&#125;'</span>.format(yesterdayBegin))</span><br><span class=\"line\">    Log.d(<span class=\"string\">'yesterdayEnd : &#123;&#125;'</span>.format(yesterdayEnd))</span><br><span class=\"line\">    Log.d(<span class=\"string\">'status : &#123;&#125;'</span>.format(yesterdayStatus))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> row <span class=\"keyword\">in</span> yesterdayStatus:</span><br><span class=\"line\">      try:</span><br><span class=\"line\">        todayTemp = int(self._todayList[row[<span class=\"string\">'REGION_CODE'</span>]][<span class=\"string\">'T1H'</span>])</span><br><span class=\"line\">        yesterdayTemp = int(row[<span class=\"string\">'T1H'</span>])</span><br><span class=\"line\">        diff = todayTemp - yesterdayTemp</span><br><span class=\"line\">        self._dbHelper.execute(</span><br><span class=\"line\">            <span class=\"string\">\"\"</span><span class=\"string\">\"</span></span><br><span class=\"line\"><span class=\"string\">            INSERT INTO STATUS_YDAY (</span></span><br><span class=\"line\"><span class=\"string\">            REGION_CODE, STATE, CITY, DONG, TODAY_TEMP, YESTERDAY_TEMP, DIFFERENCE, UPDATE_TIME</span></span><br><span class=\"line\"><span class=\"string\">            ) VALUES (%s, %s, %s, %s, %s, %s, %s, %s);</span></span><br><span class=\"line\"><span class=\"string\">            \"</span><span class=\"string\">\"\"</span>, (</span><br><span class=\"line\">              row[<span class=\"string\">'REGION_CODE'</span>], row[<span class=\"string\">'STATE'</span>], row[<span class=\"string\">'CITY'</span>], row[<span class=\"string\">'DONG'</span>],</span><br><span class=\"line\">              todayTemp, yesterdayTemp, diff, self._lastModifyAt</span><br><span class=\"line\">            )</span><br><span class=\"line\">        )</span><br><span class=\"line\">      except:</span><br><span class=\"line\">        <span class=\"built_in\">continue</span></span><br><span class=\"line\"></span><br><span class=\"line\">  def _insertStatus(self):</span><br><span class=\"line\">    self._dbHelper.executeMany(</span><br><span class=\"line\">        <span class=\"string\">\"\"</span><span class=\"string\">\"</span></span><br><span class=\"line\"><span class=\"string\">        INSERT INTO STATUS_DAY (</span></span><br><span class=\"line\"><span class=\"string\">        REGION_CODE, STATE, CITY, DONG, SKY, T1H, REH, </span></span><br><span class=\"line\"><span class=\"string\">        RN1, PTY, VEC, WSD, LGT, UUU, VVV, UPDATE_TIME</span></span><br><span class=\"line\"><span class=\"string\">        ) VALUES (%s, %s, %s, %s, %s, </span></span><br><span class=\"line\"><span class=\"string\">        %s, %s, %s, %s, </span></span><br><span class=\"line\"><span class=\"string\">        %s, %s, %s, %s, %s, %s);</span></span><br><span class=\"line\"><span class=\"string\">        \"</span><span class=\"string\">\"\"</span>, self._queryParamList)</span><br><span class=\"line\">    self._dbHelper.executeMany(</span><br><span class=\"line\">        <span class=\"string\">\"\"</span><span class=\"string\">\"</span></span><br><span class=\"line\"><span class=\"string\">        INSERT INTO STATUS_LOG (</span></span><br><span class=\"line\"><span class=\"string\">        REGION_CODE, STATE, CITY, DONG, SKY, T1H, REH, </span></span><br><span class=\"line\"><span class=\"string\">        RN1, PTY, VEC, WSD, LGT, UUU, VVV, REG_TIME</span></span><br><span class=\"line\"><span class=\"string\">        ) VALUES (%s, %s, %s, %s, </span></span><br><span class=\"line\"><span class=\"string\">        %s, %s, %s, %s, </span></span><br><span class=\"line\"><span class=\"string\">        %s, %s, %s, %s, %s, %s, %s);</span></span><br><span class=\"line\"><span class=\"string\">        \"</span><span class=\"string\">\"\"</span>, self._queryParamList)</span><br><span class=\"line\"></span><br><span class=\"line\">  def _fetchWeatherInfo(self):</span><br><span class=\"line\">    regionCodes = self._getRegionCodes()</span><br><span class=\"line\">    <span class=\"keyword\">for</span> region <span class=\"keyword\">in</span> regionCodes:</span><br><span class=\"line\">      response = self._requestWeatherInfo(KWEATHER_URL, region[<span class=\"string\">'NX'</span>], region[<span class=\"string\">'NY'</span>])</span><br><span class=\"line\">      <span class=\"keyword\">if</span> not self._isResponseOkay(response):</span><br><span class=\"line\">        <span class=\"built_in\">continue</span></span><br><span class=\"line\"></span><br><span class=\"line\">      weather = &#123;</span><br><span class=\"line\">        <span class=\"string\">'REGION_CODE'</span>: region[<span class=\"string\">'REGION_CODE'</span>],</span><br><span class=\"line\">        <span class=\"string\">'STATE'</span>: region[<span class=\"string\">'STATE'</span>],</span><br><span class=\"line\">        <span class=\"string\">'CITY'</span>: region[<span class=\"string\">'CITY'</span>],</span><br><span class=\"line\">        <span class=\"string\">'DONG'</span>: region[<span class=\"string\">'DONG'</span>]</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">for</span> item <span class=\"keyword\">in</span> response[<span class=\"string\">'response'</span>][<span class=\"string\">'body'</span>][<span class=\"string\">'items'</span>][<span class=\"string\">'item'</span>]:</span><br><span class=\"line\">        currentTime = (self._now + timedelta(hours=+1)).strftime(<span class=\"string\">'%H00'</span>)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> item[<span class=\"string\">'fcstTime'</span>] == currentTime:</span><br><span class=\"line\">          weather[item[<span class=\"string\">'category'</span>]] = item[<span class=\"string\">'fcstValue'</span>]</span><br><span class=\"line\">      <span class=\"comment\"># Log.d('weather : &#123;&#125;'.format(weather))</span></span><br><span class=\"line\">      self._todayList[weather[<span class=\"string\">'REGION_CODE'</span>]] = weather</span><br><span class=\"line\">      self._queryParamList.append((</span><br><span class=\"line\">        weather[<span class=\"string\">'REGION_CODE'</span>], weather[<span class=\"string\">'STATE'</span>], weather[<span class=\"string\">'CITY'</span>], weather[<span class=\"string\">'DONG'</span>],</span><br><span class=\"line\">        weather[<span class=\"string\">'SKY'</span>], weather[<span class=\"string\">'T1H'</span>], weather[<span class=\"string\">'REH'</span>], weather[<span class=\"string\">'RN1'</span>],</span><br><span class=\"line\">        weather[<span class=\"string\">'PTY'</span>], weather[<span class=\"string\">'VEC'</span>], weather[<span class=\"string\">'WSD'</span>], weather[<span class=\"string\">'LGT'</span>],</span><br><span class=\"line\">        weather[<span class=\"string\">'UUU'</span>], weather[<span class=\"string\">'VVV'</span>], self._lastModifyAt</span><br><span class=\"line\">      ))</span><br><span class=\"line\"></span><br><span class=\"line\">  def action(self):</span><br><span class=\"line\">    self._fetchWeatherInfo()</span><br><span class=\"line\">    self._cleanUpTables()</span><br><span class=\"line\">    self._updateTemperatureGap()</span><br><span class=\"line\">    self._insertStatus()</span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"Java-Spring-Boot-Batch용\"><a href=\"#Java-Spring-Boot-Batch용\" class=\"headerlink\" title=\"Java(Spring Boot) Batch용\"></a>Java(Spring Boot) Batch용</h3><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br><span class=\"line\">301</span><br><span class=\"line\">302</span><br><span class=\"line\">303</span><br><span class=\"line\">304</span><br><span class=\"line\">305</span><br><span class=\"line\">306</span><br><span class=\"line\">307</span><br><span class=\"line\">308</span><br><span class=\"line\">309</span><br><span class=\"line\">310</span><br><span class=\"line\">311</span><br><span class=\"line\">312</span><br><span class=\"line\">313</span><br><span class=\"line\">314</span><br><span class=\"line\">315</span><br><span class=\"line\">316</span><br><span class=\"line\">317</span><br><span class=\"line\">318</span><br><span class=\"line\">319</span><br><span class=\"line\">320</span><br><span class=\"line\">321</span><br><span class=\"line\">322</span><br><span class=\"line\">323</span><br><span class=\"line\">324</span><br><span class=\"line\">325</span><br><span class=\"line\">326</span><br><span class=\"line\">327</span><br><span class=\"line\">328</span><br><span class=\"line\">329</span><br><span class=\"line\">330</span><br><span class=\"line\">331</span><br><span class=\"line\">332</span><br><span class=\"line\">333</span><br><span class=\"line\">334</span><br><span class=\"line\">335</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.kdnavien.mate.api.service;</span><br><span class=\"line\"></span><br><span class=\"line\">import com.fasterxml.jackson.databind.JsonNode;</span><br><span class=\"line\">import com.kdnavien.mate.api.entity.NewWeatherRegionCode;</span><br><span class=\"line\">import com.kdnavien.mate.api.entity.NewWeatherStatusDay;</span><br><span class=\"line\">import com.kdnavien.mate.api.entity.NewWeatherStatusLog;</span><br><span class=\"line\">import com.kdnavien.mate.api.entity.NewWeatherStatusYDay;</span><br><span class=\"line\">import com.kdnavien.mate.api.helper.HttpHelper;</span><br><span class=\"line\">import com.kdnavien.mate.api.repository.NewWeatherRegionCodeRepository;</span><br><span class=\"line\">import com.kdnavien.mate.api.repository.NewWeatherStatusDayRepository;</span><br><span class=\"line\">import com.kdnavien.mate.api.repository.NewWeatherStatusLogRepository;</span><br><span class=\"line\">import com.kdnavien.mate.api.repository.NewWeatherStatusYDayRepository;</span><br><span class=\"line\">import lombok.extern.slf4j.Slf4j;</span><br><span class=\"line\">import org.springframework.beans.factory.annotation.Autowired;</span><br><span class=\"line\">import org.springframework.context.annotation.Profile;</span><br><span class=\"line\">import org.springframework.http.ResponseEntity;</span><br><span class=\"line\">import org.springframework.scheduling.annotation.Scheduled;</span><br><span class=\"line\">import org.springframework.stereotype.Component;</span><br><span class=\"line\">import org.springframework.util.StringUtils;</span><br><span class=\"line\"></span><br><span class=\"line\">import java.net.URLEncoder;</span><br><span class=\"line\">import java.time.ZoneId;</span><br><span class=\"line\">import java.time.ZonedDateTime;</span><br><span class=\"line\">import java.time.format.DateTimeFormatter;</span><br><span class=\"line\">import java.util.*;</span><br><span class=\"line\">import java.util.stream.Collectors;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * https://www.baeldung.com/spring-scheduled-enabled-conditionally</span><br><span class=\"line\"> */</span><br><span class=\"line\">@Profile(<span class=\"string\">\"dev\"</span>)</span><br><span class=\"line\">@Slf4j</span><br><span class=\"line\">@Component</span><br><span class=\"line\">public class WeatherBatchJob &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    @Autowired</span><br><span class=\"line\">    NewWeatherRegionCodeRepository newWeatherRegionCodeRepository;</span><br><span class=\"line\">    @Autowired</span><br><span class=\"line\">    NewWeatherStatusDayRepository newWeatherStatusDayRepository;</span><br><span class=\"line\">    @Autowired</span><br><span class=\"line\">    NewWeatherStatusLogRepository newWeatherStatusLogRepository;</span><br><span class=\"line\">    @Autowired</span><br><span class=\"line\">    NewWeatherStatusYDayRepository newWeatherStatusYDayRepository;</span><br><span class=\"line\"></span><br><span class=\"line\">    private Integer Minute = 60*1000;</span><br><span class=\"line\">    private Integer Day = 24*3600*1000;</span><br><span class=\"line\"></span><br><span class=\"line\">//    @Scheduled(cron = <span class=\"string\">\"* * * * * *\"</span>) //https://javafactory.tistory.com/1386</span><br><span class=\"line\">    @Scheduled(cron = <span class=\"string\">\"0 0 * * * *\"</span>) //https://javafactory.tistory.com/1386</span><br><span class=\"line\">    public void temp() throws Exception &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        //TODO 1. 정의된 지역정보 모두 받아오기.</span><br><span class=\"line\">        List&lt;NewWeatherRegionCode&gt; newWeatherRegionCodeList = newWeatherRegionCodeRepository.findAll();</span><br><span class=\"line\">        //TODO 2. 지역정보 3700개 중에서 구단위만 Sorting 하여 따로 저장.</span><br><span class=\"line\">        List&lt;NewWeatherRegionCode&gt; newWeatherRegionCodeList_gu = newWeatherRegionCodeList.stream()</span><br><span class=\"line\">                .filter(newWeatherRegionCode -&gt; StringUtils.isEmpty(newWeatherRegionCode.getDong()))</span><br><span class=\"line\">                .filter(newWeatherRegionCode -&gt; !StringUtils.isEmpty(newWeatherRegionCode.getCity()))</span><br><span class=\"line\">                .filter(newWeatherRegionCode -&gt; newWeatherRegionCode.getRegionCode()&gt;=20000) //구 Kweather 지역은 제외(총 250개)</span><br><span class=\"line\">                .collect(Collectors.toList());</span><br><span class=\"line\"></span><br><span class=\"line\">        //TODO 3. 어느 Region에 설치하든 한국시간을 따라가게 만들려고..(RDS는 이상하게 시스템 시간이 GMT+00:00을 기본값으로 갖고있음.)</span><br><span class=\"line\">        ZonedDateTime nowSeoul = ZonedDateTime.now(ZoneId.of(<span class=\"string\">\"Asia/Seoul\"</span>));</span><br><span class=\"line\">        String ymd = nowSeoul.format(DateTimeFormatter.ofPattern(<span class=\"string\">\"yyyyMMdd\"</span>));</span><br><span class=\"line\">        String h0 = nowSeoul.plusHours(-1).format(DateTimeFormatter.ofPattern(<span class=\"string\">\"HH00\"</span>));</span><br><span class=\"line\">        String h1 = nowSeoul.format(DateTimeFormatter.ofPattern(<span class=\"string\">\"HH00\"</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">        //현재날짜 선언</span><br><span class=\"line\">        Date currDate = new Date();</span><br><span class=\"line\"></span><br><span class=\"line\">        //1.</span><br><span class=\"line\">        long beforeTime = System.currentTimeMillis(); //코드 실행 전에 시간 받아오기</span><br><span class=\"line\">        // TODO 4.구단위 리스트에서 nx, ny만 뽑아서 모두 조회-&gt; 현재는 중복되도 다시 call할 가능성 매우높음.. distict 쿼리문처럼 할지 말지 고민중.</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(NewWeatherRegionCode region : newWeatherRegionCodeList_gu)&#123;</span><br><span class=\"line\">            //String url = <span class=\"string\">\"http://apis.data.go.kr/1360000/VilageFcstInfoService/getUltraSrtFcst?serviceKey=[SERVICE_KEY]&amp;numOfRows=100&amp;pageNo=1&amp;dataType=JSON&amp;base_date=\"</span>+ymd+<span class=\"string\">\"&amp;base_time=\"</span>+h0+<span class=\"string\">\"&amp;nx=\"</span>+region.getNx()+<span class=\"string\">\"&amp;ny=\"</span>+region.getNy();</span><br><span class=\"line\">            StringBuilder urlBuilder = new StringBuilder(<span class=\"string\">\"http://apis.data.go.kr/1360000/VilageFcstInfoService/getUltraSrtFcst\"</span>); /*URL*/</span><br><span class=\"line\">//            urlBuilder.append(<span class=\"string\">\"?\"</span> + URLEncoder.encode(<span class=\"string\">\"ServiceKey\"</span>,<span class=\"string\">\"UTF-8\"</span>) + <span class=\"string\">\"[SERVICE_KEY]\"</span>); /*Service Key*/</span><br><span class=\"line\">            urlBuilder.append(<span class=\"string\">\"?\"</span> + URLEncoder.encode(<span class=\"string\">\"ServiceKey\"</span>,<span class=\"string\">\"UTF-8\"</span>) + <span class=\"string\">\"=\"</span> + URLEncoder.encode(<span class=\"string\">\"2YbxZ9cWcxmBPAm5iYgJh4QN59XpzIJximMFQ3qpXfxd9D8SsCLGrzZbG7x5YmXdSaIi0BsVJ+JreWVak7ZYDw==\"</span>, <span class=\"string\">\"UTF-8\"</span>)); /*서비스 인증*/</span><br><span class=\"line\">            urlBuilder.append(<span class=\"string\">\"&amp;\"</span> + URLEncoder.encode(<span class=\"string\">\"base_date\"</span>,<span class=\"string\">\"UTF-8\"</span>) + <span class=\"string\">\"=\"</span> + URLEncoder.encode(ymd, <span class=\"string\">\"UTF-8\"</span>)); /*‘15년 12월 1일 발표*/</span><br><span class=\"line\">            urlBuilder.append(<span class=\"string\">\"&amp;\"</span> + URLEncoder.encode(<span class=\"string\">\"base_time\"</span>,<span class=\"string\">\"UTF-8\"</span>) + <span class=\"string\">\"=\"</span> + URLEncoder.encode(h0, <span class=\"string\">\"UTF-8\"</span>)); /*06시 발표(정시단위) -매시각 40분 이후 호출*/</span><br><span class=\"line\">            urlBuilder.append(<span class=\"string\">\"&amp;\"</span> + URLEncoder.encode(<span class=\"string\">\"nx\"</span>,<span class=\"string\">\"UTF-8\"</span>) + <span class=\"string\">\"=\"</span> + URLEncoder.encode(region.getNx().toString(), <span class=\"string\">\"UTF-8\"</span>)); /*예보지점의 X 좌표값*/</span><br><span class=\"line\">            urlBuilder.append(<span class=\"string\">\"&amp;\"</span> + URLEncoder.encode(<span class=\"string\">\"ny\"</span>,<span class=\"string\">\"UTF-8\"</span>) + <span class=\"string\">\"=\"</span> + URLEncoder.encode(region.getNy().toString(), <span class=\"string\">\"UTF-8\"</span>)); /*예보지점의 Y 좌표값*/</span><br><span class=\"line\">            urlBuilder.append(<span class=\"string\">\"&amp;\"</span> + URLEncoder.encode(<span class=\"string\">\"numOfRows\"</span>,<span class=\"string\">\"UTF-8\"</span>) + <span class=\"string\">\"=\"</span> + URLEncoder.encode(<span class=\"string\">\"1000\"</span>, <span class=\"string\">\"UTF-8\"</span>)); /*한 페이지 결과 수*/</span><br><span class=\"line\">            urlBuilder.append(<span class=\"string\">\"&amp;\"</span> + URLEncoder.encode(<span class=\"string\">\"pageNo\"</span>,<span class=\"string\">\"UTF-8\"</span>) + <span class=\"string\">\"=\"</span> + URLEncoder.encode(<span class=\"string\">\"1\"</span>, <span class=\"string\">\"UTF-8\"</span>)); /*페이지 번호*/</span><br><span class=\"line\">            urlBuilder.append(<span class=\"string\">\"&amp;\"</span> + URLEncoder.encode(<span class=\"string\">\"dataType\"</span>,<span class=\"string\">\"UTF-8\"</span>) + <span class=\"string\">\"=\"</span> + URLEncoder.encode(<span class=\"string\">\"JSON\"</span>, <span class=\"string\">\"UTF-8\"</span>)); /*xml(기본값), json*/</span><br><span class=\"line\">            String url = urlBuilder.toString();</span><br><span class=\"line\"></span><br><span class=\"line\">            //---------------</span><br><span class=\"line\">            //1. <span class=\"keyword\">for</span>문 내 실행시간측정</span><br><span class=\"line\">            long beforeForTime = System.currentTimeMillis(); //코드 실행 전에 시간 받아오기</span><br><span class=\"line\"></span><br><span class=\"line\">            //TODO 5. 데이터를 url통해 기상청에서 받아온 뒤, 파싱하여 Data저장.(Throw 썻는데 이게 맞나..?)</span><br><span class=\"line\">            insertData(newWeatherStatusDayRepository, newWeatherStatusLogRepository, region, url, currDate, h1);</span><br><span class=\"line\"></span><br><span class=\"line\">            long afterForTime = System.currentTimeMillis(); // 코드 실행 후에 시간 받아오기</span><br><span class=\"line\">            long secDiffTime = (afterForTime - beforeForTime); //두 시간에 차 계산</span><br><span class=\"line\">            System.out.println(region.getRegionCode()+<span class=\"string\">\"/\"</span>+region.getState()+<span class=\"string\">\"/\"</span>+region.getCity()+<span class=\"string\">\"For문 내 시간차이(millisec) : \"</span>+secDiffTime);</span><br><span class=\"line\">            //---------------</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        long afterTime = System.currentTimeMillis(); // 코드 실행 후에 시간 받아오기</span><br><span class=\"line\">        long secDiffTime = (afterTime - beforeTime); //두 시간에 차 계산</span><br><span class=\"line\"></span><br><span class=\"line\">        log.info(<span class=\"string\">\"총 RunningTime(millisec) : \"</span>+ secDiffTime);</span><br><span class=\"line\">        log.info(newWeatherRegionCodeList_gu.toString());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public static void insertData(NewWeatherStatusDayRepository newWeatherStatusDayRepository,</span><br><span class=\"line\">                            NewWeatherStatusLogRepository newWeatherStatusLogRepository,</span><br><span class=\"line\">                            NewWeatherRegionCode region,</span><br><span class=\"line\">                            String url,</span><br><span class=\"line\">                            Date currDate,</span><br><span class=\"line\">                            String currHour) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        try&#123;</span><br><span class=\"line\">            // TODO 5. HTTP Get(1.1)</span><br><span class=\"line\">            ResponseEntity&lt;JsonNode&gt; returnValue = HttpHelper.sendGetRetry(url);</span><br><span class=\"line\">            JsonNode resultCode = returnValue.getBody().path(<span class=\"string\">\"response\"</span>).get(<span class=\"string\">\"header\"</span>).get(<span class=\"string\">\"resultCode\"</span>);</span><br><span class=\"line\">            // TODO 5.1 받아온 값의 코드를 보고 에러상황 or 정상상황 확인..</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(resultCode.asText().equals(<span class=\"string\">\"00\"</span>))&#123;</span><br><span class=\"line\">                JsonNode weather = returnValue.getBody().path(<span class=\"string\">\"response\"</span>).get(<span class=\"string\">\"body\"</span>).get(<span class=\"string\">\"items\"</span>).get(<span class=\"string\">\"item\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">                //각 Attribute 선언</span><br><span class=\"line\">                String LGT = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">                String PTY = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">                String RN1 = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">                String SKY = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">                String T1H = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">                String REH = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">                String UUU = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">                String VVV = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">                String VEC = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">                String WSD = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">                // TODO 6. item만 뽑아내서 변수값 넣어줌.</span><br><span class=\"line\">                <span class=\"keyword\">for</span>(JsonNode weatherJson : weather)&#123;</span><br><span class=\"line\">                    //낙뢰</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(weatherJson.get(<span class=\"string\">\"fcstTime\"</span>).asText().equals(currHour) &amp;&amp; weatherJson.get(<span class=\"string\">\"category\"</span>).asText().equals(<span class=\"string\">\"LGT\"</span>))&#123;</span><br><span class=\"line\">                        LGT = (weatherJson.get(<span class=\"string\">\"fcstValue\"</span>).asText());</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    //강수형태</span><br><span class=\"line\">                    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(weatherJson.get(<span class=\"string\">\"fcstTime\"</span>).asText().equals(currHour) &amp;&amp; weatherJson.get(<span class=\"string\">\"category\"</span>).asText().equals(<span class=\"string\">\"PTY\"</span>))&#123;</span><br><span class=\"line\">                        PTY=(weatherJson.get(<span class=\"string\">\"fcstValue\"</span>).asText());</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    //1시간 강수량</span><br><span class=\"line\">                    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(weatherJson.get(<span class=\"string\">\"fcstTime\"</span>).asText().equals(currHour) &amp;&amp; weatherJson.get(<span class=\"string\">\"category\"</span>).asText().equals(<span class=\"string\">\"RN1\"</span>))&#123;</span><br><span class=\"line\">                        RN1=(weatherJson.get(<span class=\"string\">\"fcstValue\"</span>).asText());</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    //하늘상태</span><br><span class=\"line\">                    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(weatherJson.get(<span class=\"string\">\"fcstTime\"</span>).asText().equals(currHour) &amp;&amp; weatherJson.get(<span class=\"string\">\"category\"</span>).asText().equals(<span class=\"string\">\"SKY\"</span>))&#123;</span><br><span class=\"line\">                        SKY=(weatherJson.get(<span class=\"string\">\"fcstValue\"</span>).asText());</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    //기온</span><br><span class=\"line\">                    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(weatherJson.get(<span class=\"string\">\"fcstTime\"</span>).asText().equals(currHour) &amp;&amp; weatherJson.get(<span class=\"string\">\"category\"</span>).asText().equals(<span class=\"string\">\"T1H\"</span>))&#123;</span><br><span class=\"line\">                        T1H=(weatherJson.get(<span class=\"string\">\"fcstValue\"</span>).asText());</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    //습도</span><br><span class=\"line\">                    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(weatherJson.get(<span class=\"string\">\"fcstTime\"</span>).asText().equals(currHour) &amp;&amp; weatherJson.get(<span class=\"string\">\"category\"</span>).asText().equals(<span class=\"string\">\"REH\"</span>))&#123;</span><br><span class=\"line\">                        REH=(weatherJson.get(<span class=\"string\">\"fcstValue\"</span>).asText());</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    //동서바람성분</span><br><span class=\"line\">                    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(weatherJson.get(<span class=\"string\">\"fcstTime\"</span>).asText().equals(currHour) &amp;&amp; weatherJson.get(<span class=\"string\">\"category\"</span>).asText().equals(<span class=\"string\">\"UUU\"</span>))&#123;</span><br><span class=\"line\">                        UUU=(weatherJson.get(<span class=\"string\">\"fcstValue\"</span>).asText());</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    //남북바람성분</span><br><span class=\"line\">                    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(weatherJson.get(<span class=\"string\">\"fcstTime\"</span>).asText().equals(currHour) &amp;&amp; weatherJson.get(<span class=\"string\">\"category\"</span>).asText().equals(<span class=\"string\">\"VVV\"</span>))&#123;</span><br><span class=\"line\">                        VVV=(weatherJson.get(<span class=\"string\">\"fcstValue\"</span>).asText());</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    //풍향</span><br><span class=\"line\">                    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(weatherJson.get(<span class=\"string\">\"fcstTime\"</span>).asText().equals(currHour) &amp;&amp; weatherJson.get(<span class=\"string\">\"category\"</span>).asText().equals(<span class=\"string\">\"VEC\"</span>))&#123;</span><br><span class=\"line\">                        VEC=(weatherJson.get(<span class=\"string\">\"fcstValue\"</span>).asText());</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    //풍속</span><br><span class=\"line\">                    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(weatherJson.get(<span class=\"string\">\"fcstTime\"</span>).asText().equals(currHour) &amp;&amp; weatherJson.get(<span class=\"string\">\"category\"</span>).asText().equals(<span class=\"string\">\"WSD\"</span>))&#123;</span><br><span class=\"line\">                        WSD=(weatherJson.get(<span class=\"string\">\"fcstValue\"</span>).asText());</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                //TODO 7.1 WeatherStatusDay 테이블 채워줄 값</span><br><span class=\"line\">                NewWeatherStatusDay newWeatherStatusDay = new NewWeatherStatusDay();</span><br><span class=\"line\">                newWeatherStatusDay.setRegionCode(region.getRegionCode());</span><br><span class=\"line\">                newWeatherStatusDay.setState(region.getState());</span><br><span class=\"line\">                newWeatherStatusDay.setCity(region.getCity());</span><br><span class=\"line\">                newWeatherStatusDay.setDong(region.getDong());</span><br><span class=\"line\">                newWeatherStatusDay.setT1H(T1H);</span><br><span class=\"line\">                newWeatherStatusDay.setRN1(RN1);</span><br><span class=\"line\">                newWeatherStatusDay.setSKY(SKY);</span><br><span class=\"line\">                newWeatherStatusDay.setUUU(UUU);</span><br><span class=\"line\">                newWeatherStatusDay.setVVV(VVV);</span><br><span class=\"line\">                newWeatherStatusDay.setREH(REH);</span><br><span class=\"line\">                newWeatherStatusDay.setPTY(PTY);</span><br><span class=\"line\">                newWeatherStatusDay.setLGT(LGT);</span><br><span class=\"line\">                newWeatherStatusDay.setVEC(VEC);</span><br><span class=\"line\">                newWeatherStatusDay.setWSD(WSD);</span><br><span class=\"line\">                newWeatherStatusDay.setUpdateTime(currDate);</span><br><span class=\"line\"></span><br><span class=\"line\">                //TODO 7.2 WeatherStatusLog 테이블 채워줄 값</span><br><span class=\"line\">                NewWeatherStatusLog newWeatherStatusLog = new NewWeatherStatusLog();</span><br><span class=\"line\">                newWeatherStatusLog.setRegionCode(region.getRegionCode());</span><br><span class=\"line\">                newWeatherStatusLog.setState(region.getState());</span><br><span class=\"line\">                newWeatherStatusLog.setCity(region.getCity());</span><br><span class=\"line\">                newWeatherStatusLog.setDong(region.getDong());</span><br><span class=\"line\">                newWeatherStatusLog.setT1H(T1H);</span><br><span class=\"line\">                newWeatherStatusLog.setRN1(RN1);</span><br><span class=\"line\">                newWeatherStatusLog.setSKY(SKY);</span><br><span class=\"line\">                newWeatherStatusLog.setUUU(UUU);</span><br><span class=\"line\">                newWeatherStatusLog.setVVV(VVV);</span><br><span class=\"line\">                newWeatherStatusLog.setREH(REH);</span><br><span class=\"line\">                newWeatherStatusLog.setPTY(PTY);</span><br><span class=\"line\">                newWeatherStatusLog.setLGT(LGT);</span><br><span class=\"line\">                newWeatherStatusLog.setVEC(VEC);</span><br><span class=\"line\">                newWeatherStatusLog.setWSD(WSD);</span><br><span class=\"line\">                newWeatherStatusLog.setRegTime(currDate);</span><br><span class=\"line\"></span><br><span class=\"line\">                //TODO 7.3 전송!</span><br><span class=\"line\">                newWeatherStatusDayRepository.save(newWeatherStatusDay);</span><br><span class=\"line\">                newWeatherStatusLogRepository.save(newWeatherStatusLog);</span><br><span class=\"line\"></span><br><span class=\"line\">                //TODO 8. Thread Sleep;</span><br><span class=\"line\">                Thread.sleep(10);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                System.out.println(<span class=\"string\">\"Error : \"</span>+resultCode.asText());</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; catch (Exception e)&#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">\"StackTrace : \"</span>+e.getMessage());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">//    @Scheduled(cron = <span class=\"string\">\"* * * * * *\"</span>) //https://javafactory.tistory.com/1386 //디버깅용...바로시작</span><br><span class=\"line\">    @Scheduled(cron = <span class=\"string\">\"0 5 20 * * *\"</span>) //https://javafactory.tistory.com/1386 //매일 오후 8시 5분 0초에 시작함.</span><br><span class=\"line\">    public void <span class=\"function\"><span class=\"title\">yDayBatch</span></span>()&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        //TODO 1. 정의된 지역정보 모두 받아오기.</span><br><span class=\"line\">        List&lt;NewWeatherRegionCode&gt; newWeatherRegionCodeList = newWeatherRegionCodeRepository.findAll();</span><br><span class=\"line\">        //TODO 2. 지역정보 3700개 중에서 구단위만 Sorting 하여 따로 저장.</span><br><span class=\"line\">        List&lt;NewWeatherRegionCode&gt; newWeatherRegionCodeList_gu = newWeatherRegionCodeList.stream()</span><br><span class=\"line\">                .filter(newWeatherRegionCode -&gt; StringUtils.isEmpty(newWeatherRegionCode.getDong()))</span><br><span class=\"line\">                .filter(newWeatherRegionCode -&gt; !StringUtils.isEmpty(newWeatherRegionCode.getCity()))</span><br><span class=\"line\">                .filter(newWeatherRegionCode -&gt; newWeatherRegionCode.getRegionCode()&gt;=20000) //구 Kweather 지역은 제외(총 250개)</span><br><span class=\"line\">                .collect(Collectors.toList());</span><br><span class=\"line\"></span><br><span class=\"line\">        //TODO 3. 어느 Region에 설치하든 한국시간을 따라가게 만들려고..(RDS는 이상하게 시스템 시간이 GMT+00:00을 기본값으로 갖고있음.)</span><br><span class=\"line\">        ZonedDateTime nowSeoul = ZonedDateTime.now(ZoneId.of(<span class=\"string\">\"Asia/Seoul\"</span>));</span><br><span class=\"line\">        Date currDate = new Date();</span><br><span class=\"line\"></span><br><span class=\"line\">        //TODO 9. WeatherStatusYDay 테이블 채우기(먼저 이전 시간대 데이터 갖고오기)</span><br><span class=\"line\">        //TODO 9.1 조회하려는 Region의 리스트 받아오기.</span><br><span class=\"line\">        List&lt;Integer&gt; regionList = new ArrayList&lt;&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(NewWeatherRegionCode region : newWeatherRegionCodeList_gu)&#123;</span><br><span class=\"line\">            regionList.add(region.getRegionCode());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        //초기화</span><br><span class=\"line\">        newWeatherStatusYDayRepository.deleteAll();</span><br><span class=\"line\">        long currentDateTime = System.currentTimeMillis();</span><br><span class=\"line\">        long before30MinuteDateTime = currentDateTime - Day - 30*Minute; //TODO 여기에 Day추가해야함.-&gt;완료.</span><br><span class=\"line\">        long before90MinuteDateTime = currentDateTime - Day - 90*Minute; //(현시간) - (하루) - (30분 or 90분)</span><br><span class=\"line\"></span><br><span class=\"line\">        //로그테이블에서 1일전 데이터 찾기</span><br><span class=\"line\">        List&lt;NewWeatherStatusLog&gt; newWeatherStatusLogList = newWeatherStatusLogRepository.findAll();</span><br><span class=\"line\">        List&lt;NewWeatherStatusLog&gt; oldDataList = newWeatherStatusLogList.stream()</span><br><span class=\"line\">//                .filter(newWeatherStatusLog -&gt; newWeatherStatusLog.getRegionCode().equals(<span class=\"built_in\">integer</span>))</span><br><span class=\"line\">                //러프하게 30~90분 이전의 데이터를 검색함.(만약, 없으면 어떻게하지? 이전리스트 전부받아서 가장 최근걸로 해야되나?)</span><br><span class=\"line\">                .filter(newWeatherStatusLog -&gt; newWeatherStatusLog.getRegTime().getTime() &lt;= before30MinuteDateTime &amp;&amp; newWeatherStatusLog.getRegTime().getTime() &gt; before90MinuteDateTime)</span><br><span class=\"line\">                .sorted((o1, o2) -&gt; o2.getRegTime().compareTo(o1.getRegTime())) //order by desc(내림차순)</span><br><span class=\"line\">//                .<span class=\"built_in\">limit</span>(1) //Top N</span><br><span class=\"line\">                .collect(Collectors.toList());</span><br><span class=\"line\"></span><br><span class=\"line\">        //최신테이블에서 현재 데이터 찾기</span><br><span class=\"line\">        List&lt;NewWeatherStatusDay&gt; newWeatherStatusDayList = newWeatherStatusDayRepository.findAll();</span><br><span class=\"line\">        List&lt;NewWeatherStatusDay&gt; newDataList = newWeatherStatusDayList.stream()</span><br><span class=\"line\">//                .filter(NewWeatherStatusDay -&gt; NewWeatherStatusDay.getRegionCode().equals(<span class=\"built_in\">integer</span>))</span><br><span class=\"line\">//                .<span class=\"built_in\">limit</span>(1) //Top N</span><br><span class=\"line\">                .collect(Collectors.toList());</span><br><span class=\"line\">        //TODO 9.2 Region으로 WeatherStatusLog 테이블에서 데이터 추출(가장최근 30분~90분사이에 있는 데이터 중 가장 최근 것 1개만)</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(Integer <span class=\"built_in\">integer</span> : regionList)&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            //TODO 9.3 newWeatherStatusLogList1에서 받은 데이터 중 온도(T1H)와 현재 가진데이터 비교</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(oldDataList.size() &gt; 0 &amp;&amp; newDataList.size() &gt; 0)&#123;</span><br><span class=\"line\">                // oldDataList에서 지역코드로 값 검색</span><br><span class=\"line\">                List&lt;NewWeatherStatusLog&gt; oldList = new ArrayList&lt;&gt;();</span><br><span class=\"line\">                <span class=\"keyword\">for</span>(int i = 0; i &lt; oldDataList.size(); i++)&#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(oldDataList.get(i).getRegionCode().equals(<span class=\"built_in\">integer</span>))&#123;</span><br><span class=\"line\">                        oldList.add(oldDataList.get(i));</span><br><span class=\"line\">                        <span class=\"built_in\">break</span>;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">                // newDataList에서 지역코드로 값 검색</span><br><span class=\"line\">                List&lt;NewWeatherStatusDay&gt; newList = new ArrayList&lt;&gt;();</span><br><span class=\"line\">                <span class=\"keyword\">for</span>(int i = 0; i &lt; newDataList.size(); i++)&#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(newDataList.get(i).getRegionCode().equals(<span class=\"built_in\">integer</span>))&#123;</span><br><span class=\"line\">                        newList.add(newDataList.get(i));</span><br><span class=\"line\">                        <span class=\"built_in\">break</span>;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                String bf_T1H = oldList.get(0).getT1H(); //과거데이터</span><br><span class=\"line\">                String nw_T1H = newList.get(0).getT1H(); //최근데이터</span><br><span class=\"line\">                int differnce = (Integer.parseInt(bf_T1H) - Integer.parseInt(nw_T1H)); // +4 이상이면 푸시발송해야함.(푸시는 아직 구현안됨)</span><br><span class=\"line\"></span><br><span class=\"line\">                NewWeatherStatusYDay newWeatherStatusYDay = new NewWeatherStatusYDay();</span><br><span class=\"line\">                newWeatherStatusYDay.setRegionCode(<span class=\"built_in\">integer</span>);</span><br><span class=\"line\">                newWeatherStatusYDay.setState(oldList.get(0).getState());</span><br><span class=\"line\">                newWeatherStatusYDay.setCity(oldList.get(0).getCity());</span><br><span class=\"line\">                newWeatherStatusYDay.setDong(oldList.get(0).getDong());</span><br><span class=\"line\">                newWeatherStatusYDay.setTodayTemp(nw_T1H);</span><br><span class=\"line\">                newWeatherStatusYDay.setYesterdayTemp(bf_T1H);</span><br><span class=\"line\">                newWeatherStatusYDay.setDifference(Integer.toString(differnce));</span><br><span class=\"line\">                newWeatherStatusYDay.setUpdateTime(currDate);</span><br><span class=\"line\"></span><br><span class=\"line\">                //TODO 9.4 WeatherStatusYDay 전송</span><br><span class=\"line\">                newWeatherStatusYDayRepository.save(newWeatherStatusYDay);</span><br><span class=\"line\"></span><br><span class=\"line\">                //TODO 9.5 푸시발송--&gt; 현재는 구현하려면 핑거푸시를 뚫어야한다.(최신대 차장님꺼 쓸거 아니라면..)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    @Scheduled(cron = <span class=\"string\">\"* 30 2 * * *\"</span>) //https://javafactory.tistory.com/1386 //매일 새벽 2시 30분 90일이상 된 자료 지움.</span><br><span class=\"line\">    public void <span class=\"function\"><span class=\"title\">deleteThreeMonthExpireData</span></span>()&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        //3달전의 연월일시분초 -&gt; Millisecond(Unix time)</span><br><span class=\"line\">        Calendar calendar = Calendar.getInstance(new SimpleTimeZone(0x1ee6280, <span class=\"string\">\"KST\"</span>));</span><br><span class=\"line\">//        calendar.set(Calendar.HOUR_OF_DAY, 13);</span><br><span class=\"line\">//        calendar.set(Calendar.MINUTE, 10);</span><br><span class=\"line\">//        calendar.set(Calendar.SECOND, 0);</span><br><span class=\"line\">        calendar.add(Calendar.DATE, -90);</span><br><span class=\"line\">        long calenderMillis = calendar.getTimeInMillis();</span><br><span class=\"line\"></span><br><span class=\"line\">        //TODO 1. 삭제대상 조회</span><br><span class=\"line\">        List&lt;NewWeatherStatusLog&gt; newWeatherStatusLogList = newWeatherStatusLogRepository.findAll().stream()</span><br><span class=\"line\">                .filter(newWeatherStatusLog -&gt; newWeatherStatusLog.getRegTime().getTime() &lt;= calenderMillis)</span><br><span class=\"line\">                .filter(newWeatherRegionCode -&gt; newWeatherRegionCode.getRegionCode()&lt;=20000) //구 Kweather 지역은 제외(총 250개)</span><br><span class=\"line\">                .collect(Collectors.toList());</span><br><span class=\"line\"></span><br><span class=\"line\">        newWeatherStatusLogRepository.deleteAll(newWeatherStatusLogList);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"Java-Spring-Boot-API용\"><a href=\"#Java-Spring-Boot-API용\" class=\"headerlink\" title=\"Java(Spring Boot) API용\"></a>Java(Spring Boot) API용</h3><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Autowired</span><br><span class=\"line\">    private NewWeatherRegionCodeService newWeatherRegionCodeService;</span><br><span class=\"line\"></span><br><span class=\"line\">    @Autowired</span><br><span class=\"line\">    private NewWeatherStatusDayService newWeatherStatusDayService;</span><br><span class=\"line\"></span><br><span class=\"line\">    @Autowired</span><br><span class=\"line\">    private NewWeatherStatusLogService newWeatherStatusLogService;</span><br><span class=\"line\"></span><br><span class=\"line\">    @Autowired</span><br><span class=\"line\">    private NewWeatherVersionService newWeatherVersionService;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 지역 정보 조회</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * @<span class=\"built_in\">return</span></span><br><span class=\"line\">     */</span><br><span class=\"line\">    public Response <span class=\"function\"><span class=\"title\">requestRegionCode</span></span>() &#123;</span><br><span class=\"line\">        List&lt;NewWeatherRegionCode&gt; newWeatherRegionCodeList = newWeatherRegionCodeService.findAllWeatherRegionCode();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (newWeatherRegionCodeList.size() == 0) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">return</span> ErrorCode.getErrorResponse(ErrorCode.COMMON_NO_DATA);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        Response response = SuccessCode.getSuccessResponse();</span><br><span class=\"line\">        ResRegionCode resRegionCode = new ResRegionCode();</span><br><span class=\"line\">        NewWeatherVersionEntity newWeatherVersionEntity = newWeatherVersionService.findNewWeatherVersion();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (newWeatherVersionEntity != null) &#123;</span><br><span class=\"line\">            resRegionCode.setVersion(newWeatherVersionEntity.getServiceVersion());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        // state 별 그룹핑</span><br><span class=\"line\">        Map&lt;String, List&lt;NewWeatherRegionCity&gt;&gt; map = newWeatherRegionCodeList</span><br><span class=\"line\">                .stream()</span><br><span class=\"line\">                .collect(Collectors.groupingBy(</span><br><span class=\"line\">                        newWeatherRegionCode -&gt; newWeatherRegionCode.getState(),</span><br><span class=\"line\">                        LinkedHashMap::new,</span><br><span class=\"line\">                        Collectors.mapping(newWeatherRegionCode -&gt; &#123;</span><br><span class=\"line\">                                    NewWeatherRegionCity regionCity = new NewWeatherRegionCity();</span><br><span class=\"line\">                                    regionCity.setCity(newWeatherRegionCode.getCity());</span><br><span class=\"line\">                                    regionCity.setRegionCode(newWeatherRegionCode.getRegionCode());</span><br><span class=\"line\">                                    regionCity.setNx(newWeatherRegionCode.getNx());</span><br><span class=\"line\">                                    regionCity.setNy(newWeatherRegionCode.getNy());</span><br><span class=\"line\">                                    <span class=\"built_in\">return</span> regionCity;</span><br><span class=\"line\">                                &#125;,</span><br><span class=\"line\">                                Collectors.toList())));</span><br><span class=\"line\"></span><br><span class=\"line\">        List&lt;NewWeatherRegionState&gt; newWeatherRegionStateList = new ArrayList&lt;&gt;();</span><br><span class=\"line\">        NewWeatherRegionState newWeatherRegionState;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (String key : map.keySet()) &#123;</span><br><span class=\"line\">            newWeatherRegionState = new NewWeatherRegionState();</span><br><span class=\"line\">            newWeatherRegionState.setState(key);</span><br><span class=\"line\">            newWeatherRegionState.setCities(map.get(key));</span><br><span class=\"line\">            newWeatherRegionStateList.add(newWeatherRegionState);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        resRegionCode.setRegionCodeList(newWeatherRegionStateList);</span><br><span class=\"line\">        response.setData(resRegionCode);</span><br><span class=\"line\">        <span class=\"built_in\">return</span> response;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 코드로 기상 정보 조회</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * @param regionCode</span><br><span class=\"line\">     * @<span class=\"built_in\">return</span></span><br><span class=\"line\">     */</span><br><span class=\"line\">    public Response requestInfoByCode(Integer regionCode) &#123;</span><br><span class=\"line\">        NewWeatherStatusDay newWeatherStatusDay = newWeatherStatusDayService.findWeatherStatusDayById(regionCode);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (newWeatherStatusDay == null) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">return</span> ErrorCode.getErrorResponse(ErrorCode.COMMON_NO_DATA);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        Response response = SuccessCode.getSuccessResponse();</span><br><span class=\"line\">        ResWeatherInfo resWeatherInfo = new ResWeatherInfo();</span><br><span class=\"line\">        resWeatherInfo.setWeatherInfo(newWeatherStatusDay);</span><br><span class=\"line\">        response.setData(resWeatherInfo);</span><br><span class=\"line\">        <span class=\"built_in\">return</span> response;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 지역 이름으로 기상 정보 조회</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * @param state</span><br><span class=\"line\">     * @param city</span><br><span class=\"line\">     * @<span class=\"built_in\">return</span></span><br><span class=\"line\">     */</span><br><span class=\"line\">    public Response requestInfoByStateAndCity(String state, String city) &#123;</span><br><span class=\"line\">        // 충북, 충남, 전북, 전남, 경북, 경남 예외처리</span><br><span class=\"line\">        String fState = BusinessLogicUtils.shortNameOfStateToFullName(state);</span><br><span class=\"line\">        NewWeatherStatusDay newWeatherStatusDay = newWeatherStatusDayService.findWeatherStatusDayByStateAndCity(</span><br><span class=\"line\">                fState, city);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (newWeatherStatusDay == null) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">return</span> ErrorCode.getErrorResponse(ErrorCode.COMMON_NO_DATA);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        Response response = SuccessCode.getSuccessResponse();</span><br><span class=\"line\">        ResWeatherInfo resWeatherInfo = new ResWeatherInfo();</span><br><span class=\"line\">        resWeatherInfo.setWeatherInfo(newWeatherStatusDay);</span><br><span class=\"line\">        response.setData(resWeatherInfo);</span><br><span class=\"line\">        <span class=\"built_in\">return</span> response;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * 기상 정보 이력 조회</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * @param reqWeatherHistory</span><br><span class=\"line\">     * @<span class=\"built_in\">return</span></span><br><span class=\"line\">     */</span><br><span class=\"line\">    public Response <span class=\"built_in\">history</span>(ReqWeatherHistory reqWeatherHistory) &#123;</span><br><span class=\"line\">        List&lt;NewWeatherStatusLog&gt; newWeatherStatusLogList = newWeatherStatusLogService.findAllWeatherStatus(</span><br><span class=\"line\">                reqWeatherHistory.getRegionCode(), reqWeatherHistory.getStartMillis(), reqWeatherHistory.getEndMillis());</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (newWeatherStatusLogList.size() == 0) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">return</span> ErrorCode.getErrorResponse(ErrorCode.COMMON_NO_DATA);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        Response response = SuccessCode.getSuccessResponse();</span><br><span class=\"line\">        response.setData(newWeatherStatusLogList);</span><br><span class=\"line\">        <span class=\"built_in\">return</span> response;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></div>\n\n\n<h3 id=\"기상청-Database-DDL\"><a href=\"#기상청-Database-DDL\" class=\"headerlink\" title=\"기상청 Database DDL\"></a>기상청 Database DDL</h3><ol>\n<li><p>Create Database</p>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/*-------------------------------------------------------------------------------------------------------------------------------------------------------</span><br><span class=\"line\">Create Database</span><br><span class=\"line\">-------------------------------------------------------------------------------------------------------------------------------------------------------*/</span><br><span class=\"line\">-- CREATE SCHEMA `WEATHER` DEFAULT CHARACTER SET utf8mb4 ;</span><br></pre></td></tr></table></figure></div>\n</li>\n<li><p>Create Table</p>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/*-------------------------------------------------------------------------------------------------------------------------------------------------------</span><br><span class=\"line\">Set Using Schema</span><br><span class=\"line\">-------------------------------------------------------------------------------------------------------------------------------------------------------*/</span><br><span class=\"line\">USE WEATHER;</span><br><span class=\"line\"> </span><br><span class=\"line\">/*-------------------------------------------------------------------------------------------------------------------------------------------------------</span><br><span class=\"line\">Drop Table</span><br><span class=\"line\">-------------------------------------------------------------------------------------------------------------------------------------------------------*/</span><br><span class=\"line\">DROP TABLE IF EXISTS `KMA_WEATHER_STATUS_DAY`;</span><br><span class=\"line\">DROP TABLE IF EXISTS `KMA_WEATHER_STATUS_YDAY`;</span><br><span class=\"line\">DROP TABLE IF EXISTS `KMA_WEATHER_STATUS_LOG`;</span><br><span class=\"line\">DROP TABLE IF EXISTS `WEATHER_VERSION`;</span><br><span class=\"line\">DROP TABLE IF EXISTS `KMA_WEATHER_REGION_CD`;</span><br><span class=\"line\"> </span><br><span class=\"line\">DROP TABLE IF EXISTS `APP_UPDATE`;</span><br><span class=\"line\">DROP TABLE IF EXISTS `APP_DOCUMENTS`;</span><br><span class=\"line\">DROP TABLE IF EXISTS `SERVER_MAINTENANCE`;</span><br><span class=\"line\"> </span><br><span class=\"line\">/*-------------------------------------------------------------------------------------------------------------------------------------------------------</span><br><span class=\"line\">Create Table</span><br><span class=\"line\">-------------------------------------------------------------------------------------------------------------------------------------------------------*/</span><br><span class=\"line\">CREATE TABLE `KMA_WEATHER_REGION_CD` (</span><br><span class=\"line\">    `REGION_CODE`   int(11) NOT NULL,</span><br><span class=\"line\">    `STATE` varchar(20) NOT NULL,</span><br><span class=\"line\">    `CITY`  varchar(20) NOT NULL,</span><br><span class=\"line\">    `DONG`  varchar(20) NULL,</span><br><span class=\"line\">    `NX`    smallint(4) NOT NULL,</span><br><span class=\"line\">    `NY`    smallint(4) NOT NULL,</span><br><span class=\"line\">    `REGISTER_AT`   timestamp(3)    NOT NULL,</span><br><span class=\"line\">    `LAST_MODIFY_AT`    timestamp(3)    NOT NULL    DEFAULT CURRENT_TIMESTAMP(3)</span><br><span class=\"line\">) default charset=utf8mb4 collate=utf8mb4_general_ci;</span><br><span class=\"line\"> </span><br><span class=\"line\">CREATE TABLE `KMA_WEATHER_STATUS_DAY` (</span><br><span class=\"line\">    `REGION_CODE`   int(11) NOT NULL,</span><br><span class=\"line\">    `STATE` varchar(20) NOT NULL,</span><br><span class=\"line\">    `CITY`  varchar(20) NOT NULL,</span><br><span class=\"line\">    `DONG`  varchar(20) NOT NULL,</span><br><span class=\"line\">    `T1H`   varchar(10) NOT NULL,</span><br><span class=\"line\">    `RN1`   varchar(10) NOT NULL,</span><br><span class=\"line\">    `SKY`   varchar(10) NOT NULL,</span><br><span class=\"line\">    `UUU`   varchar(10) NOT NULL,</span><br><span class=\"line\">    `VVV`   varchar(10) NOT NULL,</span><br><span class=\"line\">    `REH`   varchar(10) NOT NULL,</span><br><span class=\"line\">    `PTY`   varchar(10) NOT NULL,</span><br><span class=\"line\">    `LGT`   varchar(10) NOT NULL,</span><br><span class=\"line\">    `VEC`   varchar(10) NOT NULL,</span><br><span class=\"line\">    `WSD`   varchar(10) NOT NULL,</span><br><span class=\"line\">    `REGISTER_AT`   timestamp(3)    NOT NULL,</span><br><span class=\"line\">    `LAST_MODIFY_AT`    timestamp(3)    NOT NULL    DEFAULT CURRENT_TIMESTAMP(3)</span><br><span class=\"line\">) default charset=utf8mb4 collate=utf8mb4_general_ci;</span><br><span class=\"line\"> </span><br><span class=\"line\">CREATE TABLE `KMA_WEATHER_STATUS_YDAY` (</span><br><span class=\"line\">    `REGION_CODE`   int(11) NOT NULL,</span><br><span class=\"line\">    `STATE` varchar(20) NOT NULL,</span><br><span class=\"line\">    `CITY`  varchar(20) NOT NULL,</span><br><span class=\"line\">    `DONG`  varchar(20) NOT NULL,</span><br><span class=\"line\">    `TODAY_TEMP`    decimal(3,1)    NULL,</span><br><span class=\"line\">    `YESTERDAY_TEMP`    decimal(3,1)    NULL,</span><br><span class=\"line\">    `TEMP_DIFF` decimal(3,1)    NULL,</span><br><span class=\"line\">    `REGISTER_AT`   timestamp(3)    NOT NULL,</span><br><span class=\"line\">    `LAST_MODIFY_AT`    timestamp(3)    NOT NULL    DEFAULT CURRENT_TIMESTAMP(3)</span><br><span class=\"line\">) default charset=utf8mb4 collate=utf8mb4_general_ci;</span><br><span class=\"line\"> </span><br><span class=\"line\">CREATE TABLE `WEATHER_VERSION` (</span><br><span class=\"line\">    `SERVICE_SEQ`   int(11) NOT NULL auto_increment COMMENT <span class=\"string\">'Auto Increment'</span>,</span><br><span class=\"line\">    `SERVICE_NAME`  varchar(100)    NULL,</span><br><span class=\"line\">    `SERVICE_VERSION`   varchar(100)    NULL,</span><br><span class=\"line\">    `DESCRIPTION`   varchar(100)    NULL,</span><br><span class=\"line\">    `REGISTER_AT`   timestamp(3)    NOT NULL,</span><br><span class=\"line\">    `LAST_MODIFY_AT`    timestamp(3)    NOT NULL    DEFAULT CURRENT_TIMESTAMP(3),</span><br><span class=\"line\">     CONSTRAINT `PK_WEATHER_VERSION` PRIMARY KEY (`SERVICE_SEQ`)</span><br><span class=\"line\">) default charset=utf8mb4 collate=utf8mb4_general_ci;</span><br><span class=\"line\"> </span><br><span class=\"line\">CREATE TABLE `KMA_WEATHER_STATUS_LOG` (</span><br><span class=\"line\">    `REGISTER_AT`   timestamp(3)    NOT NULL,</span><br><span class=\"line\">    `REGION_CODE`   int(11) NOT NULL,</span><br><span class=\"line\">    `STATE` varchar(20) NOT NULL,</span><br><span class=\"line\">    `CITY`  varchar(20) NOT NULL,</span><br><span class=\"line\">    `DONG`  varchar(20) NOT NULL,</span><br><span class=\"line\">    `T1H`   varchar(10) NOT NULL,</span><br><span class=\"line\">    `RN1`   varchar(10) NOT NULL,</span><br><span class=\"line\">    `SKY`   varchar(10) NOT NULL,</span><br><span class=\"line\">    `UUU`   varchar(10) NOT NULL,</span><br><span class=\"line\">    `VVV`   varchar(10) NOT NULL,</span><br><span class=\"line\">    `REH`   varchar(10) NOT NULL,</span><br><span class=\"line\">    `PTY`   varchar(10) NOT NULL,</span><br><span class=\"line\">    `LGT`   varchar(10) NOT NULL,</span><br><span class=\"line\">    `VEC`   varchar(10) NOT NULL,</span><br><span class=\"line\">    `WSD`   varchar(10) NOT NULL</span><br><span class=\"line\">) default charset=utf8mb4 collate=utf8mb4_general_ci;</span><br><span class=\"line\"> </span><br><span class=\"line\">CREATE TABLE `APP_UPDATE` (</span><br><span class=\"line\">    `APP_TARGET`    varchar(100)    NOT NULL,</span><br><span class=\"line\">    `APP_OS_TYPE`   tinyint(1)  NOT NULL,</span><br><span class=\"line\">    `APP_VERSION`   varchar(100)    NOT NULL,</span><br><span class=\"line\">    `FORCE_UPDATE`  tinyint(1)  NOT NULL,</span><br><span class=\"line\">    `REGISTER_AT`   timestamp(3)    NOT NULL,</span><br><span class=\"line\">    `LAST_MODIFY_AT`    timestamp(3)    NOT NULL    DEFAULT CURRENT_TIMESTAMP(3)</span><br><span class=\"line\">) default charset=utf8mb4 collate=utf8mb4_general_ci;</span><br><span class=\"line\"> </span><br><span class=\"line\">CREATE TABLE `APP_DOCUMENTS` (</span><br><span class=\"line\">    `SERVICE_CODE`  int(11) NOT NULL,</span><br><span class=\"line\">    `DOC_TYPE`  varchar(1)  NOT NULL    COMMENT <span class=\"string\">'문서 구분(P:개인정보취급방침, T:이용약관)'</span>,</span><br><span class=\"line\">    `REGISTER_AT`   timestamp(3)    NOT NULL,</span><br><span class=\"line\">    `DOC_TITLE` varchar(100)    NOT NULL,</span><br><span class=\"line\">    `DOC_CONTENTS`  text    NOT NULL    COMMENT <span class=\"string\">'앱에 표시'</span>,</span><br><span class=\"line\">    `LAST_MODIFY_AT`    timestamp(3)    NOT NULL    DEFAULT CURRENT_TIMESTAMP(3)</span><br><span class=\"line\">) default charset=utf8mb4 collate=utf8mb4_general_ci;</span><br><span class=\"line\"> </span><br><span class=\"line\">CREATE TABLE `SERVER_MAINTENANCE` (</span><br><span class=\"line\">    `SM_SEQ`    int(11) NOT NULL  auto_increment    COMMENT <span class=\"string\">'Auto Increment'</span>,</span><br><span class=\"line\">    `SM_YN` tinyint(1)  NOT NULL,</span><br><span class=\"line\">    `SM_TITLE`  varchar(100)    NULL,</span><br><span class=\"line\">    `SM_MSG`    varchar(100)    NULL,</span><br><span class=\"line\">    `SM_PERIOD` varchar(100)    NULL,</span><br><span class=\"line\">    `REGISTER_AT`   timestamp(3)    NOT NULL,</span><br><span class=\"line\">    `LAST_MODIFY_AT`    timestamp(3)    NOT NULL    DEFAULT CURRENT_TIMESTAMP(3),</span><br><span class=\"line\">    CONSTRAINT `PK_SERVER_MAINTENANCE` PRIMARY KEY (`SM_SEQ`)</span><br><span class=\"line\">) default charset=utf8mb4 collate=utf8mb4_general_ci;</span><br></pre></td></tr></table></figure></div></li>\n</ol>\n","text":"2016년 C#에 이어 Python으로 개발을 진행했었다.<br>특별한 시나리오는 없다.AWS Cloudwatch의 CRON 설정을 통해 매 시간 전국의 날씨 상황정보를 받아옴.DataBase에 저장API를 통하여 날씨 정보를 제공(추후) TAC 청정","link":"","raw":null,"photos":[],"categories":[{"name":"tip","slug":"tip","count":23,"path":"api/categories/tip.json"}],"tags":[{"name":"기상청","slug":"기상청","count":1,"path":"api/tags/기상청.json"},{"name":"Weather","slug":"Weather","count":1,"path":"api/tags/Weather.json"},{"name":"API","slug":"API","count":1,"path":"api/tags/API.json"}]},{"title":"Git Hub 설정","slug":"github-useage","date":"2020-04-29T06:39:58.000Z","updated":"2020-11-20T05:09:48.758Z","comments":true,"pin":null,"path":"api/articles/github-useage.json","excerpt":"","keywords":null,"cover":null,"content":"<h1 id=\"—-GitHub-Pages-만들기-—\"><a href=\"#—-GitHub-Pages-만들기-—\" class=\"headerlink\" title=\"— GitHub Pages 만들기 —\"></a>— GitHub Pages 만들기 —</h1><p>참고 : <a href=\"https://pages.github.com/\" target=\"_blank\" rel=\"noopener\">https://pages.github.com/</a></p>\n<h3 id=\"1-Github-Repository-생성\"><a href=\"#1-Github-Repository-생성\" class=\"headerlink\" title=\"1) Github Repository 생성\"></a>1) Github Repository 생성</h3><ol>\n<li>New repository 버튼 클릭</li>\n<li>Repository name 입력 : arcjjang.github.io</li>\n<li>Public 선택</li>\n<li>Create repository 버튼 클릭</li>\n</ol>\n<h3 id=\"2-터미널에서-Clone-the-repository\"><a href=\"#2-터미널에서-Clone-the-repository\" class=\"headerlink\" title=\"2) 터미널에서 Clone the repository\"></a>2) 터미널에서 Clone the repository</h3><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ git <span class=\"built_in\">clone</span> https://github.com/arcjjang/arcjjang.github.io.git</span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"3-Hello-World\"><a href=\"#3-Hello-World\" class=\"headerlink\" title=\"3) Hello World\"></a>3) Hello World</h3><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ <span class=\"built_in\">cd</span> arcjjang.github.io</span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"string\">\"Hello World\"</span> &gt; index.html</span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"4-Push-it\"><a href=\"#4-Push-it\" class=\"headerlink\" title=\"4) Push it\"></a>4) Push it</h3><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ git add --all</span><br><span class=\"line\">$ git commit -m <span class=\"string\">\"Initial commit\"</span></span><br><span class=\"line\">$ git push -u origin master</span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"5-go-to-https-arcjjang-github-io\"><a href=\"#5-go-to-https-arcjjang-github-io\" class=\"headerlink\" title=\"5) go to https://arcjjang.github.io\"></a>5) go to <em><a href=\"https://arcjjang.github.io\" target=\"_blank\" rel=\"noopener\">https://arcjjang.github.io</a></em></h3><h1 id=\"—-Hexo-적용하기-—\"><a href=\"#—-Hexo-적용하기-—\" class=\"headerlink\" title=\"— Hexo 적용하기 —\"></a>— Hexo 적용하기 —</h1><p>참고 : <a href=\"https://hexo.io/ko/index.html\" target=\"_blank\" rel=\"noopener\">https://hexo.io/ko/index.html</a></p>\n<h3 id=\"1-Hexo-설치-및-생성\"><a href=\"#1-Hexo-설치-및-생성\" class=\"headerlink\" title=\"1) Hexo 설치 및 생성\"></a>1) Hexo 설치 및 생성</h3><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm install hexo-cli -g</span><br><span class=\"line\">$ hexo init blog</span><br><span class=\"line\">$ <span class=\"built_in\">cd</span> blog</span><br><span class=\"line\">$ npm install</span><br><span class=\"line\">$ npm install hexo-deployer-git --save &lt;-- Git으로 배포하는 경우 설치</span><br><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"2-Hexo-환경파일-수정\"><a href=\"#2-Hexo-환경파일-수정\" class=\"headerlink\" title=\"2) Hexo 환경파일 수정\"></a>2) Hexo 환경파일 수정</h3><p>/_config.yml</p>\n<h4 id=\"2-1-Site-설정\"><a href=\"#2-1-Site-설정\" class=\"headerlink\" title=\"2-1) Site 설정\"></a>2-1) Site 설정</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"YML\"><figure class=\"iseeu highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Site</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">Coder`s</span> <span class=\"string\">Frontline</span></span><br><span class=\"line\"><span class=\"attr\">subtitle:</span> <span class=\"string\">For</span> <span class=\"string\">my</span> <span class=\"string\">poor</span> <span class=\"string\">memory...</span></span><br><span class=\"line\"><span class=\"attr\">description:</span> <span class=\"string\">나만을</span> <span class=\"string\">위한,</span> <span class=\"string\">나의</span> <span class=\"string\">불쌍한(?)</span> <span class=\"string\">기억력을</span> <span class=\"string\">위한</span> <span class=\"string\">지식</span> <span class=\"string\">저장소</span></span><br><span class=\"line\"><span class=\"attr\">author:</span> <span class=\"string\">arcjjang</span></span><br><span class=\"line\"><span class=\"attr\">language:</span></span><br><span class=\"line\"><span class=\"attr\">timezone:</span></span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"2-2-URL-설정\"><a href=\"#2-2-URL-설정\" class=\"headerlink\" title=\"2-2) URL 설정\"></a>2-2) URL 설정</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"YML\"><figure class=\"iseeu highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># URL</span></span><br><span class=\"line\"><span class=\"attr\">url:</span> <span class=\"string\">https://arcjjang.github.io</span></span><br><span class=\"line\"><span class=\"attr\">root:</span> <span class=\"string\">/</span></span><br><span class=\"line\"><span class=\"attr\">permalink:</span> <span class=\"string\">:year/:month/:day/:title/</span></span><br><span class=\"line\"><span class=\"attr\">permalink_defaults:</span></span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"2-3-배포-설정\"><a href=\"#2-3-배포-설정\" class=\"headerlink\" title=\"2-3) 배포 설정\"></a>2-3) 배포 설정</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"YML\"><figure class=\"iseeu highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Deployment</span></span><br><span class=\"line\"><span class=\"attr\">deploy:</span></span><br><span class=\"line\">  <span class=\"attr\">type:</span> <span class=\"string\">git</span></span><br><span class=\"line\">  <span class=\"attr\">repo:</span> <span class=\"string\">https://github.com/arcjjang/arcjjang.github.io.git</span></span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"3-로컬에서-서버-실행하기\"><a href=\"#3-로컬에서-서버-실행하기\" class=\"headerlink\" title=\"3) 로컬에서 서버 실행하기\"></a>3) 로컬에서 서버 실행하기</h3><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"YML\"><figure class=\"iseeu highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">$</span> <span class=\"string\">hexo</span> <span class=\"string\">server</span></span><br></pre></td></tr></table></figure></div>\n<p>go to <a href=\"http://localhost:4000/\" target=\"_blank\" rel=\"noopener\">http://localhost:4000/</a></p>\n<h3 id=\"4-배포하기\"><a href=\"#4-배포하기\" class=\"headerlink\" title=\"4) 배포하기\"></a>4) 배포하기</h3><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"YML\"><figure class=\"iseeu highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">$</span> <span class=\"string\">hexo</span> <span class=\"string\">clean</span></span><br><span class=\"line\"><span class=\"string\">$</span> <span class=\"string\">hexo</span> <span class=\"string\">deploy</span> <span class=\"string\">--generate</span></span><br></pre></td></tr></table></figure></div>\n\n<p>※ windows 환경에서 deploy중에 username error가 나면 윈도우자격증명을 다시 설정</p>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ git config --global credential.helper wincred</span><br></pre></td></tr></table></figure></div>\n\n<h1 id=\"—-테마-적용하기-—\"><a href=\"#—-테마-적용하기-—\" class=\"headerlink\" title=\"— 테마 적용하기 —\"></a>— 테마 적용하기 —</h1><p>테마 종류 : <a href=\"https://hexo.io/themes/\" target=\"_blank\" rel=\"noopener\">https://hexo.io/themes/</a></p>\n<h3 id=\"1-테마-설치\"><a href=\"#1-테마-설치\" class=\"headerlink\" title=\"1) 테마 설치\"></a>1) 테마 설치</h3><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"YML\"><figure class=\"iseeu highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">$</span> <span class=\"string\">cd</span> <span class=\"string\">themes</span></span><br><span class=\"line\"><span class=\"string\">$</span> <span class=\"string\">git</span> <span class=\"string\">clone</span> <span class=\"string\">https://github.com/klugjo/hexo-theme-clean-blog.git</span> <span class=\"string\">clean-blog</span></span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"2-테마-설정하기\"><a href=\"#2-테마-설정하기\" class=\"headerlink\" title=\"2) 테마 설정하기\"></a>2) 테마 설정하기</h3><blockquote>\n<p>/clean-blog/_config.yml</p>\n</blockquote>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"YML\"><figure class=\"iseeu highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Header</span></span><br><span class=\"line\"><span class=\"attr\">menu:</span></span><br><span class=\"line\">  <span class=\"attr\">Home:</span> <span class=\"string\">/</span></span><br><span class=\"line\">  <span class=\"attr\">Archives:</span> <span class=\"string\">/archives</span></span><br><span class=\"line\">  <span class=\"attr\">Tags:</span> <span class=\"string\">/tags</span></span><br><span class=\"line\">  <span class=\"attr\">Categories:</span> <span class=\"string\">/categories</span></span><br><span class=\"line\">  <span class=\"attr\">Github:</span></span><br><span class=\"line\">    <span class=\"attr\">url:</span> <span class=\"string\">https://github.com/arcjjang</span></span><br><span class=\"line\">    <span class=\"attr\">icon:</span> <span class=\"string\">github</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Title on top left of menu. Leave empty to use main blog title</span></span><br><span class=\"line\"><span class=\"attr\">menu_title:</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># URL of the Home page image</span></span><br><span class=\"line\"><span class=\"attr\">index_cover:</span> <span class=\"string\">/images/topimage.jpg</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Social Accounts</span></span><br><span class=\"line\"><span class=\"attr\">twitter_url:</span></span><br><span class=\"line\"><span class=\"attr\">twitter_handle:</span></span><br><span class=\"line\"><span class=\"attr\">facebook_url:</span></span><br><span class=\"line\"><span class=\"attr\">github_url:</span> <span class=\"string\">https://github.com/arcjjang</span></span><br><span class=\"line\"><span class=\"attr\">gitlab_url:</span></span><br><span class=\"line\"><span class=\"attr\">linkedin_url:</span></span><br><span class=\"line\"><span class=\"attr\">mailto:</span> <span class=\"string\">arcelias@naver.com</span></span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"3-Tags-페이지-만들기\"><a href=\"#3-Tags-페이지-만들기\" class=\"headerlink\" title=\"3) Tags 페이지 만들기\"></a>3) Tags 페이지 만들기</h3><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ <span class=\"built_in\">cd</span> ..</span><br><span class=\"line\">$ hexo new page <span class=\"string\">\"tags\"</span></span><br></pre></td></tr></table></figure></div>\n\n<p>/source/tags/index.md 파일 수정</p>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"PLAIN\"><figure class=\"iseeu highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">title: All tags</span><br><span class=\"line\">type: &quot;tags&quot;</span><br><span class=\"line\">---</span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"4-Categories-페이지-만들기\"><a href=\"#4-Categories-페이지-만들기\" class=\"headerlink\" title=\"4) Categories 페이지 만들기\"></a>4) Categories 페이지 만들기</h3><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new page <span class=\"string\">\"categories\"</span></span><br></pre></td></tr></table></figure></div>\n\n<p>/source/categories/index.md 파일 수정</p>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"PLAIN\"><figure class=\"iseeu highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">title: All categories</span><br><span class=\"line\">type: &quot;categories&quot;</span><br><span class=\"line\">---</span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"5-테마-선택하기\"><a href=\"#5-테마-선택하기\" class=\"headerlink\" title=\"5) 테마 선택하기\"></a>5) 테마 선택하기</h3><blockquote>\n<p>/_config.yml 파일</p>\n</blockquote>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"PLAIN\"><figure class=\"iseeu highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">theme: clean-blog</span><br></pre></td></tr></table></figure></div>\n\n<h1 id=\"—-Post-쓰기-—\"><a href=\"#—-Post-쓰기-—\" class=\"headerlink\" title=\"— Post 쓰기 —\"></a>— Post 쓰기 —</h1><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new post 포스트명</span><br></pre></td></tr></table></figure></div>\n\n<p>/source/posts/포스트명.md 파일 수정</p>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"PLAIN\"><figure class=\"iseeu highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">title: Github Pages + Hexo</span><br><span class=\"line\">date: 2018-02-02 14:13:10</span><br><span class=\"line\">tags: [github, hexo]</span><br><span class=\"line\">cover: # post cover image</span><br><span class=\"line\">categories: [blog]</span><br><span class=\"line\">subtitle: 나만의 블러그를 만들어보자.</span><br><span class=\"line\">---</span><br></pre></td></tr></table></figure></div>\n\n<p>참고 : <a href=\"https://guides.github.com/features/mastering-markdown/\" target=\"_blank\" rel=\"noopener\">https://guides.github.com/features/mastering-markdown/</a></p>\n<h2 id=\"오류시-아래-사이트-참조-권한\"><a href=\"#오류시-아래-사이트-참조-권한\" class=\"headerlink\" title=\"오류시 아래 사이트 참조(권한)\"></a>오류시 아래 사이트 참조(권한)</h2><p><a href=\"https://m.blog.naver.com/10hsb04/221730667623\" target=\"_blank\" rel=\"noopener\">https://m.blog.naver.com/10hsb04/221730667623</a></p>\n<ul>\n<li>Get-ExecutionPolicy</li>\n<li>Set-ExecutionPolicy Bypass</li>\n</ul>\n","text":"— GitHub Pages 만들기 —참고 : https://pages.github.com/1) Github Repository 생성New repository 버튼 클릭Repository name 입력 : arcjjang.github.ioPublic 선","link":"","raw":null,"photos":[],"categories":[{"name":"tip","slug":"tip","count":23,"path":"api/categories/tip.json"}],"tags":[{"name":"Hexo","slug":"Hexo","count":1,"path":"api/tags/Hexo.json"},{"name":"GITHUB","slug":"GITHUB","count":1,"path":"api/tags/GITHUB.json"}]},{"title":"iotCore","slug":"iotCore","date":"2020-05-05T23:47:30.000Z","updated":"2020-05-11T01:14:12.653Z","comments":true,"pin":null,"path":"api/articles/iotCore.json","excerpt":"","keywords":null,"cover":"https://user-images.githubusercontent.com/62123161/81146079-8d8cff80-8fb2-11ea-9c70-659a95ce13a1.png","content":"<h2 id=\"개발환경-구축\"><a href=\"#개발환경-구축\" class=\"headerlink\" title=\"개발환경 구축\"></a>개발환경 구축</h2><p>※ 기본 개발환경</p>\n<ul>\n<li>IntelliJ</li>\n<li>Java, Spring</li>\n<li>AWS Console</li>\n</ul>\n<h2 id=\"IoT-Core-설명\"><a href=\"#IoT-Core-설명\" class=\"headerlink\" title=\"IoT Core 설명\"></a>IoT Core 설명</h2><ol>\n<li>AWS IoT Core는 커넥티드 디바이스가 쉽고 안전하게 클라우드 애플리케이션 및 다른 디바이스와 상호 작용할 수 있게 해주는 관리형 클라우드 서비스입니다. AWS IoT Core는 수십억 개의 디바이스와 수조 건의 메시지를 지원하며, 안전하고 안정적으로 이러한 메시지를 처리하여 AWS 엔드포인트 및 다른 디바이스로 라우팅할 수 있습니다. AWS IoT Core의 경우, 디바이스가 연결되어 있지 않더라도 언제나 애플리케이션에서 모든 디바이스를 추적하고 디바이스와 통신할 수 있습니다.</li>\n<li>또한 AWS IoT Core를 사용하면 인프라를 관리할 필요 없이, AWS Lambda, Amazon Kinesis, Amazon S3, Amazon SageMaker, Amazon DynamoDB, Amazon CloudWatch, AWS CloudTrail, Amazon QuickSight 및 Alexa Voice Service와 같은 AWS 및 Amazon 서비스를 사용하여, 커넥티드 디바이스에서 생성한 데이터를 수집, 처리 및 분석하고 이를 기반으로 운영하는 IoT 애플리케이션을 손쉽게 구축할 수 있습니다.</li>\n<li>현재 경동에서는 AWS IoT Core 플랫폼을 Converter쪽에서 주로 컨트롤 하고 있다.(자세한 설명은 생략한다..) </li>\n</ol>\n<p><a href=\"https://user-images.githubusercontent.com/62123161/81146079-8d8cff80-8fb2-11ea-9c70-659a95ce13a1.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81146079-8d8cff80-8fb2-11ea-9c70-659a95ce13a1.png\" alt=\"iotcore_01\"></a><br><em>초기화면 - 전체 디바이스에 대한 현황을 보여준다.</em></p>\n<ul>\n<li>기존 다른 서비스와 다른 점으로는 하나의 플랫폼이 모든 서비스의 디바이스를 관리한다는 점. (서비스별로 그룹화 불가능 / 물론, Additional Value로 값을 지정할 수는 있음.)</li>\n<li>경동은 Manage, Secure, Act, Test 네가지 속성만을 사용한다. (Setting은 무시 ㅡㅡ;)</li>\n</ul>\n<h3 id=\"1-Manage\"><a href=\"#1-Manage\" class=\"headerlink\" title=\"1) Manage\"></a>1) Manage</h3><h4 id=\"Things\"><a href=\"#Things\" class=\"headerlink\" title=\"Things\"></a>Things</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81146081-8e259600-8fb2-11ea-91dc-6815331e657f.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81146081-8e259600-8fb2-11ea-91dc-6815331e657f.png\" alt=\"iotcore_02\"></a></p>\n<ul>\n<li>Things는 디바이스 전체가 나오는 화면 / 검색을 통하여 특정 디바이스를 찾을 수 있으며, 연결이 됬는지 안됬는지 확인할 수 있다.(명령어 예-  connectivity.connected:true)</li>\n</ul>\n<h4 id=\"Type\"><a href=\"#Type\" class=\"headerlink\" title=\"Type\"></a>Type</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81146082-8e259600-8fb2-11ea-9f1f-1b7b523a9f28.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81146082-8e259600-8fb2-11ea-9f1f-1b7b523a9f28.png\" alt=\"iotcore_03\"></a></p>\n<ul>\n<li>디바이스 별로 Section을 구분할 수 없기에 Type으로 지정할 수 있다.</li>\n</ul>\n<h4 id=\"Thing-groups\"><a href=\"#Thing-groups\" class=\"headerlink\" title=\"Thing groups\"></a>Thing groups</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81146071-8b2aa580-8fb2-11ea-9dee-0fff15dabd08.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81146071-8b2aa580-8fb2-11ea-9dee-0fff15dabd08.png\" alt=\"iotcore_04\"></a></p>\n<ul>\n<li>현재는 스마트톡 밖에 없지만, 향후 서비스별로 추가가 될 예정이다.</li>\n</ul>\n<h4 id=\"Secure\"><a href=\"#Secure\" class=\"headerlink\" title=\"Secure\"></a>Secure</h4><h5 id=\"Certificates\"><a href=\"#Certificates\" class=\"headerlink\" title=\"Certificates\"></a>Certificates</h5><p><a href=\"https://user-images.githubusercontent.com/62123161/81146073-8c5bd280-8fb2-11ea-992d-b30143ac216c.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81146073-8c5bd280-8fb2-11ea-992d-b30143ac216c.png\" alt=\"iotcore_05\"></a></p>\n<ul>\n<li>IoT Core의 꽃이다. 인증서는 각 디바이스별로 갖고있으며, 인증서가 있어야만 Things에 등록될 수 있다.</li>\n<li>반대로 얘기하면 인증서가 없이는 어떤 디바이스라도(실제 우리제품이라고 하더라도) 등록이 안된다는 소리이며</li>\n<li>이 얘기를 조금 더 풀어 해석한다면, 관리가 철저해야 한다는 것이다. 인증서 잃어버리는 순간 모든 디바이스가 접속불가 상태가 발생할 수 있다.</li>\n</ul>\n<h5 id=\"Policies\"><a href=\"#Policies\" class=\"headerlink\" title=\"Policies\"></a>Policies</h5><p><a href=\"https://user-images.githubusercontent.com/62123161/81146074-8c5bd280-8fb2-11ea-8f0c-f8c31f10cd69.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81146074-8c5bd280-8fb2-11ea-8f0c-f8c31f10cd69.png\" alt=\"iotcore_06\"></a></p>\n<ul>\n<li>정책이다. 화면 하단의 Json처럼 접근에 대한 권한을 지정할 수 있다. 아직 IAM 권한에 대해 완벽하게 공부하지 않아서, 연습때문에 모든 권한을 풀어둔 상태다. 나중에는 수정해야한다.</li>\n<li>정책에서 연결된 인증서 관리도 가능하다. </li>\n<li>(인증서-정책)은 하나의 쌍이다. 둘 중 하나라도 없으면 서비스가 돌아가지 않는다.</li>\n</ul>\n<h4 id=\"Act\"><a href=\"#Act\" class=\"headerlink\" title=\"Act\"></a>Act</h4><h5 id=\"Rules\"><a href=\"#Rules\" class=\"headerlink\" title=\"Rules\"></a>Rules</h5><p><a href=\"https://user-images.githubusercontent.com/62123161/81146075-8cf46900-8fb2-11ea-89a0-1b77f260ecba.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81146075-8cf46900-8fb2-11ea-89a0-1b77f260ecba.png\" alt=\"iotcore_07\"></a></p>\n<ul>\n<li>위에서 디바이스쪽의 꽃이 인증서였다면, 서버쪽의 꽃은 바로 이 Rule Engine이다.</li>\n<li>기본 Rule은 쿼리 시스템으로 움직인다. MQTT 기준 Topic주제를 통해서 들어오는 데이터는 모두 Rule Engine을 거친다고 보면된다.</li>\n<li>따라서, 디바이스에서 보내는 신호를 어떻게 처리할지 마음대로 정해줄 수 있다. (INPUT / OUTPUT 데이터 모두 컨트롤이 가능하다.)</li>\n</ul>\n<h4 id=\"Test\"><a href=\"#Test\" class=\"headerlink\" title=\"Test\"></a>Test</h4><p><a href=\"https://user-images.githubusercontent.com/62123161/81146077-8cf46900-8fb2-11ea-87f0-60331ea24adb.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/81146077-8cf46900-8fb2-11ea-87f0-60331ea24adb.png\" alt=\"iotcore_08\"></a></p>\n<ul>\n<li>직접 써보기 바란다. 더 이상의 설명은 생략함.</li>\n<li>힌트 : MQTT라고 써져있듯이 Topic을 통한 Pub/Sub 구조임. Topic을 Sub한 상태로 아래 Pub에 데이터를 싣어서 보내면 수신함.(뭔가 다 알려준거같은데…. 그래도모르면 질문….)</li>\n</ul>\n<h3 id=\"2-소스\"><a href=\"#2-소스\" class=\"headerlink\" title=\"2) 소스\"></a>2) 소스</h3><ul>\n<li>100줄도 안된다. (기타 자체 참조가 좀 들어가있지만, 그냥 보고 쓰기엔 나쁘지 않을 것이다.)</li>\n<li>그리고, 당연한 얘기지만 IoT Core는 Full Managing System이다. 따라서, Create Things만 있다.<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">LambdaLogger logger = context.getLogger();</span><br><span class=\"line\">ResponseCreateThings responseCreateThings = new ResponseCreateThings();</span><br><span class=\"line\">try&#123;</span><br><span class=\"line\">    logger.log(<span class=\"string\">\"Start CreateThings\"</span>);</span><br><span class=\"line\">    SecretManagerHelper.getInstance();</span><br><span class=\"line\"> </span><br><span class=\"line\">    String queryString = String.format(<span class=\"string\">\"thingName:roomcon-%s\"</span>, request.macAddress);</span><br><span class=\"line\">    GetStatisticsRequest getStatisticsRequest = new GetStatisticsRequest().withQueryString(queryString);</span><br><span class=\"line\">    GetStatisticsResult result = AWSIoTHelper.getInstance().getAWSIot().getStatistics(getStatisticsRequest);</span><br><span class=\"line\"> </span><br><span class=\"line\">    Map&lt;String, String&gt; attributes = new HashMap&lt;String, String&gt;();</span><br><span class=\"line\">    attributes.put(<span class=\"string\">\"ADDITIONAL_VALUE\"</span>, request.additionalValue);</span><br><span class=\"line\">    attributes.put(<span class=\"string\">\"THINGS_TYPE\"</span>, request.thingsType);</span><br><span class=\"line\">    AttributePayload attributePayload = new AttributePayload().withAttributes(attributes);//.addAttributesEntry(<span class=\"string\">\"ADDITIONAL_VALUE\"</span>, request.additionalValue);</span><br><span class=\"line\"> </span><br><span class=\"line\">    String thingName = String.format(<span class=\"string\">\"roomcon-%s\"</span>, request.macAddress);</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(result.getStatistics().getCount() == 0)&#123;</span><br><span class=\"line\">        String groupName = <span class=\"string\">\"etc\"</span>;</span><br><span class=\"line\">        String secureArn = Config.IOT_CORE_NODE.path(<span class=\"string\">\"IOT_CORE_SECURE_1ST_ARN\"</span>).asText();</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(request.thingsType.equals(<span class=\"string\">\"001\"</span>))&#123;</span><br><span class=\"line\">            groupName = <span class=\"string\">\"nr-30d\"</span>;</span><br><span class=\"line\">            secureArn = Config.IOT_CORE_NODE.path(<span class=\"string\">\"IOT_CORE_SECURE_1ST_ARN\"</span>).asText();</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(request.thingsType.equals(<span class=\"string\">\"002\"</span>))&#123;</span><br><span class=\"line\">            groupName = <span class=\"string\">\"nr-35d\"</span>;</span><br><span class=\"line\">            secureArn = Config.IOT_CORE_NODE.path(<span class=\"string\">\"IOT_CORE_SECURE_2ND_ARN\"</span>).asText();</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(request.thingsType.equals(<span class=\"string\">\"003\"</span>))&#123;</span><br><span class=\"line\">            groupName = <span class=\"string\">\"nr-40d\"</span>;</span><br><span class=\"line\">            secureArn = Config.IOT_CORE_NODE.path(<span class=\"string\">\"IOT_CORE_SECURE_2ND_ARN\"</span>).asText();</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(request.thingsType.equals(<span class=\"string\">\"011\"</span>))&#123;</span><br><span class=\"line\">            groupName = <span class=\"string\">\"nrm-35d\"</span>;</span><br><span class=\"line\">            secureArn = Config.IOT_CORE_NODE.path(<span class=\"string\">\"IOT_CORE_SECURE_2ND_ARN\"</span>).asText();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">        CreateThingRequest createThingRequest = new CreateThingRequest()</span><br><span class=\"line\">                .withThingName(thingName)</span><br><span class=\"line\">                .withAttributePayload(attributePayload)</span><br><span class=\"line\">                .withThingTypeName(<span class=\"string\">\"RoomController\"</span>);</span><br><span class=\"line\">        CreateThingResult createThingResult = AWSIoTHelper.getInstance().getAWSIot().createThing(createThingRequest);</span><br><span class=\"line\"> </span><br><span class=\"line\">        AddThingToThingGroupRequest addThingToThingGroupRequest = new AddThingToThingGroupRequest()</span><br><span class=\"line\">                .withThingArn(Config.IOT_CORE_NODE.path(<span class=\"string\">\"IOT_CORE_THINGS_ARN\"</span>).asText() + thingName)</span><br><span class=\"line\">                .withThingGroupArn(Config.IOT_CORE_NODE.path(<span class=\"string\">\"IOT_CORE_GROUP_ARN\"</span>).asText() + groupName)</span><br><span class=\"line\">                .withThingGroupName(groupName)</span><br><span class=\"line\">                .withThingName(thingName);</span><br><span class=\"line\">        AddThingToThingGroupResult addThingToThingGroupResult = AWSIoTHelper.getInstance().getAWSIot().addThingToThingGroup(addThingToThingGroupRequest);</span><br><span class=\"line\"> </span><br><span class=\"line\">        AttachThingPrincipalRequest attachThingPrincipalRequest = new AttachThingPrincipalRequest()</span><br><span class=\"line\">                .withThingName(thingName)</span><br><span class=\"line\">                .withPrincipal(secureArn);</span><br><span class=\"line\">        AttachThingPrincipalResult attachThingPrincipalResult = AWSIoTHelper.getInstance().getAWSIot().attachThingPrincipal(attachThingPrincipalRequest);</span><br><span class=\"line\"> </span><br><span class=\"line\">        responseCreateThings.isSuccess = <span class=\"literal\">true</span>;</span><br><span class=\"line\">        responseCreateThings.successCode = 201;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        UpdateThingRequest updateThingRequest = new UpdateThingRequest()</span><br><span class=\"line\">                .withThingName(thingName)</span><br><span class=\"line\">                .withAttributePayload(attributePayload);</span><br><span class=\"line\">        UpdateThingResult updateThingResult = AWSIoTHelper.getInstance().getAWSIot().updateThing(updateThingRequest);</span><br><span class=\"line\"> </span><br><span class=\"line\">        responseCreateThings.isSuccess = <span class=\"literal\">true</span>;</span><br><span class=\"line\">        responseCreateThings.successCode = 200;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125; catch(Throwable e) &#123;</span><br><span class=\"line\">    logger.log(<span class=\"string\">\"Error CreateThings\"</span>);</span><br><span class=\"line\">    responseCreateThings.isSuccess = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    responseCreateThings.successCode = 500;</span><br><span class=\"line\">&#125; finally &#123;</span><br><span class=\"line\">    logger.log(<span class=\"string\">\"End CreateThings\"</span>);</span><br><span class=\"line\">    <span class=\"built_in\">return</span> responseCreateThings;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div>\n</li>\n</ul>\n","text":"개발환경 구축※ 기본 개발환경IntelliJJava, SpringAWS ConsoleIoT Core 설명AWS IoT Core는 커넥티드 디바이스가 쉽고 안전하게 클라우드 애플리케이션 및 다른 디바이스와 상호 작용할 수 있게 해주는 관리형 클라우드 서","link":"","raw":null,"photos":[],"categories":[{"name":"tip","slug":"tip","count":23,"path":"api/categories/tip.json"}],"tags":[{"name":"AWS","slug":"AWS","count":14,"path":"api/tags/AWS.json"},{"name":"iot","slug":"iot","count":1,"path":"api/tags/iot.json"},{"name":"IoT Core","slug":"IoT-Core","count":1,"path":"api/tags/IoT-Core.json"}]},{"title":"Kinesis Data Analytics","slug":"kinesisDataAnalytics","date":"2020-05-02T04:36:44.000Z","updated":"2020-05-11T01:16:48.234Z","comments":true,"pin":null,"path":"api/articles/kinesisDataAnalytics.json","excerpt":"","keywords":null,"cover":"https://user-images.githubusercontent.com/62123161/80855331-3f5ac200-8c7b-11ea-87f4-3176b8b70682.png","content":"<h2 id=\"개발환경-구축\"><a href=\"#개발환경-구축\" class=\"headerlink\" title=\"개발환경 구축\"></a>개발환경 구축</h2><p>※ 기본 개발환경</p>\n<ul>\n<li>IntelliJ</li>\n<li>Java, Spring</li>\n<li>AWS Console</li>\n</ul>\n<h2 id=\"Kinesis-Data-Analytics-기초설명\"><a href=\"#Kinesis-Data-Analytics-기초설명\" class=\"headerlink\" title=\"Kinesis Data Analytics 기초설명\"></a>Kinesis Data Analytics 기초설명</h2><ol>\n<li>Kinesis Data Analytics을(를) 시작하려면 스트리밍 데이터를 지속적으로 읽고 처리하는 Kinesis 데이터 분석 애플리케이션을 생성합니다. 이 서비스는 Amazon Kinesis Data Streams 및 Amazon Kinesis Data Firehose 스트리밍 소스로부터의 데이터 수집을 지원합니다. 그런 다음 대화형 편집기를 사용하여 SQL 코드를 작성하고 라이브 스트리밍 데이터로 테스트합니다. Kinesis Data Analytics이(가) 결과를 전송하려는 대상을 구성할 수도 있습니다.</li>\n<li>Kinesis Data Analytics은(는) Amazon Kinesis Data Firehose(Amazon S3, Amazon Redshift, Amazon Elasticsearch Service 및 Splunk), AWS Lambda 및 Amazon Kinesis Data Streams을(를) 대상으로 지원합니다.</li>\n<li>Analytics의 경우 코딩이 전~~혀 없음.(굳이 있다면, 콘솔 내 SQL 문 작성해야 하는 정도?)</li>\n<li>코딩이 없는 만큼, Console화면에 대해 익숙해져야 함. </li>\n</ol>\n<h3 id=\"1-Create-application\"><a href=\"#1-Create-application\" class=\"headerlink\" title=\"1. Create application\"></a>1. Create application</h3><p><a href=\"https://user-images.githubusercontent.com/62123161/80855331-3f5ac200-8c7b-11ea-87f4-3176b8b70682.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855331-3f5ac200-8c7b-11ea-87f4-3176b8b70682.png\" alt=\"kinesisAnalytics_01\"></a></p>\n<ul>\n<li>[Create Application] 선택</li>\n</ul>\n<p><a href=\"https://user-images.githubusercontent.com/62123161/80855330-3ec22b80-8c7b-11ea-988e-fca08da5ea36.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855330-3ec22b80-8c7b-11ea-988e-fca08da5ea36.png\" alt=\"kinesisAnalytics_02\"></a></p>\n<ul>\n<li>생성을 누르면 Analytics 생성이 완료되었습니다. 축하합니다. 끝…. 이면 좋겠지만, 이 뒤가 실제 분석단계고 겨우 겉의 껍데기 하나 만든것이다.</li>\n</ul>\n<p><a href=\"https://user-images.githubusercontent.com/62123161/80855329-3e299500-8c7b-11ea-8c0e-423c69e40641.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855329-3e299500-8c7b-11ea-8c0e-423c69e40641.png\" alt=\"kinesisAnalytics_03\"></a></p>\n<ul>\n<li>Streaming 할 데이터, 실시간 분석(확인용), 보낼곳 설정 등 과정을 거친다.</li>\n<li>해당 과정을 거치면서 상당히 많은 오류를 맞닥트리게 될 것이다. 보통은 형변환에서 에러가 난다. (예-Varchar형인데 int형으로 분류됬을 경우.)</li>\n<li>실제 컬럼양이 많아서 귀찮더라도, 하나하나 전부 체크해 주어야 향후 Analytics를 원활하게 쓸 수 있다.</li>\n</ul>\n<p><a href=\"https://user-images.githubusercontent.com/62123161/80855328-3d90fe80-8c7b-11ea-95fa-6377adcd65e9.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855328-3d90fe80-8c7b-11ea-95fa-6377adcd65e9.png\" alt=\"kinesisAnalytics_04\"></a></p>\n<ul>\n<li>Source : 위에서 생성한 test-kinesis 선택</li>\n<li>Record pre-processing : 위의 firehose에서처럼 람다 함수를 이용하여 스트림 데이터 가공 가능</li>\n<li>Access permissions : IAM 롤 생성</li>\n<li>Discover schema 버튼을 클릭하여 스키마 확인 및 설정</li>\n</ul>\n<p><a href=\"https://user-images.githubusercontent.com/62123161/80855327-3cf86800-8c7b-11ea-8063-351e853d8e13.PNG\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855327-3cf86800-8c7b-11ea-8063-351e853d8e13.PNG\" alt=\"kinesisAnalytics_05\"></a></p>\n<ul>\n<li>자동으로 설정된 스키마 확인 후 필요에 따라 Edit schema 버튼을 통하여 스키마 수정</li>\n</ul>\n<p><a href=\"https://user-images.githubusercontent.com/62123161/80855326-3cf86800-8c7b-11ea-8901-cdbfe521e1db.PNG\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855326-3cf86800-8c7b-11ea-8901-cdbfe521e1db.PNG\" alt=\"kinesisAnalytics_06\"></a></p>\n<ul>\n<li>적절하게 스키마 변경 후 Save schema and update stream samples 버튼을 클릭하여 확인</li>\n</ul>\n<p><a href=\"https://user-images.githubusercontent.com/62123161/80855325-3bc73b00-8c7b-11ea-9896-fe3958db0c75.PNG\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855325-3bc73b00-8c7b-11ea-9896-fe3958db0c75.PNG\" alt=\"kinesisAnalytics_07\"></a></p>\n<ul>\n<li>소스를 선택하면 Real time analytics 영역이 활성화됨. Go to SQL editor 클릭</li>\n</ul>\n<p><a href=\"https://user-images.githubusercontent.com/62123161/80855324-3b2ea480-8c7b-11ea-84ba-bcbbea1d6efa.PNG\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855324-3b2ea480-8c7b-11ea-84ba-bcbbea1d6efa.PNG\" alt=\"kinesisAnalytics_08\"></a></p>\n<ul>\n<li>스크림 SQL을 작성 후 Save and run SQL 버튼 클릭</li>\n<li>하단의 Real-time analytics 탭에서 결과 데이터 실시간 확인</li>\n</ul>\n<p><a href=\"https://user-images.githubusercontent.com/62123161/80855323-3a960e00-8c7b-11ea-93f0-67c18f83d4d3.PNG\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855323-3a960e00-8c7b-11ea-93f0-67c18f83d4d3.PNG\" alt=\"kinesisAnalytics_09\"></a></p>\n<ul>\n<li>Real time analytics를 선택하면 Destination 영역이 활성화됨</li>\n</ul>\n<p><a href=\"https://user-images.githubusercontent.com/62123161/80855322-3a960e00-8c7b-11ea-9d44-becb19a625c9.PNG\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855322-3a960e00-8c7b-11ea-9d44-becb19a625c9.PNG\" alt=\"kinesisAnalytics_10\"></a></p>\n<ul>\n<li>Kinesis Analytics 데이터를 전달할 Firehose 생성 (test-firehose-destination)</li>\n</ul>\n<p><a href=\"https://user-images.githubusercontent.com/62123161/80855321-39fd7780-8c7b-11ea-8645-8ae033de86f2.PNG\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855321-39fd7780-8c7b-11ea-8645-8ae033de86f2.PNG\" alt=\"kinesisAnalytics_11\"></a></p>\n<ul>\n<li>다시 Analytics로 돌아와서 Destination 버튼 클릭</li>\n<li>Destination 서비스는 Kinesis Firehose 선택 후 위에서 생성한 test-firehose-destination 선택</li>\n<li>In-application stream으로 위에서 생성한 DESTINATION_SQL_STREAM 선택 후 저장</li>\n</ul>\n<p><a href=\"https://user-images.githubusercontent.com/62123161/80855320-3964e100-8c7b-11ea-8d38-df4f865408fa.PNG\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855320-3964e100-8c7b-11ea-8d38-df4f865408fa.PNG\" alt=\"kinesisAnalytics_12\"></a><br><a href=\"https://user-images.githubusercontent.com/62123161/80855318-38cc4a80-8c7b-11ea-9561-dae174bc37a3.PNG\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855318-38cc4a80-8c7b-11ea-9561-dae174bc37a3.PNG\" alt=\"kinesisAnalytics_13\"></a></p>\n<ul>\n<li>전체 설정 확인 후 목록에서 Running 상태 확인</li>\n</ul>\n<p><a href=\"https://user-images.githubusercontent.com/62123161/80855316-3833b400-8c7b-11ea-8125-157f380587ca.PNG\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855316-3833b400-8c7b-11ea-8125-157f380587ca.PNG\" alt=\"kinesisAnalytics_14\"></a></p>\n<ul>\n<li>test-firehose에 연결한 Kinesis Streams 데이터 S3 저장 확인</li>\n</ul>\n<p><a href=\"https://user-images.githubusercontent.com/62123161/80855314-37028700-8c7b-11ea-9b6f-1c2bb17198b0.PNG\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80855314-37028700-8c7b-11ea-9b6f-1c2bb17198b0.PNG\" alt=\"kinesisAnalytics_15\"></a></p>\n<ul>\n<li>test-firehose-destination에 연결한 Kinesis Analytics 데이터 S3 저장 확인</li>\n</ul>\n","text":"개발환경 구축※ 기본 개발환경IntelliJJava, SpringAWS ConsoleKinesis Data Analytics 기초설명Kinesis Data Analytics을(를) 시작하려면 스트리밍 데이터를 지속적으로 읽고 처리하는 Kinesis 데","link":"","raw":null,"photos":[],"categories":[{"name":"tip","slug":"tip","count":23,"path":"api/categories/tip.json"}],"tags":[{"name":"AWS","slug":"AWS","count":14,"path":"api/tags/AWS.json"},{"name":"Kinesis","slug":"Kinesis","count":3,"path":"api/tags/Kinesis.json"},{"name":"Analytics","slug":"Analytics","count":1,"path":"api/tags/Analytics.json"}]},{"title":"Kinesis Data Firehose","slug":"kinesisDataFirehose","date":"2020-05-01T01:21:23.000Z","updated":"2020-05-11T01:19:16.018Z","comments":true,"pin":null,"path":"api/articles/kinesisDataFirehose.json","excerpt":"","keywords":null,"cover":"https://user-images.githubusercontent.com/62123161/80773866-2b896000-8b96-11ea-9292-4988675db895.png","content":"<h2 id=\"개발환경-구축\"><a href=\"#개발환경-구축\" class=\"headerlink\" title=\"개발환경 구축\"></a>개발환경 구축</h2><p>※ 기본 개발환경</p>\n<ul>\n<li>IntelliJ</li>\n<li>Java, Spring</li>\n<li>AWS Console</li>\n</ul>\n<h2 id=\"Data-Firehose와-Data-Stream과-다른점\"><a href=\"#Data-Firehose와-Data-Stream과-다른점\" class=\"headerlink\" title=\"Data Firehose와 Data Stream과 다른점\"></a>Data Firehose와 Data Stream과 다른점</h2><ol>\n<li>Kinesis Stream은 기본 수준 서비스로, 각 파티션이 내부적으로 주문 된 여러 리더를 지원하는 파티션 된 데이터 스트림. 병합 / 분할 샤드를 관리하여 운영해야 함.</li>\n<li>커스터마이징이 가능하며 맞춤형 애플리케이션을 구축하거나 특수한 요구에 맞게 데이터를 스트리밍하는 개발자에게 가장 적합합니다. 그러나 수동 조정 및 프로비저닝이 필요합니다. 데이터는 일반적으로 24 시간 동안 스트림으로 제공되지만 추가 비용을 지불하면 최대 7 일 동안 데이터 가용성을 얻을 수 있습니다.</li>\n<li>Firehose는 매우 많은 Kinesis 사용 사례를 위해 구축 된 Kinesis 스트림 위에 구축 된 서비스로, 많은 데이터를 수집하고 이를 S3 / Redshift / ElasticSearch와 같은 스토리지 솔루션으로 파이핑 함. 파티션을 관리.</li>\n<li>스케일링은 초당 최대 기가 바이트까지 자동으로 처리되며 배치, 암호화 및 압축이 가능합니다.<br><a href=\"https://user-images.githubusercontent.com/62123161/80773866-2b896000-8b96-11ea-9292-4988675db895.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80773866-2b896000-8b96-11ea-9292-4988675db895.png\" alt=\"kinesisfirehose_01\"></a></li>\n</ol>\n<h3 id=\"1-Firehose-생성\"><a href=\"#1-Firehose-생성\" class=\"headerlink\" title=\"1) Firehose 생성\"></a>1) Firehose 생성</h3><p><a href=\"https://user-images.githubusercontent.com/62123161/80773864-2b896000-8b96-11ea-863b-97cf308afdc9.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80773864-2b896000-8b96-11ea-863b-97cf308afdc9.png\" alt=\"kinesisfirehose_02\"></a><br>① Firehose Name 입력<br>② 자동으로 Put되는 방식인지, DataStream에서 받아서 전달하는 방식인지 선택.<br>    현재 우리 서비스에서는 Direct Put 해도 상관없음. Data를 특정 Stream에서 컨트롤해야한다면 Stream을 선택해주면 됨.<br>③ CMK를 활용하여 Stream의 평문데이터를 Firehose로 가져오면서 암호화 진행여부<br><a href=\"https://user-images.githubusercontent.com/62123161/80773863-2af0c980-8b96-11ea-9b59-4bcd47295594.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80773863-2af0c980-8b96-11ea-9b59-4bcd47295594.png\" alt=\"kinesisfirehose_03\"></a><br>④ Lambda를 통해 저장할 데이터를 손볼건지 결정하는 부분.<br>⑤ AWS Glue를 통해 전처리 작업을 진행할지 선택하는 부분.</p>\n<p> *Glue 란?<br>AWS Glue는 완전 관리형 ETL(추출, 변환, 로드) 서비스로, 효율적인 비용으로 간단하게 여러 데이터 스토어 간에 원하는 데이터를 분류, 정리, 보강, 이동합니다. AWS Glue는 AWS Glue 데이터 카탈로그으로 알려진 중앙 메타데이터 리포지토리, 자동적으로 Python 및 Scala 코드를 생성하는 ETL 엔진 및 종속적 해결 방안, 작업 모니터링 및 재시도를 관리하는 유연성 스케줄러로 구성됩니다. AWS Glue는 서버리스이므로 설정하거나 관리할 인프라가 없습니다.<br><a href=\"https://user-images.githubusercontent.com/62123161/80773862-2a583300-8b96-11ea-8f42-d5299b504504.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80773862-2a583300-8b96-11ea-8f42-d5299b504504.png\" alt=\"kinesisfirehose_04\"></a><br>⑥ S3 / Redshift / Elasticsearch Service / Splunk 등 AWS의 목적지로 보낼 곳 선택<br>     (우리 서비스에서는 우선 S3를 사용함. 추후 ES, Splunk 등 검토)<br>⑦ prefix / error prefix (저장되는 파일의 S3 디렉토리 지정)<br>     kd/year-!{timestamp:YYYY}/month-!{timestamp:MM}/day-!{timestamp:dd}/<br>     kderror/!{firehose:random-string}/!{firehose:error-output-type}/!{timestamp:yyyy/MM/dd}/<br><a href=\"https://user-images.githubusercontent.com/62123161/80773857-288e6f80-8b96-11ea-87e2-9efc8190f38c.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80773857-288e6f80-8b96-11ea-87e2-9efc8190f38c.png\" alt=\"kinesisfirehose_05\"></a><br>⑧ Buffer사이즈와 주기를 정해주어야 함.<br>    SmartTok 기준 40000대 15분동안 45MB가 쌓이고 있음. 용량이 부족하면 꽉 찬 데이터까지만 보내므로 조절이 필요함.(매우중요)<br>⑨ Compression(압축방식지정.. 비용문제만 아니면 안해도됨)<br>⑩ S3 Encryption<br>    KMS를 통한 암호화. 3번의 CMK를 통한 암호화를 지정해도되고 저장할때 KMS를 통해 지정해도 됨. 암호화는 나중에 반영.<br>⑪ Logging<br>    로깅은 항상 Enable함.<br>    본인이 코딩의 신이거나 AWS의 지배자가 아니라면 로깅 및 디버깅은 생활화 하자.<br>⑫ Permission(권한)<br>    권한은 기본권한으로..(AWS 사상 중 가장 중요시되는 최소권한의 원칙)</p>\n<h3 id=\"2-Data-직접-넣기\"><a href=\"#2-Data-직접-넣기\" class=\"headerlink\" title=\"2) Data 직접 넣기?\"></a>2) Data 직접 넣기?</h3><ul>\n<li><p>코딩이 없어서 아쉬우셨다면, 잠시 코딩을 갖는 시간을 갖겠음.</p>\n</li>\n<li><p>솔직히 Firehose는 AWS 완전관리형이기에 크게 손볼게 없다.</p>\n</li>\n<li><p>단순히 데이터 넣는 API정도뿐이라 간단히 소개함.</p>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>basic AWS Credential</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">BasicAWSCredentials awsCreds = new BasicAWSCredentials(<span class=\"string\">\"ACCESS_KEY\"</span>,</span><br><span class=\"line\">            <span class=\"string\">\"SECRET_KEY\"</span>);</span><br><span class=\"line\">    AmazonKinesisFirehoseClientBuilder clientBuilder = AmazonKinesisFirehoseClientBuilder.standard();</span><br><span class=\"line\">    clientBuilder.setRegion(<span class=\"string\">\"ap-northeast-2\"</span>); // 서울 region</span><br><span class=\"line\">    clientBuilder.setCredentials(new AWSStaticCredentialsProvider(awsCreds));</span><br><span class=\"line\">    AmazonKinesisFirehose kinesisClient = clientBuilder.build();</span><br></pre></td></tr></table></figure></div>\n\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>single write</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//단일 쓰기 작업</span><br><span class=\"line\">static void sendData(AmazonKinesisFirehose kinesisClient, int count) &#123;</span><br><span class=\"line\">    String myData = <span class=\"string\">\"&#123;\\\"no\\\":\"</span> + count + <span class=\"string\">\"&#125;\\n\"</span>; // 보내려는 데이터</span><br><span class=\"line\">    PutRecordRequest putRecordsRequest = new PutRecordRequest();</span><br><span class=\"line\">    putRecordsRequest.setDeliveryStreamName(STREAM_NAME);</span><br><span class=\"line\">    Record rc = new Record();</span><br><span class=\"line\">    rc.setData(ByteBuffer.wrap(myData.getBytes()));</span><br><span class=\"line\">    putRecordsRequest.setRecord(rc);</span><br><span class=\"line\">    PutRecordResult putRecordsResult = kinesisClient.putRecord(putRecordsRequest);</span><br><span class=\"line\">    System.out.println(<span class=\"string\">\"Put Result\"</span> + putRecordsResult);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div>\n\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>multiple write</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//////////////////////////////////////////</span><br><span class=\"line\"> // 10번 반복해서 전송(일괄전송)</span><br><span class=\"line\">        HashSet&lt;Record&gt; recordList = new HashSet&lt;Record&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (int i = 0; i &lt; 10 ; i++) &#123;</span><br><span class=\"line\">            recordList.add(createData());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        multiSendData(kinesisClient, recordList);</span><br><span class=\"line\">//////////////////////////////////////////</span><br><span class=\"line\"> </span><br><span class=\"line\">    //일괄 쓰기 작업</span><br><span class=\"line\">    static void multiSendData(AmazonKinesisFirehose kinesisClient, HashSet&lt;Record&gt; recordList)&#123;</span><br><span class=\"line\">        PutRecordBatchRequest putRecordBatchRequest = new PutRecordBatchRequest();</span><br><span class=\"line\">        putRecordBatchRequest.setDeliveryStreamName(STREAM_NAME);</span><br><span class=\"line\">        putRecordBatchRequest.setRecords(recordList);</span><br><span class=\"line\"> </span><br><span class=\"line\">        // Put Record Batch records. Max No.Of Records we can put <span class=\"keyword\">in</span> a</span><br><span class=\"line\">        // single put record batch request is 500</span><br><span class=\"line\">        PutRecordBatchResult putRecordBatchResult = kinesisClient.putRecordBatch(putRecordBatchRequest);</span><br><span class=\"line\"> </span><br><span class=\"line\">        recordList.clear();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    public static Record <span class=\"function\"><span class=\"title\">createData</span></span>() &#123;</span><br><span class=\"line\">        String data = ThreadLocalRandom.current().nextInt() + <span class=\"string\">\"\\n\"</span>;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> new Record().withData(ByteBuffer.wrap(data.getBytes()));</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"3-현재-사용처\"><a href=\"#3-현재-사용처\" class=\"headerlink\" title=\"3) 현재 사용처\"></a>3) 현재 사용처</h3><ul>\n<li>AWS IoT Core 내의 Rule Engine에 현재 사용중임. DynamoDB를 대체해서 사용하고자 하며, 추후 Analytics를 통하거나 해서 MySQL에 저장할 예정.</li>\n</ul>\n</li>\n<li><p>저장기간이 최대 7일이 한계이므로, 주기적으로 Batch작업 돌려주어야 할 것으로 보임.</p>\n<h3 id=\"결론\"><a href=\"#결론\" class=\"headerlink\" title=\"결론\"></a>결론</h3></li>\n<li><p>솔직히 Data Stream의 활용범위는 상당히 넓다. 기본적인 SQS기능뿐만 아니라 AWS 다른 솔루션 플랫폼에 적용할 수 있을정도로 활용범위가 넓은 점은 장점이지만, 모든 설정을 해줘야 한다는 단점이 있다.</p>\n</li>\n<li><p>Firehose는 몇개 안되는 설정으로 자동으로 원하는 기능을 제공해주니 단순비교는 어렵지만 개인적으로 쓰기 편한감이 있음.</p>\n</li>\n<li><p>(코딩이 필요없다…….. 위 대제목 2번에 쓴 코드를 쓸 일 자체가 없을 것으로 보임.)</p>\n</li>\n</ul>\n","text":"개발환경 구축※ 기본 개발환경IntelliJJava, SpringAWS ConsoleData Firehose와 Data Stream과 다른점Kinesis Stream은 기본 수준 서비스로, 각 파티션이 내부적으로 주문 된 여러 리더를 지원하는 파티션 ","link":"","raw":null,"photos":[],"categories":[{"name":"tip","slug":"tip","count":23,"path":"api/categories/tip.json"}],"tags":[{"name":"AWS","slug":"AWS","count":14,"path":"api/tags/AWS.json"},{"name":"Kinesis","slug":"Kinesis","count":3,"path":"api/tags/Kinesis.json"},{"name":"firehose","slug":"firehose","count":1,"path":"api/tags/firehose.json"}]},{"title":"Kinesis Data Stream","slug":"kinesisDataStream","date":"2020-04-30T09:00:58.000Z","updated":"2020-05-11T01:20:16.080Z","comments":true,"pin":null,"path":"api/articles/kinesisDataStream.json","excerpt":"","keywords":null,"cover":"/img/01.SmartTok_System_01.png","content":"<h2 id=\"개발환경-구축\"><a href=\"#개발환경-구축\" class=\"headerlink\" title=\"개발환경 구축\"></a>개발환경 구축</h2><p>※ 기본 개발환경</p>\n<ul>\n<li>IntelliJ</li>\n<li>Java, Spring</li>\n<li>AWS Console</li>\n</ul>\n<p>※ 참고자료 : <a href=\"https://docs.aws.amazon.com/ko_kr/kinesis/index.html\" target=\"_blank\" rel=\"noopener\">https://docs.aws.amazon.com/ko_kr/kinesis/index.html</a></p>\n<h2 id=\"Kinesis-기초설명\"><a href=\"#Kinesis-기초설명\" class=\"headerlink\" title=\"Kinesis 기초설명\"></a>Kinesis 기초설명</h2><ol>\n<li>Kinesis는 SQS를 기반으로 한 큐 시스템이다.</li>\n<li>종류로는 Video Streams, Data Streams, Data Firehose, Data Analytics 총 4가지가 있다.</li>\n<li>경동에서는 이 4가지 시스템 모두 사용하겠지만, Video Streams의 경우에는 홈오토, 홈넷쪽에서 사용할 것으로 추정되므로 현 블로그에서는 나머지 기능만을 설명하기로 한다.</li>\n</ol>\n<h2 id=\"Data-Stream\"><a href=\"#Data-Stream\" class=\"headerlink\" title=\"Data Stream\"></a>Data Stream</h2><ol>\n<li>Shard라는 개념을 사용하고 있으며, 큐 내의 메모리 개념으로 받아들이면 된다.</li>\n<li>ap-northeast-2(서울) 리전의 경우 기본적으로 200개의 샤드만 지원이 된다.</li>\n</ol>\n<p><a href=\"https://user-images.githubusercontent.com/62123161/80692614-c5a4c600-8b0c-11ea-98ba-1efbe0264585.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80692614-c5a4c600-8b0c-11ea-98ba-1efbe0264585.png\" alt=\"kinesis_01\"></a></p>\n<ol start=\"3\">\n<li>한개의 Shard당 1초에 1MB씩 처리가 가능하며, 1000개의 Record를 처리한다. 읽는데는 초당 2MB한도로 읽을 수 있다. 만약, 처리할 데이터의 용량이 크다면, 그만큼의 샤드를 추가하면 된다. 이번 연습에서는 기본샤드인 1만 추가하기로 한다.</li>\n<li>편의를 위해 언어는 Java로 통일한다.</li>\n</ol>\n<h3 id=\"1-Data-Stream-만들기\"><a href=\"#1-Data-Stream-만들기\" class=\"headerlink\" title=\"1) Data Stream 만들기\"></a>1) Data Stream 만들기</h3><ol>\n<li>사용하고자 하는 Stream의 이름과 샤드의 수만 입력하면 자동으로 생성이 된다.(feat. 별거없음)</li>\n</ol>\n<h3 id=\"2-Data-Stream-Page\"><a href=\"#2-Data-Stream-Page\" class=\"headerlink\" title=\"2) Data Stream Page\"></a>2) Data Stream Page</h3><ol>\n<li>데이터 Stream이 생성이 되었다고 하면 아래와 같이 Detail 페이지를 볼 수 있다.</li>\n</ol>\n<p><a href=\"https://user-images.githubusercontent.com/62123161/80692615-c6d5f300-8b0c-11ea-8dab-ab4473eea2a2.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/80692615-c6d5f300-8b0c-11ea-8dab-ab4473eea2a2.png\" alt=\"kinesis_02\"></a></p>\n<ol start=\"2\">\n<li><p>Data Stream은 Firehose와 Analytics에 사용될 수 있으며, 데이터는 모두 Json으로 하는게 좋다. 물론, CVS파일도 지원을 하기는 한다.(사용할 때 어려울뿐…)</p>\n</li>\n<li><p>데이터 저장방식에서 암호화를 추가할 수 있다. KMS를 설정해서 사용하는데, 현 연습에서는 사용하지 않도록 한다.</p>\n</li>\n<li><p>Data Stream의 보관 기간은 1일~7일까지 선택할 수 있다. 24시간에서 더 늘리게 되면 추가요금이 발생하므로 주의하자.</p>\n</li>\n</ol>\n<h3 id=\"3-Data-Stream을-Java로-개발\"><a href=\"#3-Data-Stream을-Java로-개발\" class=\"headerlink\" title=\"3) Data Stream을 Java로 개발\"></a>3) Data Stream을 Java로 개발</h3><ol>\n<li><p>Gradle(최소 수준의 Dependence 이므로 개발하면서 필요하면 추가해준다.)</p>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-sqs</span><br><span class=\"line\">compile group: <span class=\"string\">'com.amazonaws'</span>, name: <span class=\"string\">'aws-java-sdk-sqs'</span>, version: <span class=\"string\">'1.11.705'</span></span><br><span class=\"line\">// https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-core</span><br><span class=\"line\">compile group: <span class=\"string\">'com.amazonaws'</span>, name: <span class=\"string\">'aws-java-sdk-core'</span>, version: <span class=\"string\">'1.9.17'</span></span><br><span class=\"line\">// https://mvnrepository.com/artifact/com.amazonaws/amazon-kinesis-client</span><br><span class=\"line\">compile group: <span class=\"string\">'com.amazonaws'</span>, name: <span class=\"string\">'amazon-kinesis-client'</span>, version: <span class=\"string\">'1.13.2'</span></span><br></pre></td></tr></table></figure></div>\n</li>\n<li><p>스트림에 Data PUT(Multi)</p>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">private static List&lt;PutRecordsRequestEntry&gt; <span class=\"function\"><span class=\"title\">putItemStream</span></span>()&#123;</span><br><span class=\"line\">        BasicAWSCredentials awsCreds = new BasicAWSCredentials(<span class=\"string\">\"ACCESSKEY\"</span>, <span class=\"string\">\"SECRETKEY\"</span>);</span><br><span class=\"line\">        AmazonKinesisClientBuilder clientBuilder = AmazonKinesisClientBuilder.standard();</span><br><span class=\"line\">        clientBuilder.setRegion(<span class=\"string\">\"ap-northeast-2\"</span>); // 서울 region</span><br><span class=\"line\">        clientBuilder.setCredentials(new AWSStaticCredentialsProvider(awsCreds));</span><br><span class=\"line\">        AmazonKinesis kinesisClient = clientBuilder.build();</span><br><span class=\"line\"> </span><br><span class=\"line\">        //PutRecords</span><br><span class=\"line\">        PutRecordsRequest putRecordsRequest  = new PutRecordsRequest();</span><br><span class=\"line\">        putRecordsRequest.setStreamName(STREAM_NAME);</span><br><span class=\"line\">        List &lt;PutRecordsRequestEntry&gt; putRecordsRequestEntryList  = new ArrayList&lt;&gt;();</span><br><span class=\"line\">        try&#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (int i = 0; i &lt; 10; i++) &#123;</span><br><span class=\"line\">                PutRecordsRequestEntry putRecordsRequestEntry  = new PutRecordsRequestEntry();</span><br><span class=\"line\">                String myData = <span class=\"string\">\"&#123;\\\"testAWS\\\":\"</span> + i + <span class=\"string\">\"&#125;\\n\"</span>; // 보내려는 데이터</span><br><span class=\"line\">                putRecordsRequestEntry.setData(ByteBuffer.wrap(myData.getBytes()));</span><br><span class=\"line\">//            putRecordsRequestEntry.setData(ByteBuffer.wrap(String.valueOf(i).getBytes()));</span><br><span class=\"line\">                putRecordsRequestEntry.setPartitionKey(String.format(<span class=\"string\">\"partitionKey-%d\"</span>, i));</span><br><span class=\"line\">                putRecordsRequestEntryList.add(putRecordsRequestEntry);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">            putRecordsRequest.setRecords(putRecordsRequestEntryList);</span><br><span class=\"line\">            PutRecordsResult putRecordsResult  = kinesisClient.putRecords(putRecordsRequest);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        catch (Exception e)&#123;</span><br><span class=\"line\">            System.out.println(e.getMessage());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">        <span class=\"built_in\">return</span> putRecordsRequestEntryList;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></div>\n</li>\n<li><p>스트림에 Data PUT(Single)</p>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">static void sendData(AmazonKinesis kinesisClient, int count) &#123;</span><br><span class=\"line\">        HashMap&lt;Integer,String&gt; list = new HashMap&lt;Integer,String&gt;();</span><br><span class=\"line\"> </span><br><span class=\"line\">        list.put(0,<span class=\"string\">\"&#123;\\\"NAME\\\":\\\"dhaval0\\\",\\\"TOTAL\\\":100&#125;\"</span>);</span><br><span class=\"line\">        list.put(1,<span class=\"string\">\"&#123;\\\"NAME\\\":\\\"dhaval1\\\",\\\"TOTAL\\\":200&#125;\"</span>);</span><br><span class=\"line\">        list.put(2,<span class=\"string\">\"&#123;\\\"NAME\\\":\\\"dhaval2\\\",\\\"TOTAL\\\":300&#125;\"</span>);</span><br><span class=\"line\"> </span><br><span class=\"line\">        PutRecordsRequest putRecordsRequest  = new PutRecordsRequest();</span><br><span class=\"line\">        putRecordsRequest.setStreamName(STREAM_NAME);</span><br><span class=\"line\">        List&lt;PutRecordsRequestEntry&gt; putRecordsRequestEntryList  = new ArrayList&lt;&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (int i = 0; i &lt; count; i++) &#123;</span><br><span class=\"line\">            String myData = list.get(i); // 보내려는 데이터</span><br><span class=\"line\">            PutRecordsRequestEntry putRecordsRequestEntry  = new PutRecordsRequestEntry();</span><br><span class=\"line\">            putRecordsRequestEntry.setData(ByteBuffer.wrap(myData.getBytes()));</span><br><span class=\"line\">            putRecordsRequestEntry.setPartitionKey(<span class=\"string\">\"MainStream\"</span>);</span><br><span class=\"line\">//            putRecordsRequestEntry.setPartitionKey(String.format(<span class=\"string\">\"partitionKey-%d\"</span>, i));</span><br><span class=\"line\">            putRecordsRequestEntryList.add(putRecordsRequestEntry);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        putRecordsRequest.setRecords(putRecordsRequestEntryList);</span><br><span class=\"line\">        PutRecordsResult putRecordsResult  = kinesisClient.putRecords(putRecordsRequest);</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"Put Result\"</span> + putRecordsResult);</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></div></li>\n<li><p>샤드 내 총 데이터 갯수조회</p>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public static int getDataCount(String shardId, String streamName) &#123;</span><br><span class=\"line\">        int dataCount = 0;</span><br><span class=\"line\"> </span><br><span class=\"line\">        BasicAWSCredentials awsCreds = new BasicAWSCredentials(<span class=\"string\">\"ACCESSKEY\"</span>, <span class=\"string\">\"SECRETKEY\"</span>);</span><br><span class=\"line\">        AmazonKinesisClientBuilder clientBuilder = AmazonKinesisClientBuilder.standard();</span><br><span class=\"line\">        clientBuilder.setRegion(<span class=\"string\">\"ap-northeast-2\"</span>); // 서울 region</span><br><span class=\"line\">        clientBuilder.setCredentials(new AWSStaticCredentialsProvider(awsCreds));</span><br><span class=\"line\">        AmazonKinesis kinesisClient = clientBuilder.build();</span><br><span class=\"line\"> </span><br><span class=\"line\">        String shardIterator;</span><br><span class=\"line\">        GetShardIteratorRequest getShardIteratorRequest = new GetShardIteratorRequest();</span><br><span class=\"line\">        getShardIteratorRequest.setStreamName(streamName);</span><br><span class=\"line\">        getShardIteratorRequest.setShardId(shardId);</span><br><span class=\"line\">        getShardIteratorRequest.setShardIteratorType(ShardIteratorType.TRIM_HORIZON);</span><br><span class=\"line\"> </span><br><span class=\"line\">        GetShardIteratorResult getShardIteratorResult = kinesisClient.getShardIterator(getShardIteratorRequest);</span><br><span class=\"line\">        shardIterator = getShardIteratorResult.getShardIterator();</span><br><span class=\"line\">        GetRecordsRequest getRecordsRequest = new GetRecordsRequest();</span><br><span class=\"line\">        getRecordsRequest.setShardIterator(shardIterator);</span><br><span class=\"line\">        getRecordsRequest.setLimit(1000);</span><br><span class=\"line\"> </span><br><span class=\"line\">        GetRecordsResult getRecordsResult = kinesisClient.getRecords(getRecordsRequest);</span><br><span class=\"line\">        List&lt;Record&gt; records = getRecordsResult.getRecords();</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(!records.isEmpty() &amp;&amp; records.size() &gt; 0)&#123;</span><br><span class=\"line\">            dataCount = records.size();</span><br><span class=\"line\">            Iterator&lt;Record&gt; iterator = records.iterator();</span><br><span class=\"line\">            <span class=\"keyword\">while</span>(iterator.hasNext()) &#123;</span><br><span class=\"line\">                Record record = iterator.next();</span><br><span class=\"line\">                byte[] bytes = record.getData().array();</span><br><span class=\"line\">                String recordData = new String(bytes);</span><br><span class=\"line\">                System.out.println(<span class=\"string\">\"Shard Id. :\"</span>+shardId+<span class=\"string\">\"Seq. No. is : \"</span>+<span class=\"string\">\"  Record data :\"</span>+recordData);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> </span><br><span class=\"line\">        <span class=\"built_in\">return</span> dataCount;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></div></li>\n<li><p>샤드 내 데이터 조회</p>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">private static HashSet&lt;Record&gt; <span class=\"function\"><span class=\"title\">getItemStream</span></span>()&#123;</span><br><span class=\"line\">        BasicAWSCredentials awsCreds = new BasicAWSCredentials(<span class=\"string\">\"ACCESSKEY\"</span>, <span class=\"string\">\"SECRETKEY\"</span>);</span><br><span class=\"line\">        AmazonKinesisClientBuilder clientBuilder = AmazonKinesisClientBuilder.standard();</span><br><span class=\"line\">        clientBuilder.setRegion(<span class=\"string\">\"ap-northeast-2\"</span>); // 서울 region</span><br><span class=\"line\">        clientBuilder.setCredentials(new AWSStaticCredentialsProvider(awsCreds));</span><br><span class=\"line\">        AmazonKinesis kinesisClient = clientBuilder.build();</span><br><span class=\"line\"> </span><br><span class=\"line\">        List&lt;Shard&gt; shardList = getShardList();</span><br><span class=\"line\"> </span><br><span class=\"line\">        //GetRecords</span><br><span class=\"line\">        String shardIterator;</span><br><span class=\"line\">        GetShardIteratorRequest getShardIteratorRequest = new GetShardIteratorRequest();</span><br><span class=\"line\">        getShardIteratorRequest.setStreamName(STREAM_NAME);</span><br><span class=\"line\">        getShardIteratorRequest.setShardId(shardList.get(0).getShardId());</span><br><span class=\"line\">        getShardIteratorRequest.setShardIteratorType(<span class=\"string\">\"TRIM_HORIZON\"</span>);</span><br><span class=\"line\"> </span><br><span class=\"line\">        GetShardIteratorResult getShardIteratorResult = kinesisClient.getShardIterator(getShardIteratorRequest);</span><br><span class=\"line\">        shardIterator = getShardIteratorResult.getShardIterator();</span><br><span class=\"line\"> </span><br><span class=\"line\">        HashSet&lt;Record&gt; records = new HashSet&lt;Record&gt;();</span><br><span class=\"line\">        HashMap&lt;String, String&gt; view = new HashMap&lt;String, String&gt;();</span><br><span class=\"line\"> </span><br><span class=\"line\">        <span class=\"keyword\">while</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">            GetRecordsRequest getRecordsRequest = new GetRecordsRequest();</span><br><span class=\"line\">            getRecordsRequest.setShardIterator(shardIterator);</span><br><span class=\"line\">            getRecordsRequest.setLimit(25);</span><br><span class=\"line\"> </span><br><span class=\"line\">            GetRecordsResult result = kinesisClient.getRecords(getRecordsRequest);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(result.getRecords().size() == 0)&#123;</span><br><span class=\"line\">                <span class=\"built_in\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            //<span class=\"keyword\">for</span>(Record record : result.getRecords())&#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(int i = 0;i&lt;result.getRecords().size();i++)&#123;</span><br><span class=\"line\">                Record record = result.getRecords().get(i);</span><br><span class=\"line\">                records.add(record);</span><br><span class=\"line\"> </span><br><span class=\"line\">                view.put(record.getSequenceNumber(), new String(record.getData().array()));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">            try &#123;</span><br><span class=\"line\">                Thread.sleep(1000);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            catch (InterruptedException exception) &#123;</span><br><span class=\"line\">                throw new RuntimeException(exception);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">            shardIterator = result.getNextShardIterator();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> records;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></div></li>\n<li><p>(번외) Stream 내 Shard 리스트 출력</p>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">private static List&lt;Shard&gt; <span class=\"function\"><span class=\"title\">getShardList</span></span>()&#123;</span><br><span class=\"line\">        BasicAWSCredentials awsCreds = new BasicAWSCredentials(<span class=\"string\">\"ACCESSKEY\"</span>, <span class=\"string\">\"SECRETKEY\"</span>);</span><br><span class=\"line\">        AmazonKinesisClientBuilder clientBuilder = AmazonKinesisClientBuilder.standard();</span><br><span class=\"line\">        clientBuilder.setRegion(<span class=\"string\">\"ap-northeast-2\"</span>); // 서울 region</span><br><span class=\"line\">        clientBuilder.setCredentials(new AWSStaticCredentialsProvider(awsCreds));</span><br><span class=\"line\">        AmazonKinesis kinesisClient = clientBuilder.build();</span><br><span class=\"line\"> </span><br><span class=\"line\">        DescribeStreamRequest describeStreamRequest = new DescribeStreamRequest();</span><br><span class=\"line\">        describeStreamRequest.setStreamName( STREAM_NAME );</span><br><span class=\"line\">        List&lt;Shard&gt; shards = new ArrayList&lt;&gt;();</span><br><span class=\"line\">        String exclusiveStartShardId = null;</span><br><span class=\"line\">        <span class=\"keyword\">do</span> &#123;</span><br><span class=\"line\">            describeStreamRequest.setExclusiveStartShardId( exclusiveStartShardId );</span><br><span class=\"line\">            DescribeStreamResult describeStreamResult = kinesisClient.describeStream( describeStreamRequest );</span><br><span class=\"line\">            shards.addAll( describeStreamResult.getStreamDescription().getShards() );</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (describeStreamResult.getStreamDescription().getHasMoreShards() &amp;&amp; shards.size() &gt; 0) &#123;</span><br><span class=\"line\">                exclusiveStartShardId = shards.get(shards.size() - 1).getShardId();</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                exclusiveStartShardId = null;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">while</span> ( exclusiveStartShardId != null );</span><br><span class=\"line\">        <span class=\"built_in\">return</span> shards;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></div></li>\n<li><p>(번외) 계정 내 Stream 리스트 조회(전체)</p>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">private static List&lt;String&gt; <span class=\"function\"><span class=\"title\">getStreamList</span></span>()&#123;</span><br><span class=\"line\">        BasicAWSCredentials awsCreds = new BasicAWSCredentials(<span class=\"string\">\"ACCESSKEY\"</span>, <span class=\"string\">\"SECRETKEY\"</span>);</span><br><span class=\"line\">        AmazonKinesisClientBuilder clientBuilder = AmazonKinesisClientBuilder.standard();</span><br><span class=\"line\">        clientBuilder.setRegion(<span class=\"string\">\"ap-northeast-2\"</span>); // 서울 region</span><br><span class=\"line\">        clientBuilder.setCredentials(new AWSStaticCredentialsProvider(awsCreds));</span><br><span class=\"line\">        AmazonKinesis kinesisClient = clientBuilder.build();</span><br><span class=\"line\"> </span><br><span class=\"line\">        ListStreamsRequest listStreamsRequest = new ListStreamsRequest();</span><br><span class=\"line\">        listStreamsRequest.setLimit(20);</span><br><span class=\"line\">        ListStreamsResult listStreamsResult = kinesisClient.listStreams(listStreamsRequest);</span><br><span class=\"line\">        List&lt;String&gt; streamNames = listStreamsResult.getStreamNames();</span><br><span class=\"line\"> </span><br><span class=\"line\">        <span class=\"keyword\">while</span> (listStreamsResult.getHasMoreStreams())</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (streamNames.size() &gt; 0) &#123;</span><br><span class=\"line\">                listStreamsRequest.setExclusiveStartStreamName(streamNames.get(streamNames.size() - 1));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            listStreamsResult = kinesisClient.listStreams(listStreamsRequest);</span><br><span class=\"line\">            streamNames.addAll(listStreamsResult.getStreamNames());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">        <span class=\"built_in\">return</span> streamNames;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></div></li>\n<li><p>(번외) Stream 삭제</p>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">private static Boolean deleteStream(String streamName)&#123;</span><br><span class=\"line\">        BasicAWSCredentials awsCreds = new BasicAWSCredentials(<span class=\"string\">\"ACCESSKEY\"</span>, <span class=\"string\">\"SECRETKEY\"</span>);</span><br><span class=\"line\">        AmazonKinesisClientBuilder clientBuilder = AmazonKinesisClientBuilder.standard();</span><br><span class=\"line\">        clientBuilder.setRegion(<span class=\"string\">\"ap-northeast-2\"</span>); // 서울 region</span><br><span class=\"line\">        clientBuilder.setCredentials(new AWSStaticCredentialsProvider(awsCreds));</span><br><span class=\"line\">        AmazonKinesis kinesisClient = clientBuilder.build();</span><br><span class=\"line\"> </span><br><span class=\"line\">        Boolean result = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        try&#123;</span><br><span class=\"line\">            DeleteStreamRequest deleteStreamRequest = new DeleteStreamRequest();</span><br><span class=\"line\">            deleteStreamRequest.setStreamName(streamName);</span><br><span class=\"line\">            kinesisClient.deleteStream(deleteStreamRequest);</span><br><span class=\"line\"> </span><br><span class=\"line\">            result = <span class=\"literal\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        catch (Exception e)&#123;</span><br><span class=\"line\">            System.out.println(e.getMessage());</span><br><span class=\"line\">            result = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></div>\n\n</li>\n</ol>\n<h2 id=\"결론\"><a href=\"#결론\" class=\"headerlink\" title=\"결론\"></a>결론</h2><ul>\n<li>Kinesis는 기존의 SQS와 동일하게 사용해도 좋을 것 같다. 단지 SQS와 다른점은 가격이 싸고 속도가 빠르다는 점.<br>   싸고 빠르다는점 이외에도 Firehose, Analytics 등과 함께 사용하므로 더욱더 편리하게 AWS 생태계에 접근할 수 있다는 메리트가 있다.</li>\n<li>위 실습내용을 모두 돌려보고 나면, 크게 할 것이 없다는 점을 느낄 수 있을 것이다.</li>\n</ul>\n","text":"개발환경 구축※ 기본 개발환경IntelliJJava, SpringAWS Console※ 참고자료 : https://docs.aws.amazon.com/ko_kr/kinesis/index.htmlKinesis 기초설명Kinesis는 SQS를 기반으로 한","link":"","raw":null,"photos":[],"categories":[{"name":"tip","slug":"tip","count":23,"path":"api/categories/tip.json"}],"tags":[{"name":"AWS","slug":"AWS","count":14,"path":"api/tags/AWS.json"},{"name":"Kinesis","slug":"Kinesis","count":3,"path":"api/tags/Kinesis.json"},{"name":"Cloud","slug":"Cloud","count":1,"path":"api/tags/Cloud.json"}]},{"title":"nest.js API Template","slug":"nest-js-API-Template","date":"2020-11-20T07:04:10.000Z","updated":"2020-11-20T08:23:15.233Z","comments":true,"pin":null,"path":"api/articles/nest-js-API-Template.json","excerpt":"","keywords":null,"cover":"https://user-images.githubusercontent.com/62123161/99770052-9dcd8c00-2b4a-11eb-9beb-f6922414758d.png","content":"<h2 id=\"API-Template-구조도\"><a href=\"#API-Template-구조도\" class=\"headerlink\" title=\"API Template 구조도\"></a>API Template 구조도</h2><p><a href=\"https://user-images.githubusercontent.com/62123161/99770052-9dcd8c00-2b4a-11eb-9beb-f6922414758d.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/99770052-9dcd8c00-2b4a-11eb-9beb-f6922414758d.png\" alt=\"image\"></a></p>\n<h2 id=\"Tree\"><a href=\"#Tree\" class=\"headerlink\" title=\"Tree\"></a>Tree</h2><p>project/<br>　　└─ src<br>　　　　├─ config<br>　　　　│　　├─ constant<br>　　　　│　　│　　├─ config<br>　　　　│　　│　　├─ implement<br>　　　　│　　│　　└─ interface<br>　　　　│　　├─ database<br>　　　　│　　│　　├─ config<br>　　　　│　　│　　├─ implement<br>　　　　│　　│　　├─ interface<br>　　　　│　　│　　├─ module<br>　　　　│　　│　　└─ pool<br>　　　　│　　├─ smtp<br>　　　　│　　│　　├─ config<br>　　　　│　　│　　├─ implement<br>　　　　│　　│　　└─ interface<br>　　　　│　　index.config.ts<br>　　　　├─ device<br>　　　　│　　├─ controller<br>　　　　│　　├─ module<br>　　　　│　　└─ service<br>　　　　├─ interceptors<br>　　　　│　　└─ basic.interceptor<br>　　　　├─ mappers<br>　　　　│　　├─ client.xml<br>　　　　│　　├─ code.xml<br>　　　　│　　├─ device.setting.xml<br>　　　　│　　├─ device.xml<br>　　　　│　　├─ email.xml<br>　　　　│　　├─ otp.xml<br>　　　　│　　├─ term.xml<br>　　　　│　　├─ user.dormancy.xml<br>　　　　│　　└─ user.xml<br>　　　　├─ packets<br>　　　　│　　├─ request<br>　　　　│　　│　　├─ login.user<br>　　　　│　　│　　├─ join.user<br>　　　　│　　│　　└─ …<br>　　　　│　　├─ response<br>　　　　│　　│　　├─ common.response.code.json<br>　　　　│　　│　　├─ common.response.code<br>　　　　│　　│　　└─ common.response<br>　　　　│　　└─ validator<br>　　　　│　　　　　├─ login.user.validation<br>　　　　│　　　　　├─ join.user.validation<br>　　　　│　　　　　└─ …<br>　　　　├─ public<br>　　　　│　　├─ confirm_member_account_mail.html<br>　　　　│　　├─ find_member_account_mail.html<br>　　　　│　　├─ find_member_password_mail.html<br>　　　　│　　└─ navien.png<br>　　　　├─ smtp<br>　　　　│　　└─ email.service<br>　　　　├─ user<br>　　　　│　　├─ controller<br>　　　　│　　├─ module<br>　　　　│　　└─ service<br>　　　　├─ utilities<br>　　　　│　　├─ common.util<br>　　　　│　　├─ crypto.util<br>　　　　│　　└─ database.util<br>　　　　├─ validate<br>　　　　│　　├─ module<br>　　　　│　　└─ service<br>　　　app.module<br>　　　main</p>\n<h4 id=\"Node-js를-도입함에-있어-당장-언어에-대해-공부하기보다는-기존-객체지향에-친숙한-언어를-써서-접근하길-원했음\"><a href=\"#Node-js를-도입함에-있어-당장-언어에-대해-공부하기보다는-기존-객체지향에-친숙한-언어를-써서-접근하길-원했음\" class=\"headerlink\" title=\"Node.js를 도입함에 있어 당장 언어에 대해 공부하기보다는 기존 객체지향에 친숙한 언어를 써서 접근하길 원했음.\"></a>Node.js를 도입함에 있어 당장 언어에 대해 공부하기보다는 기존 객체지향에 친숙한 언어를 써서 접근하길 원했음.</h4><h4 id=\"이에-필요한-템플릿을-찾기-시작했고-Nest-js를-발견하게-되었음\"><a href=\"#이에-필요한-템플릿을-찾기-시작했고-Nest-js를-발견하게-되었음\" class=\"headerlink\" title=\"이에 필요한 템플릿을 찾기 시작했고, Nest.js를 발견하게 되었음.\"></a>이에 필요한 템플릿을 찾기 시작했고, Nest.js를 발견하게 되었음.</h4><h4 id=\"annotation도-유사하게-활용이-가능하며-언어-스타일이-Java와-매우-비슷함\"><a href=\"#annotation도-유사하게-활용이-가능하며-언어-스타일이-Java와-매우-비슷함\" class=\"headerlink\" title=\"annotation도 유사하게 활용이 가능하며, 언어 스타일이 Java와 매우 비슷함.\"></a>annotation도 유사하게 활용이 가능하며, 언어 스타일이 Java와 매우 비슷함.</h4><hr>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"JAVASCRIPT\"><figure class=\"iseeu highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;Injectable&#125; <span class=\"keyword\">from</span> <span class=\"string\">\"@nestjs/common\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;ConstantImplement&#125; <span class=\"keyword\">from</span> <span class=\"string\">\"./constant.implement\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;Env&#125; <span class=\"keyword\">from</span> <span class=\"string\">\"../index.config\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@author                  <span class=\"variable\">jms</span></span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@since                   </span>2020-10-29</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@description             </span>공통설정 환경별 분기</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\">@Injectable()</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ConstantConfig</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  public constConfig() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> result;</span><br><span class=\"line\">    <span class=\"keyword\">switch</span> (Env) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">case</span> <span class=\"string\">'local'</span>:</span><br><span class=\"line\">        result = ConstantImplement.local;</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">      <span class=\"keyword\">case</span> <span class=\"string\">'dev'</span>:</span><br><span class=\"line\">        result = ConstantImplement.dev;</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">      <span class=\"keyword\">case</span> <span class=\"string\">'prod'</span>:</span><br><span class=\"line\">        result = ConstantImplement.prod;</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">      <span class=\"keyword\">default</span>:</span><br><span class=\"line\">        result = ConstantImplement.dev;</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"위-bash처럼-만들어주면-Nest-js가-내용을-그대로-node-js-형태로-만들어줌\"><a href=\"#위-bash처럼-만들어주면-Nest-js가-내용을-그대로-node-js-형태로-만들어줌\" class=\"headerlink\" title=\"위 bash처럼 만들어주면, Nest.js가 내용을 그대로 node.js 형태로 만들어줌.\"></a>위 bash처럼 만들어주면, Nest.js가 내용을 그대로 node.js 형태로 만들어줌.</h4><h4 id=\"nest형태로-서버에-올리기-싫다면-dist폴더로-추출된-Export-파일들을-그대로-서버로-올려주면-된다\"><a href=\"#nest형태로-서버에-올리기-싫다면-dist폴더로-추출된-Export-파일들을-그대로-서버로-올려주면-된다\" class=\"headerlink\" title=\"nest형태로 서버에 올리기 싫다면, dist폴더로 추출된 Export 파일들을 그대로 서버로 올려주면 된다.\"></a>nest형태로 서버에 올리기 싫다면, dist폴더로 추출된 Export 파일들을 그대로 서버로 올려주면 된다.</h4><h4 id=\"개인적으로-언어의-장벽이-높다고-판단이-되거나-신규-언어에-대한-학습-시간이-없을-경우-빠르게-생산할-경우에-대해-nest는-좋은-선택지가-될-수-있다고-봄\"><a href=\"#개인적으로-언어의-장벽이-높다고-판단이-되거나-신규-언어에-대한-학습-시간이-없을-경우-빠르게-생산할-경우에-대해-nest는-좋은-선택지가-될-수-있다고-봄\" class=\"headerlink\" title=\"개인적으로 언어의 장벽이 높다고 판단이 되거나, 신규 언어에 대한 학습 시간이 없을 경우, 빠르게 생산할 경우에 대해 nest는 좋은 선택지가 될 수 있다고 봄.\"></a>개인적으로 언어의 장벽이 높다고 판단이 되거나, 신규 언어에 대한 학습 시간이 없을 경우, 빠르게 생산할 경우에 대해 nest는 좋은 선택지가 될 수 있다고 봄.</h4><hr>\n<h3 id=\"주요-기능\"><a href=\"#주요-기능\" class=\"headerlink\" title=\"주요 기능\"></a>주요 기능</h3><h4 id=\"1-사용자\"><a href=\"#1-사용자\" class=\"headerlink\" title=\"1. 사용자\"></a>1. 사용자</h4><h5 id=\"1-회원가입\"><a href=\"#1-회원가입\" class=\"headerlink\" title=\"　　1) 회원가입\"></a>　　1) 회원가입</h5><h5 id=\"2-로그인\"><a href=\"#2-로그인\" class=\"headerlink\" title=\"　　2) 로그인\"></a>　　2) 로그인</h5><h5 id=\"3-이메일-인증\"><a href=\"#3-이메일-인증\" class=\"headerlink\" title=\"　　3) 이메일 인증\"></a>　　3) 이메일 인증</h5><h5 id=\"4-인증정보-갱신\"><a href=\"#4-인증정보-갱신\" class=\"headerlink\" title=\"　　4) 인증정보 갱신\"></a>　　4) 인증정보 갱신</h5><h5 id=\"5-회원탈퇴\"><a href=\"#5-회원탈퇴\" class=\"headerlink\" title=\"　　5) 회원탈퇴\"></a>　　5) 회원탈퇴</h5><h5 id=\"6-사용자-정보-복구-휴면\"><a href=\"#6-사용자-정보-복구-휴면\" class=\"headerlink\" title=\"　　6) 사용자 정보 복구(휴면)\"></a>　　6) 사용자 정보 복구(휴면)</h5><h5 id=\"7-사용자-정보-조회\"><a href=\"#7-사용자-정보-조회\" class=\"headerlink\" title=\"　　7) 사용자 정보 조회\"></a>　　7) 사용자 정보 조회</h5><h5 id=\"8-사용자-정보-변경\"><a href=\"#8-사용자-정보-변경\" class=\"headerlink\" title=\"　　8) 사용자 정보 변경\"></a>　　8) 사용자 정보 변경</h5><h5 id=\"9-로그인-ID-찾기\"><a href=\"#9-로그인-ID-찾기\" class=\"headerlink\" title=\"　　9) 로그인 ID 찾기\"></a>　　9) 로그인 ID 찾기</h5><h5 id=\"10-사용자-비밀번호-초기화-찾기\"><a href=\"#10-사용자-비밀번호-초기화-찾기\" class=\"headerlink\" title=\"　　10) 사용자 비밀번호 초기화(찾기)\"></a>　　10) 사용자 비밀번호 초기화(찾기)</h5><h5 id=\"11-이용약관-동의\"><a href=\"#11-이용약관-동의\" class=\"headerlink\" title=\"　　11) 이용약관 동의\"></a>　　11) 이용약관 동의</h5><hr>\n<h4 id=\"2-디바이스\"><a href=\"#2-디바이스\" class=\"headerlink\" title=\"2. 디바이스\"></a>2. 디바이스</h4><h5 id=\"1-디바이스-리스트\"><a href=\"#1-디바이스-리스트\" class=\"headerlink\" title=\"　　1) 디바이스 리스트\"></a>　　1) 디바이스 리스트</h5><h5 id=\"2-디바이스-이름-수정\"><a href=\"#2-디바이스-이름-수정\" class=\"headerlink\" title=\"　　2) 디바이스 이름 수정\"></a>　　2) 디바이스 이름 수정</h5><h5 id=\"3-디바이스-푸시-설정정보-조회\"><a href=\"#3-디바이스-푸시-설정정보-조회\" class=\"headerlink\" title=\"　　3) 디바이스 푸시 설정정보 조회\"></a>　　3) 디바이스 푸시 설정정보 조회</h5><h5 id=\"4-디바이스-푸시-설정정보-변경\"><a href=\"#4-디바이스-푸시-설정정보-변경\" class=\"headerlink\" title=\"　　4) 디바이스 푸시 설정정보 변경\"></a>　　4) 디바이스 푸시 설정정보 변경</h5><h5 id=\"5-디바이스-등록\"><a href=\"#5-디바이스-등록\" class=\"headerlink\" title=\"　　5) 디바이스 등록\"></a>　　5) 디바이스 등록</h5><h5 id=\"6-디바이스-삭제\"><a href=\"#6-디바이스-삭제\" class=\"headerlink\" title=\"　　6) 디바이스 삭제\"></a>　　6) 디바이스 삭제</h5><hr>\n<h3 id=\"사용-Library\"><a href=\"#사용-Library\" class=\"headerlink\" title=\"사용 Library\"></a>사용 Library</h3><h5 id=\"1-로그-nest-winston\"><a href=\"#1-로그-nest-winston\" class=\"headerlink\" title=\"　　1) 로그 : nest-winston\"></a>　　1) 로그 : nest-winston</h5><h5 id=\"2-AWS-aws-sdk\"><a href=\"#2-AWS-aws-sdk\" class=\"headerlink\" title=\"　　2) AWS : aws-sdk\"></a>　　2) AWS : aws-sdk</h5><h5 id=\"3-parameter-검증-joi\"><a href=\"#3-parameter-검증-joi\" class=\"headerlink\" title=\"　　3) parameter 검증 : joi\"></a>　　3) parameter 검증 : joi</h5><h5 id=\"4-단방향Hash-bcryptjs\"><a href=\"#4-단방향Hash-bcryptjs\" class=\"headerlink\" title=\"　　4) 단방향Hash : bcryptjs\"></a>　　4) 단방향Hash : bcryptjs</h5><h5 id=\"5-시간-moment\"><a href=\"#5-시간-moment\" class=\"headerlink\" title=\"　　5) 시간 : moment\"></a>　　5) 시간 : moment</h5><h5 id=\"6-JWT-Token-jsonwebtoken\"><a href=\"#6-JWT-Token-jsonwebtoken\" class=\"headerlink\" title=\"　　6) JWT Token : jsonwebtoken\"></a>　　6) JWT Token : jsonwebtoken</h5><h5 id=\"7-이메일-발송-nestjs-modules-mailer\"><a href=\"#7-이메일-발송-nestjs-modules-mailer\" class=\"headerlink\" title=\"　　7) 이메일 발송 : @nestjs-modules/mailer\"></a>　　7) 이메일 발송 : @nestjs-modules/mailer</h5><h5 id=\"8-양방향-암호화-AES256-crypto\"><a href=\"#8-양방향-암호화-AES256-crypto\" class=\"headerlink\" title=\"　　8) 양방향 암호화 AES256 : crypto\"></a>　　8) 양방향 암호화 AES256 : crypto</h5><h5 id=\"9-Database-pool-mysql2\"><a href=\"#9-Database-pool-mysql2\" class=\"headerlink\" title=\"　　9) Database pool : mysql2\"></a>　　9) Database pool : mysql2</h5><h5 id=\"10-Database-mapper-mybatis-mapper\"><a href=\"#10-Database-mapper-mybatis-mapper\" class=\"headerlink\" title=\"　　10) Database mapper : mybatis-mapper\"></a>　　10) Database mapper : mybatis-mapper</h5><h5 id=\"11-파일시스템-fs\"><a href=\"#11-파일시스템-fs\" class=\"headerlink\" title=\"　　11) 파일시스템 : fs\"></a>　　11) 파일시스템 : fs</h5><h5 id=\"12-임의String생성-rand-token\"><a href=\"#12-임의String생성-rand-token\" class=\"headerlink\" title=\"　　12) 임의String생성 : rand-token\"></a>　　12) 임의String생성 : rand-token</h5><hr>\n<h5 id=\"결국은-2주만에-모든-기능을-만들었다-솔직히-Nest를-활용했기-때문에-빠르게-끝냈을-것으로-보이며-순수-Node-js를-사용했다면-최소-1달-이상은-걸렸을-것이라고-확신한다\"><a href=\"#결국은-2주만에-모든-기능을-만들었다-솔직히-Nest를-활용했기-때문에-빠르게-끝냈을-것으로-보이며-순수-Node-js를-사용했다면-최소-1달-이상은-걸렸을-것이라고-확신한다\" class=\"headerlink\" title=\"결국은 2주만에 모든 기능을 만들었다. 솔직히 Nest를 활용했기 때문에 빠르게 끝냈을 것으로 보이며, 순수 Node.js를 사용했다면 최소 1달 이상은 걸렸을 것이라고 확신한다.\"></a>결국은 2주만에 모든 기능을 만들었다. 솔직히 Nest를 활용했기 때문에 빠르게 끝냈을 것으로 보이며, 순수 Node.js를 사용했다면 최소 1달 이상은 걸렸을 것이라고 확신한다.</h5><h5 id=\"앱과-디바이스쪽-테스트에서도-좋은-성능을-기대한다\"><a href=\"#앱과-디바이스쪽-테스트에서도-좋은-성능을-기대한다\" class=\"headerlink\" title=\"앱과 디바이스쪽 테스트에서도 좋은 성능을 기대한다.\"></a>앱과 디바이스쪽 테스트에서도 좋은 성능을 기대한다.</h5>","text":"API Template 구조도 [Figure] 위 bash처럼 만들어주면, Nest.js가 내용을 그대로 node.js 형태로 만들어줌.nest형태로 서버에 올리기 싫다면, dist폴더로 추출된 Export 파일들을 그대로 서버로 올려주면 된다.개인적","link":"","raw":null,"photos":[],"categories":[{"name":"tip","slug":"tip","count":23,"path":"api/categories/tip.json"}],"tags":[{"name":"node","slug":"node","count":3,"path":"api/tags/node.json"},{"name":"api","slug":"api","count":2,"path":"api/tags/api.json"},{"name":"template","slug":"template","count":1,"path":"api/tags/template.json"}]},{"title":"node.js TypeORM, Sequelize Test","slug":"node-js-TypeORM-Sequelize-Test","date":"2020-11-18T23:32:52.000Z","updated":"2020-11-23T01:24:14.574Z","comments":true,"pin":null,"path":"api/articles/node-js-TypeORM-Sequelize-Test.json","excerpt":"","keywords":null,"cover":"https://user-images.githubusercontent.com/62123161/99920422-c16d1e00-2d66-11eb-8e89-c64081815bfe.png","content":"<h2 id=\"API에서-Sequelize-사용하기\"><a href=\"#API에서-Sequelize-사용하기\" class=\"headerlink\" title=\"API에서 Sequelize 사용하기\"></a>API에서 Sequelize 사용하기</h2><hr>\n<h4 id=\"1-Install\"><a href=\"#1-Install\" class=\"headerlink\" title=\"1. Install\"></a>1. Install</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g --save mysql2</span><br><span class=\"line\"></span><br><span class=\"line\">npm install -g --save sequelize</span><br><span class=\"line\">npm install -g --save sequelize-cli</span><br><span class=\"line\">npm install -g --save sequelize-auto</span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"2-Sequelize-설정\"><a href=\"#2-Sequelize-설정\" class=\"headerlink\" title=\"2. Sequelize 설정\"></a>2. Sequelize 설정</h4> <div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sequelize-auto -o [MODEL_PATH] -d [TABLE] -h [DATABASE_ADDRESS] -u [USERID] -x [PASSWORD] -p [DATABASE_PORT] -e [DATABASE_TYPE]</span><br></pre></td></tr></table></figure></div>\n<h5 id=\"1-o-mapper-model\"><a href=\"#1-o-mapper-model\" class=\"headerlink\" title=\"1) -o : mapper model\"></a>1) -o : mapper model</h5><h5 id=\"2-d-table\"><a href=\"#2-d-table\" class=\"headerlink\" title=\"2) -d : table\"></a>2) -d : table</h5><h5 id=\"3-h-database\"><a href=\"#3-h-database\" class=\"headerlink\" title=\"3) -h : database\"></a>3) -h : database</h5><h5 id=\"4-u-userId\"><a href=\"#4-u-userId\" class=\"headerlink\" title=\"4) -u : userId\"></a>4) -u : userId</h5><h5 id=\"5-x-password\"><a href=\"#5-x-password\" class=\"headerlink\" title=\"5) -x : password\"></a>5) -x : password</h5><h5 id=\"6-p-port\"><a href=\"#6-p-port\" class=\"headerlink\" title=\"6) -p : port\"></a>6) -p : port</h5><h5 id=\"7-e-database-type\"><a href=\"#7-e-database-type\" class=\"headerlink\" title=\"7) -e : database type\"></a>7) -e : database type</h5><h4 id=\"3-model-mapper\"><a href=\"#3-model-mapper\" class=\"headerlink\" title=\"3. model mapper\"></a>3. model mapper</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"JAVASCRIPT\"><figure class=\"iseeu highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* jshint indent: 2 */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">sequelize, DataTypes</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> sequelize.define(<span class=\"string\">'userInfo'</span>, &#123;</span><br><span class=\"line\">    seq: &#123;</span><br><span class=\"line\">      autoIncrement: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      type: DataTypes.INTEGER(<span class=\"number\">11</span>),</span><br><span class=\"line\">      allowNull: <span class=\"literal\">false</span>,</span><br><span class=\"line\">      primaryKey: <span class=\"literal\">true</span></span><br><span class=\"line\">      <span class=\"comment\">/*get() &#123;</span></span><br><span class=\"line\"><span class=\"comment\">        const rawValue = this.getDataValue(seq);</span></span><br><span class=\"line\"><span class=\"comment\">        return rawValue ? rawValue.toUpperCase() : null;</span></span><br><span class=\"line\"><span class=\"comment\">      &#125;*/</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    id: &#123;</span><br><span class=\"line\">      type: DataTypes.STRING(<span class=\"number\">30</span>),</span><br><span class=\"line\">      allowNull: <span class=\"literal\">false</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    password: &#123;</span><br><span class=\"line\">      type: DataTypes.STRING(<span class=\"number\">100</span>),</span><br><span class=\"line\">      allowNull: <span class=\"literal\">false</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    email: &#123;</span><br><span class=\"line\">      type: DataTypes.STRING(<span class=\"number\">50</span>),</span><br><span class=\"line\">      allowNull: <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    loginDate: &#123;</span><br><span class=\"line\">      type: DataTypes.DATEONLY,</span><br><span class=\"line\">      allowNull: <span class=\"literal\">false</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    registDate: &#123;</span><br><span class=\"line\">      type: DataTypes.DATEONLY,</span><br><span class=\"line\">      allowNull: <span class=\"literal\">false</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;, &#123;</span><br><span class=\"line\">    sequelize,</span><br><span class=\"line\">    tableName: <span class=\"string\">'userInfo'</span></span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"4-model-index-code\"><a href=\"#4-model-index-code\" class=\"headerlink\" title=\"4. model index code\"></a>4. model index code</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"JAVASCRIPT\"><figure class=\"iseeu highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">'use strict'</span>;</span><br><span class=\"line\"><span class=\"comment\">//프로젝트의 파일을 읽기위한 용도</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> fs = <span class=\"built_in\">require</span>(<span class=\"string\">'fs'</span>);</span><br><span class=\"line\"><span class=\"comment\">//프로젝트 파일의 경로를 얻기 위한 용도</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">'path'</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> Sequelize = <span class=\"built_in\">require</span>(<span class=\"string\">'sequelize'</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> basename = path.basename(__filename);</span><br><span class=\"line\"><span class=\"keyword\">const</span> env = process.env.NODE_ENV;</span><br><span class=\"line\"><span class=\"comment\">//DB 연결정보를 환경변수로 가변설정</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> config = <span class=\"built_in\">require</span>(__dirname + <span class=\"string\">'/../config/dbConfig.json'</span>)[env];</span><br><span class=\"line\"><span class=\"keyword\">const</span> db = &#123;&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// nodejs에서 mysql 접근을 쉽게 할 수 있도록 하는 라이브러리 사용(ORM 맵핑을 위해 사용한 것으로 파악)</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> sequelize = <span class=\"keyword\">new</span> Sequelize(config.database, config.username, config.password, config);</span><br><span class=\"line\"><span class=\"comment\">// <span class=\"doctag\">TODO:</span> 1. 직접 선언형태의 방법을 사용하는 방법.</span></span><br><span class=\"line\">db.userInfo = <span class=\"built_in\">require</span>(<span class=\"string\">'../model/userInfo'</span>)(sequelize, Sequelize);</span><br><span class=\"line\">db.deviceInfo = <span class=\"built_in\">require</span>(<span class=\"string\">'../model/deviceInfo'</span>)(sequelize, Sequelize);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// <span class=\"doctag\">TODO:</span> 2. 자동으로 파일에서 로드하여 필요한 객체를 받아오는 방법.</span></span><br><span class=\"line\"><span class=\"comment\">//https://blog.csdn.net/weixin_34324081/article/details/91445015</span></span><br><span class=\"line\"><span class=\"comment\">//fs를 통해 자동으로 로드되서 실행되고(ORM) 생성된 모델 객체가 db객체 아래에 마운트됨..</span></span><br><span class=\"line\">fs</span><br><span class=\"line\">    .readdirSync(__dirname)</span><br><span class=\"line\">    .filter(<span class=\"function\"><span class=\"params\">file</span> =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (file.indexOf(<span class=\"string\">'.'</span>) !== <span class=\"number\">0</span>) &amp;&amp; (file !== basename) &amp;&amp; (file.slice(<span class=\"number\">-3</span>) === <span class=\"string\">'.js'</span>);</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .forEach(<span class=\"function\"><span class=\"params\">file</span> =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> model = <span class=\"built_in\">require</span>(path.join(__dirname, file))(sequelize, Sequelize.DataTypes);</span><br><span class=\"line\">        db[model.name] = model;</span><br><span class=\"line\">        <span class=\"comment\">//console.log(model.name);</span></span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">Object</span>.keys(db).forEach(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">modelName</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (db[modelName].associate) &#123;</span><br><span class=\"line\">        db[modelName].associate(db);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">db.sequelize = sequelize;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = db;</span><br></pre></td></tr></table></figure></div>\n\n<h2 id=\"API에서-TypeORM-사용하기\"><a href=\"#API에서-TypeORM-사용하기\" class=\"headerlink\" title=\"API에서 TypeORM 사용하기\"></a>API에서 TypeORM 사용하기</h2><h4 id=\"1-Install-1\"><a href=\"#1-Install-1\" class=\"headerlink\" title=\"1. Install\"></a>1. Install</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install --save @nestjs/typeorm</span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"2-TypeORM-Repository-활용\"><a href=\"#2-TypeORM-Repository-활용\" class=\"headerlink\" title=\"2. TypeORM.Repository 활용\"></a>2. TypeORM.Repository 활용</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"JAVASCRIPT\"><figure class=\"iseeu highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; Repository, EntityRepository &#125; <span class=\"keyword\">from</span> <span class=\"string\">\"typeorm\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; User &#125; <span class=\"keyword\">from</span> <span class=\"string\">'../user/entities/user.entity'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">@EntityRepository(User)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UserRepository</span> <span class=\"keyword\">extends</span> <span class=\"title\">Repository</span>&lt;<span class=\"title\">User</span>&gt;</span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"3-model-mapper-1\"><a href=\"#3-model-mapper-1\" class=\"headerlink\" title=\"3. model mapper\"></a>3. model mapper</h4><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"JAVASCRIPT\"><figure class=\"iseeu highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; Entity, Column, PrimaryColumn &#125; <span class=\"keyword\">from</span> <span class=\"string\">'typeorm'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; mapping &#125; <span class=\"keyword\">from</span> <span class=\"string\">'auto-mapping'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">@Entity(<span class=\"string\">'TBL_USERsss'</span>, &#123; <span class=\"attr\">synchronize</span>: <span class=\"literal\">false</span> &#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">User</span> </span>&#123;</span><br><span class=\"line\">  @PrimaryColumn(&#123;<span class=\"attr\">name</span>:<span class=\"string\">'user_id'</span>&#125;)</span><br><span class=\"line\">  @mapping(&#123; <span class=\"attr\">type</span>: <span class=\"built_in\">String</span> &#125;)</span><br><span class=\"line\">  id: string;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Column(&#123;<span class=\"attr\">name</span>:<span class=\"string\">'user_pwd'</span>, <span class=\"attr\">length</span>: <span class=\"number\">128</span>, <span class=\"attr\">nullable</span>: <span class=\"literal\">false</span>&#125;)</span><br><span class=\"line\">  @mapping(&#123; <span class=\"attr\">type</span>: <span class=\"built_in\">String</span> &#125;)</span><br><span class=\"line\">  password: string;</span><br><span class=\"line\">  <span class=\"comment\">//@ForeignKey(() =&gt; Profile)</span></span><br><span class=\"line\">  @Column(&#123;<span class=\"attr\">name</span>:<span class=\"string\">'usergroup_id'</span>, <span class=\"attr\">default</span>: <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> <span class=\"number\">1</span>, <span class=\"attr\">nullable</span>: <span class=\"literal\">false</span>&#125;)</span><br><span class=\"line\">  @mapping(&#123; <span class=\"attr\">type</span>: <span class=\"built_in\">Number</span> &#125;)</span><br><span class=\"line\">  userGroupId: number;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Column(&#123;<span class=\"attr\">name</span>:<span class=\"string\">'user_status'</span>, <span class=\"attr\">length</span>: <span class=\"number\">1</span>, <span class=\"attr\">nullable</span>: <span class=\"literal\">false</span>&#125;)</span><br><span class=\"line\">  @mapping(&#123; <span class=\"attr\">type</span>: <span class=\"built_in\">String</span> &#125;)</span><br><span class=\"line\">  userStatus: string;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Column(&#123;<span class=\"attr\">name</span>:<span class=\"string\">'user_name'</span>, <span class=\"attr\">length</span>: <span class=\"number\">50</span>, <span class=\"attr\">nullable</span>: <span class=\"literal\">false</span>&#125;)</span><br><span class=\"line\">  @mapping(&#123; <span class=\"attr\">type</span>: <span class=\"built_in\">String</span> &#125;)</span><br><span class=\"line\">  name: string;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Column(&#123;<span class=\"attr\">name</span>:<span class=\"string\">'user_mobileno'</span>, <span class=\"attr\">length</span>: <span class=\"number\">13</span>, <span class=\"attr\">nullable</span>: <span class=\"literal\">false</span>&#125;)</span><br><span class=\"line\">  @mapping(&#123; <span class=\"attr\">type</span>: <span class=\"built_in\">String</span> &#125;)</span><br><span class=\"line\">  mobile: string;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Column(&#123;<span class=\"attr\">name</span>:<span class=\"string\">'user_email'</span>, <span class=\"attr\">length</span>: <span class=\"number\">50</span>, <span class=\"attr\">nullable</span>: <span class=\"literal\">false</span>&#125;)</span><br><span class=\"line\">  @mapping(&#123; <span class=\"attr\">type</span>: <span class=\"built_in\">String</span> &#125;)</span><br><span class=\"line\">  email: string;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Column(&#123;<span class=\"attr\">name</span>:<span class=\"string\">'user_birthday'</span>, <span class=\"attr\">nullable</span>: <span class=\"literal\">false</span>&#125;)</span><br><span class=\"line\">  @mapping(&#123; <span class=\"attr\">type</span>: <span class=\"built_in\">String</span> &#125;)</span><br><span class=\"line\">  birthday: string;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Column(&#123;<span class=\"attr\">name</span>:<span class=\"string\">'mobile_model'</span>, <span class=\"attr\">length</span>: <span class=\"number\">30</span>, <span class=\"attr\">nullable</span>: <span class=\"literal\">false</span>&#125;)</span><br><span class=\"line\">  @mapping(&#123; <span class=\"attr\">type</span>: <span class=\"built_in\">String</span> &#125;)</span><br><span class=\"line\">  mobileModel: string;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Column(&#123;<span class=\"attr\">name</span>:<span class=\"string\">'os_type'</span>, <span class=\"attr\">length</span>: <span class=\"number\">1</span>, <span class=\"attr\">nullable</span>: <span class=\"literal\">false</span>&#125;)</span><br><span class=\"line\">  @mapping(&#123; <span class=\"attr\">type</span>: <span class=\"built_in\">String</span> &#125;)</span><br><span class=\"line\">  os: string;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Column(&#123;<span class=\"attr\">name</span>:<span class=\"string\">'os_ver'</span>, <span class=\"attr\">length</span>: <span class=\"number\">30</span>, <span class=\"attr\">nullable</span>: <span class=\"literal\">false</span>&#125;)</span><br><span class=\"line\">  @mapping(&#123; <span class=\"attr\">type</span>: <span class=\"built_in\">String</span> &#125;)</span><br><span class=\"line\">  osVer: string;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Column(&#123;<span class=\"attr\">name</span>:<span class=\"string\">'app_ver'</span>, <span class=\"attr\">length</span>: <span class=\"number\">8</span>, <span class=\"attr\">nullable</span>: <span class=\"literal\">false</span>&#125;)</span><br><span class=\"line\">  @mapping(&#123; <span class=\"attr\">type</span>: <span class=\"built_in\">String</span> &#125;)</span><br><span class=\"line\">  appVer: string;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Column(&#123;<span class=\"attr\">name</span>:<span class=\"string\">'user_logindt'</span>, <span class=\"attr\">default</span>: <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> <span class=\"string\">`now()`</span>, <span class=\"attr\">nullable</span>: <span class=\"literal\">false</span>&#125;)</span><br><span class=\"line\">  @mapping(&#123; <span class=\"attr\">type</span>: <span class=\"built_in\">Date</span> &#125;)</span><br><span class=\"line\">  loginDate: <span class=\"built_in\">Date</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Column(&#123;<span class=\"attr\">name</span>:<span class=\"string\">'user_loginip'</span>, <span class=\"attr\">length</span>: <span class=\"number\">45</span>, <span class=\"attr\">nullable</span>: <span class=\"literal\">false</span>&#125;)</span><br><span class=\"line\">  @mapping(&#123; <span class=\"attr\">type</span>: <span class=\"built_in\">String</span> &#125;)</span><br><span class=\"line\">  loginIp: string;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Column(&#123;<span class=\"attr\">name</span>:<span class=\"string\">'insert_dt'</span>, <span class=\"attr\">default</span>: <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> <span class=\"string\">`now()`</span>, <span class=\"attr\">nullable</span>: <span class=\"literal\">false</span>&#125;)</span><br><span class=\"line\">  @mapping(&#123; <span class=\"attr\">type</span>: <span class=\"built_in\">Date</span> &#125;)</span><br><span class=\"line\">  insertDate: <span class=\"built_in\">Date</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Column(&#123;<span class=\"attr\">name</span>:<span class=\"string\">'insert_ip'</span>, <span class=\"attr\">length</span>: <span class=\"number\">45</span>, <span class=\"attr\">nullable</span>: <span class=\"literal\">false</span>&#125;)</span><br><span class=\"line\">  @mapping(&#123; <span class=\"attr\">type</span>: <span class=\"built_in\">String</span> &#125;)</span><br><span class=\"line\">  insertIp: string;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Column(&#123; <span class=\"attr\">name</span>: <span class=\"string\">'update_dt'</span>, <span class=\"attr\">default</span>: <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> <span class=\"string\">`now()`</span>, <span class=\"attr\">nullable</span>: <span class=\"literal\">false</span> &#125;)</span><br><span class=\"line\">  @mapping(&#123; <span class=\"attr\">type</span>: <span class=\"built_in\">Date</span> &#125;)</span><br><span class=\"line\">  updateDate: <span class=\"built_in\">Date</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  @Column(&#123; <span class=\"attr\">name</span>: <span class=\"string\">'update_ip'</span>, <span class=\"attr\">length</span>: <span class=\"number\">45</span>, <span class=\"attr\">nullable</span>: <span class=\"literal\">false</span> &#125;)</span><br><span class=\"line\">  @mapping(&#123; <span class=\"attr\">type</span>: <span class=\"built_in\">String</span> &#125;)</span><br><span class=\"line\">  updateIp: string;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"4-Type-ORM-Method\"><a href=\"#4-Type-ORM-Method\" class=\"headerlink\" title=\"4. Type ORM Method\"></a>4. Type ORM Method</h4><p><a href=\"https://velog.io/@josworks27/typeORM-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0\" target=\"_blank\" rel=\"noopener\">https://velog.io/@josworks27/typeORM-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0</a></p>\n<ul>\n<li>save, findone등 여러 method들이 있다. 활용하면 간단한 SQL은 충분히 날려볼 수 있다.</li>\n</ul>\n<h2 id=\"성능비교\"><a href=\"#성능비교\" class=\"headerlink\" title=\"성능비교\"></a>성능비교</h2><p><a href=\"https://user-images.githubusercontent.com/62123161/99920422-c16d1e00-2d66-11eb-8e89-c64081815bfe.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/99920422-c16d1e00-2d66-11eb-8e89-c64081815bfe.png\" alt=\"image\"></a></p>\n<ul>\n<li>너무 차이가 나기에 편리함vs성능 둘 중 어느 것을 택할지는 비지니스 성격에 맞춰야 할 것으로 보임.</li>\n</ul>\n","text":"API에서 Sequelize 사용하기1. Install1<br>2<br>3<br>4<br>5<br>npm install -g --save mysql2<br><br>npm install -g --save sequelize<br>npm install -g","link":"","raw":null,"photos":[],"categories":[{"name":"tip","slug":"tip","count":23,"path":"api/categories/tip.json"}],"tags":[{"name":"node","slug":"node","count":3,"path":"api/tags/node.json"},{"name":"api","slug":"api","count":2,"path":"api/tags/api.json"},{"name":"ORM","slug":"ORM","count":1,"path":"api/tags/ORM.json"},{"name":"sequelize","slug":"sequelize","count":1,"path":"api/tags/sequelize.json"}]},{"title":"API Test Automation","slug":"Test-Automation","date":"2020-05-18T05:03:17.000Z","updated":"2020-05-18T06:55:10.233Z","comments":true,"pin":null,"path":"api/articles/Test-Automation.json","excerpt":"","keywords":null,"cover":"https://user-images.githubusercontent.com/62123161/82177523-a54e7700-9914-11ea-88e1-8af223b3b39a.png","content":"<h2 id=\"개발환경-구축\"><a href=\"#개발환경-구축\" class=\"headerlink\" title=\"개발환경 구축\"></a>개발환경 구축</h2><p>※ 기본 개발환경</p>\n<ul>\n<li>VisualStudio Code</li>\n<li>Javascript, HTML</li>\n<li>Chrome</li>\n</ul>\n<h2 id=\"설정\"><a href=\"#설정\" class=\"headerlink\" title=\"설정\"></a>설정</h2><p><a href=\"https://user-images.githubusercontent.com/62123161/82177523-a54e7700-9914-11ea-88e1-8af223b3b39a.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/82177523-a54e7700-9914-11ea-88e1-8af223b3b39a.png\" alt=\"testautomation_01\"></a></p>\n<ul>\n<li>위 사진처럼 Chrome 셋팅을 진행한다. </li>\n<li>(크롬Local주소)\\chrome.exe” –disable-web-security –user-data-dir=”C:\\chrome</li>\n</ul>\n<h3 id=\"왜-QUnit-인가\"><a href=\"#왜-QUnit-인가\" class=\"headerlink\" title=\"왜 QUnit 인가?\"></a>왜 QUnit 인가?</h3><ul>\n<li><a href=\"http://bl.ocks.org/Potherca/raw/7946371/\" target=\"_blank\" rel=\"noopener\">http://bl.ocks.org/Potherca/raw/7946371/</a></li>\n<li>나온건 2008년이므로 jQuery유닛테스트의 소스로부터 추출했고, 2009년에 완전 독립적인 프로젝트가 되었음.</li>\n<li>(간단히 테스트 할 수 있는 주소)<a href=\"https://cjh5414.github.io/QUnit/\" target=\"_blank\" rel=\"noopener\">https://cjh5414.github.io/QUnit/</a></li>\n<li>QUnit 작성 시 시나리오를 명확히 알아야 함. 그래야 TC(Test Case)를 완벽히 정의할 수 있음.</li>\n</ul>\n<h3 id=\"API-테스트는-간단한-HTTP-Method를-사용하므로-스크립트-언어를-사용하여-간단히-구현\"><a href=\"#API-테스트는-간단한-HTTP-Method를-사용하므로-스크립트-언어를-사용하여-간단히-구현\" class=\"headerlink\" title=\"API 테스트는 간단한 HTTP Method를 사용하므로, 스크립트 언어를 사용하여 간단히 구현\"></a>API 테스트는 간단한 HTTP Method를 사용하므로, 스크립트 언어를 사용하여 간단히 구현</h3><p><a href=\"https://user-images.githubusercontent.com/62123161/82177384-37a24b00-9914-11ea-932e-e508639f8cf5.png\" target=\"_blank\" rel=\"noopener\"><img src=\"https://user-images.githubusercontent.com/62123161/82177384-37a24b00-9914-11ea-932e-e508639f8cf5.png\" alt=\"testautomation_02\"></a></p>\n<ol>\n<li>요청에 Delay를 정해두고 Sync 활성화</li>\n<li>HTTP Method 별로 오버로딩 하여 전체 시나리오에 사용.</li>\n<li>App / Device / User / Weather 의 총 4가지 Category로 나누어 테스트 케이스 작성.</li>\n<li>각 예외상황에 따른 요청 작성.</li>\n</ol>\n<h3 id=\"JavaScript-Source\"><a href=\"#JavaScript-Source\" class=\"headerlink\" title=\"JavaScript Source\"></a>JavaScript Source</h3><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>App Test Case</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">///////////////////</span><br><span class=\"line\">/*   APP CASE   */</span><br><span class=\"line\">///////////////////</span><br><span class=\"line\">/*-------------------------------------------------------------------------------------------------</span><br><span class=\"line\">    App Version</span><br><span class=\"line\"> * -----------------------------------------------------------------------------------------------*/</span><br><span class=\"line\">class NRunnerAppVersionData &#123;</span><br><span class=\"line\">    constructor(os) &#123;</span><br><span class=\"line\">        this._os = os;</span><br><span class=\"line\">        this._orgos = os;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    setOs(os) &#123;</span><br><span class=\"line\">        this._os = os;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">reset</span></span>() &#123;</span><br><span class=\"line\">        this._os = this._orgos;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">toJSON</span></span>() &#123;</span><br><span class=\"line\">        const params = &#123;</span><br><span class=\"line\">            <span class=\"string\">'os'</span>: this._os,</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> params;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const appVersionData = new NRunnerAppVersionData(</span><br><span class=\"line\">    <span class=\"string\">'A'</span></span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">class NRunnerAppVersionCase extends NRunnerHttpClient &#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span></span>() &#123;</span><br><span class=\"line\">        super();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testSuccess(result_callback) &#123;</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/app/version'</span>, appVersionData.toJSON(), null);</span><br><span class=\"line\">         __sleep(500);</span><br><span class=\"line\">         appVersionData.setOs(<span class=\"string\">'I'</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/app/version'</span>, appVersionData.toJSON(), result_callback);</span><br><span class=\"line\">        appVersionData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testBadRequest(result_callback) &#123;</span><br><span class=\"line\">        /* sign out with null ID */</span><br><span class=\"line\">        appVersionData.setOs(null);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/app/version'</span>, appVersionData.toJSON(), result_callback);</span><br><span class=\"line\">        appVersionData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testNoData(result_callback) &#123;</span><br><span class=\"line\">        appVersionData.setOs(<span class=\"string\">'wrong_os'</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/app/version'</span>, appVersionData.toJSON(), result_callback);</span><br><span class=\"line\">        appVersionData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div>\n\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>User Test Case</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br><span class=\"line\">301</span><br><span class=\"line\">302</span><br><span class=\"line\">303</span><br><span class=\"line\">304</span><br><span class=\"line\">305</span><br><span class=\"line\">306</span><br><span class=\"line\">307</span><br><span class=\"line\">308</span><br><span class=\"line\">309</span><br><span class=\"line\">310</span><br><span class=\"line\">311</span><br><span class=\"line\">312</span><br><span class=\"line\">313</span><br><span class=\"line\">314</span><br><span class=\"line\">315</span><br><span class=\"line\">316</span><br><span class=\"line\">317</span><br><span class=\"line\">318</span><br><span class=\"line\">319</span><br><span class=\"line\">320</span><br><span class=\"line\">321</span><br><span class=\"line\">322</span><br><span class=\"line\">323</span><br><span class=\"line\">324</span><br><span class=\"line\">325</span><br><span class=\"line\">326</span><br><span class=\"line\">327</span><br><span class=\"line\">328</span><br><span class=\"line\">329</span><br><span class=\"line\">330</span><br><span class=\"line\">331</span><br><span class=\"line\">332</span><br><span class=\"line\">333</span><br><span class=\"line\">334</span><br><span class=\"line\">335</span><br><span class=\"line\">336</span><br><span class=\"line\">337</span><br><span class=\"line\">338</span><br><span class=\"line\">339</span><br><span class=\"line\">340</span><br><span class=\"line\">341</span><br><span class=\"line\">342</span><br><span class=\"line\">343</span><br><span class=\"line\">344</span><br><span class=\"line\">345</span><br><span class=\"line\">346</span><br><span class=\"line\">347</span><br><span class=\"line\">348</span><br><span class=\"line\">349</span><br><span class=\"line\">350</span><br><span class=\"line\">351</span><br><span class=\"line\">352</span><br><span class=\"line\">353</span><br><span class=\"line\">354</span><br><span class=\"line\">355</span><br><span class=\"line\">356</span><br><span class=\"line\">357</span><br><span class=\"line\">358</span><br><span class=\"line\">359</span><br><span class=\"line\">360</span><br><span class=\"line\">361</span><br><span class=\"line\">362</span><br><span class=\"line\">363</span><br><span class=\"line\">364</span><br><span class=\"line\">365</span><br><span class=\"line\">366</span><br><span class=\"line\">367</span><br><span class=\"line\">368</span><br><span class=\"line\">369</span><br><span class=\"line\">370</span><br><span class=\"line\">371</span><br><span class=\"line\">372</span><br><span class=\"line\">373</span><br><span class=\"line\">374</span><br><span class=\"line\">375</span><br><span class=\"line\">376</span><br><span class=\"line\">377</span><br><span class=\"line\">378</span><br><span class=\"line\">379</span><br><span class=\"line\">380</span><br><span class=\"line\">381</span><br><span class=\"line\">382</span><br><span class=\"line\">383</span><br><span class=\"line\">384</span><br><span class=\"line\">385</span><br><span class=\"line\">386</span><br><span class=\"line\">387</span><br><span class=\"line\">388</span><br><span class=\"line\">389</span><br><span class=\"line\">390</span><br><span class=\"line\">391</span><br><span class=\"line\">392</span><br><span class=\"line\">393</span><br><span class=\"line\">394</span><br><span class=\"line\">395</span><br><span class=\"line\">396</span><br><span class=\"line\">397</span><br><span class=\"line\">398</span><br><span class=\"line\">399</span><br><span class=\"line\">400</span><br><span class=\"line\">401</span><br><span class=\"line\">402</span><br><span class=\"line\">403</span><br><span class=\"line\">404</span><br><span class=\"line\">405</span><br><span class=\"line\">406</span><br><span class=\"line\">407</span><br><span class=\"line\">408</span><br><span class=\"line\">409</span><br><span class=\"line\">410</span><br><span class=\"line\">411</span><br><span class=\"line\">412</span><br><span class=\"line\">413</span><br><span class=\"line\">414</span><br><span class=\"line\">415</span><br><span class=\"line\">416</span><br><span class=\"line\">417</span><br><span class=\"line\">418</span><br><span class=\"line\">419</span><br><span class=\"line\">420</span><br><span class=\"line\">421</span><br><span class=\"line\">422</span><br><span class=\"line\">423</span><br><span class=\"line\">424</span><br><span class=\"line\">425</span><br><span class=\"line\">426</span><br><span class=\"line\">427</span><br><span class=\"line\">428</span><br><span class=\"line\">429</span><br><span class=\"line\">430</span><br><span class=\"line\">431</span><br><span class=\"line\">432</span><br><span class=\"line\">433</span><br><span class=\"line\">434</span><br><span class=\"line\">435</span><br><span class=\"line\">436</span><br><span class=\"line\">437</span><br><span class=\"line\">438</span><br><span class=\"line\">439</span><br><span class=\"line\">440</span><br><span class=\"line\">441</span><br><span class=\"line\">442</span><br><span class=\"line\">443</span><br><span class=\"line\">444</span><br><span class=\"line\">445</span><br><span class=\"line\">446</span><br><span class=\"line\">447</span><br><span class=\"line\">448</span><br><span class=\"line\">449</span><br><span class=\"line\">450</span><br><span class=\"line\">451</span><br><span class=\"line\">452</span><br><span class=\"line\">453</span><br><span class=\"line\">454</span><br><span class=\"line\">455</span><br><span class=\"line\">456</span><br><span class=\"line\">457</span><br><span class=\"line\">458</span><br><span class=\"line\">459</span><br><span class=\"line\">460</span><br><span class=\"line\">461</span><br><span class=\"line\">462</span><br><span class=\"line\">463</span><br><span class=\"line\">464</span><br><span class=\"line\">465</span><br><span class=\"line\">466</span><br><span class=\"line\">467</span><br><span class=\"line\">468</span><br><span class=\"line\">469</span><br><span class=\"line\">470</span><br><span class=\"line\">471</span><br><span class=\"line\">472</span><br><span class=\"line\">473</span><br><span class=\"line\">474</span><br><span class=\"line\">475</span><br><span class=\"line\">476</span><br><span class=\"line\">477</span><br><span class=\"line\">478</span><br><span class=\"line\">479</span><br><span class=\"line\">480</span><br><span class=\"line\">481</span><br><span class=\"line\">482</span><br><span class=\"line\">483</span><br><span class=\"line\">484</span><br><span class=\"line\">485</span><br><span class=\"line\">486</span><br><span class=\"line\">487</span><br><span class=\"line\">488</span><br><span class=\"line\">489</span><br><span class=\"line\">490</span><br><span class=\"line\">491</span><br><span class=\"line\">492</span><br><span class=\"line\">493</span><br><span class=\"line\">494</span><br><span class=\"line\">495</span><br><span class=\"line\">496</span><br><span class=\"line\">497</span><br><span class=\"line\">498</span><br><span class=\"line\">499</span><br><span class=\"line\">500</span><br><span class=\"line\">501</span><br><span class=\"line\">502</span><br><span class=\"line\">503</span><br><span class=\"line\">504</span><br><span class=\"line\">505</span><br><span class=\"line\">506</span><br><span class=\"line\">507</span><br><span class=\"line\">508</span><br><span class=\"line\">509</span><br><span class=\"line\">510</span><br><span class=\"line\">511</span><br><span class=\"line\">512</span><br><span class=\"line\">513</span><br><span class=\"line\">514</span><br><span class=\"line\">515</span><br><span class=\"line\">516</span><br><span class=\"line\">517</span><br><span class=\"line\">518</span><br><span class=\"line\">519</span><br><span class=\"line\">520</span><br><span class=\"line\">521</span><br><span class=\"line\">522</span><br><span class=\"line\">523</span><br><span class=\"line\">524</span><br><span class=\"line\">525</span><br><span class=\"line\">526</span><br><span class=\"line\">527</span><br><span class=\"line\">528</span><br><span class=\"line\">529</span><br><span class=\"line\">530</span><br><span class=\"line\">531</span><br><span class=\"line\">532</span><br><span class=\"line\">533</span><br><span class=\"line\">534</span><br><span class=\"line\">535</span><br><span class=\"line\">536</span><br><span class=\"line\">537</span><br><span class=\"line\">538</span><br><span class=\"line\">539</span><br><span class=\"line\">540</span><br><span class=\"line\">541</span><br><span class=\"line\">542</span><br><span class=\"line\">543</span><br><span class=\"line\">544</span><br><span class=\"line\">545</span><br><span class=\"line\">546</span><br><span class=\"line\">547</span><br><span class=\"line\">548</span><br><span class=\"line\">549</span><br><span class=\"line\">550</span><br><span class=\"line\">551</span><br><span class=\"line\">552</span><br><span class=\"line\">553</span><br><span class=\"line\">554</span><br><span class=\"line\">555</span><br><span class=\"line\">556</span><br><span class=\"line\">557</span><br><span class=\"line\">558</span><br><span class=\"line\">559</span><br><span class=\"line\">560</span><br><span class=\"line\">561</span><br><span class=\"line\">562</span><br><span class=\"line\">563</span><br><span class=\"line\">564</span><br><span class=\"line\">565</span><br><span class=\"line\">566</span><br><span class=\"line\">567</span><br><span class=\"line\">568</span><br><span class=\"line\">569</span><br><span class=\"line\">570</span><br><span class=\"line\">571</span><br><span class=\"line\">572</span><br><span class=\"line\">573</span><br><span class=\"line\">574</span><br><span class=\"line\">575</span><br><span class=\"line\">576</span><br><span class=\"line\">577</span><br><span class=\"line\">578</span><br><span class=\"line\">579</span><br><span class=\"line\">580</span><br><span class=\"line\">581</span><br><span class=\"line\">582</span><br><span class=\"line\">583</span><br><span class=\"line\">584</span><br><span class=\"line\">585</span><br><span class=\"line\">586</span><br><span class=\"line\">587</span><br><span class=\"line\">588</span><br><span class=\"line\">589</span><br><span class=\"line\">590</span><br><span class=\"line\">591</span><br><span class=\"line\">592</span><br><span class=\"line\">593</span><br><span class=\"line\">594</span><br><span class=\"line\">595</span><br><span class=\"line\">596</span><br><span class=\"line\">597</span><br><span class=\"line\">598</span><br><span class=\"line\">599</span><br><span class=\"line\">600</span><br><span class=\"line\">601</span><br><span class=\"line\">602</span><br><span class=\"line\">603</span><br><span class=\"line\">604</span><br><span class=\"line\">605</span><br><span class=\"line\">606</span><br><span class=\"line\">607</span><br><span class=\"line\">608</span><br><span class=\"line\">609</span><br><span class=\"line\">610</span><br><span class=\"line\">611</span><br><span class=\"line\">612</span><br><span class=\"line\">613</span><br><span class=\"line\">614</span><br><span class=\"line\">615</span><br><span class=\"line\">616</span><br><span class=\"line\">617</span><br><span class=\"line\">618</span><br><span class=\"line\">619</span><br><span class=\"line\">620</span><br><span class=\"line\">621</span><br><span class=\"line\">622</span><br><span class=\"line\">623</span><br><span class=\"line\">624</span><br><span class=\"line\">625</span><br><span class=\"line\">626</span><br><span class=\"line\">627</span><br><span class=\"line\">628</span><br><span class=\"line\">629</span><br><span class=\"line\">630</span><br><span class=\"line\">631</span><br><span class=\"line\">632</span><br><span class=\"line\">633</span><br><span class=\"line\">634</span><br><span class=\"line\">635</span><br><span class=\"line\">636</span><br><span class=\"line\">637</span><br><span class=\"line\">638</span><br><span class=\"line\">639</span><br><span class=\"line\">640</span><br><span class=\"line\">641</span><br><span class=\"line\">642</span><br><span class=\"line\">643</span><br><span class=\"line\">644</span><br><span class=\"line\">645</span><br><span class=\"line\">646</span><br><span class=\"line\">647</span><br><span class=\"line\">648</span><br><span class=\"line\">649</span><br><span class=\"line\">650</span><br><span class=\"line\">651</span><br><span class=\"line\">652</span><br><span class=\"line\">653</span><br><span class=\"line\">654</span><br><span class=\"line\">655</span><br><span class=\"line\">656</span><br><span class=\"line\">657</span><br><span class=\"line\">658</span><br><span class=\"line\">659</span><br><span class=\"line\">660</span><br><span class=\"line\">661</span><br><span class=\"line\">662</span><br><span class=\"line\">663</span><br><span class=\"line\">664</span><br><span class=\"line\">665</span><br><span class=\"line\">666</span><br><span class=\"line\">667</span><br><span class=\"line\">668</span><br><span class=\"line\">669</span><br><span class=\"line\">670</span><br><span class=\"line\">671</span><br><span class=\"line\">672</span><br><span class=\"line\">673</span><br><span class=\"line\">674</span><br><span class=\"line\">675</span><br><span class=\"line\">676</span><br><span class=\"line\">677</span><br><span class=\"line\">678</span><br><span class=\"line\">679</span><br><span class=\"line\">680</span><br><span class=\"line\">681</span><br><span class=\"line\">682</span><br><span class=\"line\">683</span><br><span class=\"line\">684</span><br><span class=\"line\">685</span><br><span class=\"line\">686</span><br><span class=\"line\">687</span><br><span class=\"line\">688</span><br><span class=\"line\">689</span><br><span class=\"line\">690</span><br><span class=\"line\">691</span><br><span class=\"line\">692</span><br><span class=\"line\">693</span><br><span class=\"line\">694</span><br><span class=\"line\">695</span><br><span class=\"line\">696</span><br><span class=\"line\">697</span><br><span class=\"line\">698</span><br><span class=\"line\">699</span><br><span class=\"line\">700</span><br><span class=\"line\">701</span><br><span class=\"line\">702</span><br><span class=\"line\">703</span><br><span class=\"line\">704</span><br><span class=\"line\">705</span><br><span class=\"line\">706</span><br><span class=\"line\">707</span><br><span class=\"line\">708</span><br><span class=\"line\">709</span><br><span class=\"line\">710</span><br><span class=\"line\">711</span><br><span class=\"line\">712</span><br><span class=\"line\">713</span><br><span class=\"line\">714</span><br><span class=\"line\">715</span><br><span class=\"line\">716</span><br><span class=\"line\">717</span><br><span class=\"line\">718</span><br><span class=\"line\">719</span><br><span class=\"line\">720</span><br><span class=\"line\">721</span><br><span class=\"line\">722</span><br><span class=\"line\">723</span><br><span class=\"line\">724</span><br><span class=\"line\">725</span><br><span class=\"line\">726</span><br><span class=\"line\">727</span><br><span class=\"line\">728</span><br><span class=\"line\">729</span><br><span class=\"line\">730</span><br><span class=\"line\">731</span><br><span class=\"line\">732</span><br><span class=\"line\">733</span><br><span class=\"line\">734</span><br><span class=\"line\">735</span><br><span class=\"line\">736</span><br><span class=\"line\">737</span><br><span class=\"line\">738</span><br><span class=\"line\">739</span><br><span class=\"line\">740</span><br><span class=\"line\">741</span><br><span class=\"line\">742</span><br><span class=\"line\">743</span><br><span class=\"line\">744</span><br><span class=\"line\">745</span><br><span class=\"line\">746</span><br><span class=\"line\">747</span><br><span class=\"line\">748</span><br><span class=\"line\">749</span><br><span class=\"line\">750</span><br><span class=\"line\">751</span><br><span class=\"line\">752</span><br><span class=\"line\">753</span><br><span class=\"line\">754</span><br><span class=\"line\">755</span><br><span class=\"line\">756</span><br><span class=\"line\">757</span><br><span class=\"line\">758</span><br><span class=\"line\">759</span><br><span class=\"line\">760</span><br><span class=\"line\">761</span><br><span class=\"line\">762</span><br><span class=\"line\">763</span><br><span class=\"line\">764</span><br><span class=\"line\">765</span><br><span class=\"line\">766</span><br><span class=\"line\">767</span><br><span class=\"line\">768</span><br><span class=\"line\">769</span><br><span class=\"line\">770</span><br><span class=\"line\">771</span><br><span class=\"line\">772</span><br><span class=\"line\">773</span><br><span class=\"line\">774</span><br><span class=\"line\">775</span><br><span class=\"line\">776</span><br><span class=\"line\">777</span><br><span class=\"line\">778</span><br><span class=\"line\">779</span><br><span class=\"line\">780</span><br><span class=\"line\">781</span><br><span class=\"line\">782</span><br><span class=\"line\">783</span><br><span class=\"line\">784</span><br><span class=\"line\">785</span><br><span class=\"line\">786</span><br><span class=\"line\">787</span><br><span class=\"line\">788</span><br><span class=\"line\">789</span><br><span class=\"line\">790</span><br><span class=\"line\">791</span><br><span class=\"line\">792</span><br><span class=\"line\">793</span><br><span class=\"line\">794</span><br><span class=\"line\">795</span><br><span class=\"line\">796</span><br><span class=\"line\">797</span><br><span class=\"line\">798</span><br><span class=\"line\">799</span><br><span class=\"line\">800</span><br><span class=\"line\">801</span><br><span class=\"line\">802</span><br><span class=\"line\">803</span><br><span class=\"line\">804</span><br><span class=\"line\">805</span><br><span class=\"line\">806</span><br><span class=\"line\">807</span><br><span class=\"line\">808</span><br><span class=\"line\">809</span><br><span class=\"line\">810</span><br><span class=\"line\">811</span><br><span class=\"line\">812</span><br><span class=\"line\">813</span><br><span class=\"line\">814</span><br><span class=\"line\">815</span><br><span class=\"line\">816</span><br><span class=\"line\">817</span><br><span class=\"line\">818</span><br><span class=\"line\">819</span><br><span class=\"line\">820</span><br><span class=\"line\">821</span><br><span class=\"line\">822</span><br><span class=\"line\">823</span><br><span class=\"line\">824</span><br><span class=\"line\">825</span><br><span class=\"line\">826</span><br><span class=\"line\">827</span><br><span class=\"line\">828</span><br><span class=\"line\">829</span><br><span class=\"line\">830</span><br><span class=\"line\">831</span><br><span class=\"line\">832</span><br><span class=\"line\">833</span><br><span class=\"line\">834</span><br><span class=\"line\">835</span><br><span class=\"line\">836</span><br><span class=\"line\">837</span><br><span class=\"line\">838</span><br><span class=\"line\">839</span><br><span class=\"line\">840</span><br><span class=\"line\">841</span><br><span class=\"line\">842</span><br><span class=\"line\">843</span><br><span class=\"line\">844</span><br><span class=\"line\">845</span><br><span class=\"line\">846</span><br><span class=\"line\">847</span><br><span class=\"line\">848</span><br><span class=\"line\">849</span><br><span class=\"line\">850</span><br><span class=\"line\">851</span><br><span class=\"line\">852</span><br><span class=\"line\">853</span><br><span class=\"line\">854</span><br><span class=\"line\">855</span><br><span class=\"line\">856</span><br><span class=\"line\">857</span><br><span class=\"line\">858</span><br><span class=\"line\">859</span><br><span class=\"line\">860</span><br><span class=\"line\">861</span><br><span class=\"line\">862</span><br><span class=\"line\">863</span><br><span class=\"line\">864</span><br><span class=\"line\">865</span><br><span class=\"line\">866</span><br><span class=\"line\">867</span><br><span class=\"line\">868</span><br><span class=\"line\">869</span><br><span class=\"line\">870</span><br><span class=\"line\">871</span><br><span class=\"line\">872</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/*-------------------------------------------------------------------------------------------------</span><br><span class=\"line\">    User Information</span><br><span class=\"line\"> * -----------------------------------------------------------------------------------------------*/</span><br><span class=\"line\">///////////////////</span><br><span class=\"line\">/*   USER CASE   */</span><br><span class=\"line\">///////////////////</span><br><span class=\"line\"></span><br><span class=\"line\">/*-------------------------------------------------------------------------------------------------</span><br><span class=\"line\">    Sign-out <span class=\"built_in\">test</span> cases</span><br><span class=\"line\"> * -----------------------------------------------------------------------------------------------*/</span><br><span class=\"line\">class NRunnerSignOutData &#123;</span><br><span class=\"line\">    constructor(userId) &#123;</span><br><span class=\"line\">        this._id = userId;</span><br><span class=\"line\">        this._orgID = userId;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    setUserID(userId) &#123;</span><br><span class=\"line\">        this._id = userId;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">reset</span></span>() &#123;</span><br><span class=\"line\">        this._id = this.orgID;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">toJSON</span></span>() &#123;</span><br><span class=\"line\">        const params = &#123;</span><br><span class=\"line\">            <span class=\"string\">'userId'</span>: this._id,</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> params;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const userSignOutData = new NRunnerSignOutData(</span><br><span class=\"line\">    <span class=\"string\">'testkjc'</span></span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">class NRunnerUserSignOutCase extends NRunnerHttpClient &#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span></span>() &#123;</span><br><span class=\"line\">        super();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testSuccess(result_callback) &#123;</span><br><span class=\"line\">        /* sign <span class=\"keyword\">in</span> */</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/sign-in'</span>, userSigninData.toJSON(), null);</span><br><span class=\"line\">         __sleep(500);</span><br><span class=\"line\"></span><br><span class=\"line\">         /* sign out */</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/sign-out'</span>, userSignOutData.toJSON(), result_callback);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testBadRequest(result_callback) &#123;</span><br><span class=\"line\">        /* sign <span class=\"keyword\">in</span> */</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/sign-in'</span>, userSigninData.toJSON(), null);</span><br><span class=\"line\"></span><br><span class=\"line\">        __sleep(500);</span><br><span class=\"line\"></span><br><span class=\"line\">        /* sign out with null ID */</span><br><span class=\"line\">        userSignOutData.setUserID(null);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/sign-out'</span>, userSignOutData.toJSON(), result_callback);</span><br><span class=\"line\">        userSignOutData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testNoData(result_callback) &#123;</span><br><span class=\"line\">        /* sign out */</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/sign-out'</span>, userSignOutData.toJSON(), null);</span><br><span class=\"line\"></span><br><span class=\"line\">        __sleep(500);</span><br><span class=\"line\"></span><br><span class=\"line\">        /* sign <span class=\"keyword\">in</span> */</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/sign-in'</span>, userSigninData.toJSON(), null);</span><br><span class=\"line\"></span><br><span class=\"line\">        __sleep(500);</span><br><span class=\"line\"></span><br><span class=\"line\">        /* sign out with wrong ID */</span><br><span class=\"line\">        userSignOutData.setUserID(<span class=\"string\">'wrong_id'</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/sign-out'</span>, userSignOutData.toJSON(), result_callback);</span><br><span class=\"line\">        userSignOutData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/*-------------------------------------------------------------------------------------------------</span><br><span class=\"line\">    Withdrawal <span class=\"built_in\">test</span> cases</span><br><span class=\"line\"> * -----------------------------------------------------------------------------------------------*/</span><br><span class=\"line\">class NRunnerUserWithdrawalData &#123;</span><br><span class=\"line\">    constructor(userId, password) &#123;</span><br><span class=\"line\">        this._id = userId;</span><br><span class=\"line\">        this._password = password;</span><br><span class=\"line\"></span><br><span class=\"line\">        /* backup original values */</span><br><span class=\"line\">        this._orgId = userId;</span><br><span class=\"line\">        this._orgPassword = password;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">reset</span></span>() &#123;</span><br><span class=\"line\">        this._id = this._orgId;</span><br><span class=\"line\">        this._password = this._orgPassword;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    setUserWithdrawalID(userId) &#123; this._id = userId; &#125;</span><br><span class=\"line\">    setUserWithdrawalPassword(password) &#123; this._password = password; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">toJSON</span></span>() &#123;</span><br><span class=\"line\">        const params = &#123;</span><br><span class=\"line\">            <span class=\"string\">'userId'</span>: this._id,</span><br><span class=\"line\">            <span class=\"string\">'password'</span> : this._password</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> params;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const userWithdrawalData = new NRunnerUserWithdrawalData(</span><br><span class=\"line\">    <span class=\"string\">'testkjc1111'</span>,</span><br><span class=\"line\">    <span class=\"string\">'123456'</span></span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">class NRunnerUserWithdrawalCase extends NRunnerHttpClient &#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span></span>() &#123;</span><br><span class=\"line\">        super();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testSuccess(result_callback) &#123;</span><br><span class=\"line\">        // /* sign up */</span><br><span class=\"line\">        // super.request(<span class=\"string\">'/api/v2/user/sign-up'</span>, userSignUpData.toJSON(), null);</span><br><span class=\"line\">        // userSignUpData.reset();</span><br><span class=\"line\">        // __sleep(500);</span><br><span class=\"line\"></span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/withdrawal'</span>, userWithdrawalData.toJSON(), result_callback);</span><br><span class=\"line\">        userWithdrawalData.reset();</span><br><span class=\"line\"></span><br><span class=\"line\">        __sleep(500);</span><br><span class=\"line\"></span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/sign-up'</span>, userSignUpData.toJSON(), null);</span><br><span class=\"line\">        userSignUpData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testBadRequest(result_callback) &#123;</span><br><span class=\"line\">        userWithdrawalData.setUserWithdrawalID(null);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/withdrawal'</span>, userWithdrawalData.toJSON(), result_callback);</span><br><span class=\"line\">        userWithdrawalData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testUserWrongInfo(result_callback) &#123;</span><br><span class=\"line\">        userWithdrawalData.setUserWithdrawalPassword(<span class=\"string\">\"wrong_password\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/withdrawal'</span>, userWithdrawalData.toJSON(), result_callback);</span><br><span class=\"line\">        userWithdrawalData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/*-------------------------------------------------------------------------------------------------</span><br><span class=\"line\">    Reset password <span class=\"built_in\">test</span> cases</span><br><span class=\"line\"> * -----------------------------------------------------------------------------------------------*/</span><br><span class=\"line\">class NRunnerUserResetPasswordData &#123;</span><br><span class=\"line\">    constructor(userId, deviceId, changePassword) &#123;</span><br><span class=\"line\">        this._id = userId;</span><br><span class=\"line\">        this._deviceId = deviceId;</span><br><span class=\"line\">        this._changePassword = changePassword;</span><br><span class=\"line\"></span><br><span class=\"line\">        /* backup original values */</span><br><span class=\"line\">        this._orgId = userId;</span><br><span class=\"line\">        this._orgDeviceId = deviceId;</span><br><span class=\"line\">        this._orgchangePassword = changePassword;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">reset</span></span>() &#123;</span><br><span class=\"line\">        this._id = this._orgId;</span><br><span class=\"line\">        this._deviceId = this._orgDeviceId;</span><br><span class=\"line\">        this._changePassword = this._orgchangePassword;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    setUserID(userId) &#123; this._id = userId; &#125;</span><br><span class=\"line\">    setUserDeviceID(deviceId) &#123; this._deviceId = deviceId; &#125;</span><br><span class=\"line\">    setUserChangePassword(changePassword) &#123; this._changePassword = changePassword; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">toJSON</span></span>() &#123;</span><br><span class=\"line\">        const params = &#123;</span><br><span class=\"line\">            <span class=\"string\">'userId'</span>: this._id,</span><br><span class=\"line\">            <span class=\"string\">'deviceId'</span> : this._deviceId,</span><br><span class=\"line\">            <span class=\"string\">'changePassword'</span>: this._changePassword</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> params;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const userResetPasswordData = new NRunnerUserResetPasswordData(</span><br><span class=\"line\">    <span class=\"string\">'testkjc1111'</span>,</span><br><span class=\"line\">    <span class=\"string\">'7777bfb933f47777'</span>,</span><br><span class=\"line\">    <span class=\"string\">'123456789'</span></span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">class NRunnerUserResetPasswordCase extends NRunnerHttpClient &#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span></span>() &#123;</span><br><span class=\"line\">        super();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testSuccess(result_callback) &#123;</span><br><span class=\"line\">        /* info */</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/reset-password'</span>, userResetPasswordData.toJSON(), result_callback);</span><br><span class=\"line\">        </span><br><span class=\"line\">        __sleep(500);</span><br><span class=\"line\">        </span><br><span class=\"line\">        userResetPasswordData.setUserChangePassword(<span class=\"string\">\"123456\"</span>);//reset</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/reset-password'</span>, userResetPasswordData.toJSON(), null);</span><br><span class=\"line\">        userResetPasswordData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testBadRequest(result_callback) &#123;</span><br><span class=\"line\">        /* info with null ID */</span><br><span class=\"line\">        userResetPasswordData.setUserID(null);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/reset-password'</span>, userResetPasswordData.toJSON(), result_callback);</span><br><span class=\"line\">        userResetPasswordData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testUserNotFound(result_callback) &#123;</span><br><span class=\"line\">        /* info with wrong ID */</span><br><span class=\"line\">        userResetPasswordData.setUserID(<span class=\"string\">\"wrong_id\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/reset-password'</span>, userResetPasswordData.toJSON(), result_callback);</span><br><span class=\"line\">        userResetPasswordData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    testUserDeviceNoConnectedDevices(result_callback) &#123;</span><br><span class=\"line\">        /* info with wrong ID */</span><br><span class=\"line\">        userResetPasswordData.setUserDeviceID(<span class=\"string\">\"7777777777777777\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/reset-password'</span>, userResetPasswordData.toJSON(), result_callback);</span><br><span class=\"line\">        userResetPasswordData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testUserChangePasswordFail(result_callback) &#123; // ★ 이건 어떻게해야 나오는지..</span><br><span class=\"line\">        /* info with wrong ID */</span><br><span class=\"line\">        userResetPasswordData.setUserChangePassword(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/reset-password'</span>, userResetPasswordData.toJSON(), result_callback);</span><br><span class=\"line\">        userResetPasswordData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/*-------------------------------------------------------------------------------------------------</span><br><span class=\"line\">    find-id <span class=\"built_in\">test</span> cases</span><br><span class=\"line\"> * -----------------------------------------------------------------------------------------------*/</span><br><span class=\"line\">class NRunnerFindIdData &#123;</span><br><span class=\"line\">    constructor(name, email) &#123;</span><br><span class=\"line\">        this._name = name;</span><br><span class=\"line\">        this._email = email;</span><br><span class=\"line\"></span><br><span class=\"line\">        /* backup original values */</span><br><span class=\"line\">        this._orgName = name;</span><br><span class=\"line\">        this._orgEmail = email;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">reset</span></span>() &#123;</span><br><span class=\"line\">        this._name = this._orgName;</span><br><span class=\"line\">        this._email = this._orgEmail;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    setFindIdName(name) &#123; this._name = name; &#125;</span><br><span class=\"line\">    setFindIdEmail(email) &#123; this._email = email; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">toJSON</span></span>() &#123;</span><br><span class=\"line\">        const params = &#123;</span><br><span class=\"line\">            <span class=\"string\">\"name\"</span> : this._name,</span><br><span class=\"line\">            <span class=\"string\">'email'</span> : this._email</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> params;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const findIdData = new NRunnerFindIdData(</span><br><span class=\"line\">    <span class=\"string\">'홍길동'</span>,</span><br><span class=\"line\">    <span class=\"string\">'hong@kdiwin.com'</span>,</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">class NRunnerUserFindIdCase extends NRunnerHttpClient &#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span></span>() &#123;</span><br><span class=\"line\">        super();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testSuccess(result_callback) &#123;</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/find-id'</span>, findIdData.toJSON(), result_callback);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testBadRequest(result_callback) &#123;</span><br><span class=\"line\">        findIdData.setFindIdName(null);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/find-id'</span>, findIdData.toJSON(), result_callback);</span><br><span class=\"line\">        findIdData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testUserNotFound(result_callback) &#123;</span><br><span class=\"line\">        /* sign <span class=\"keyword\">in</span> with wrong ID */</span><br><span class=\"line\">        findIdData.setFindIdName(<span class=\"string\">\"wrong_name\"</span>);</span><br><span class=\"line\">        findIdData.setFindIdEmail(<span class=\"string\">\"wrong_email\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/find-id'</span>, findIdData.toJSON(), result_callback);</span><br><span class=\"line\">        findIdData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/*-------------------------------------------------------------------------------------------------</span><br><span class=\"line\">    issue-password <span class=\"built_in\">test</span> cases</span><br><span class=\"line\"> * -----------------------------------------------------------------------------------------------*/</span><br><span class=\"line\">class NRunnerIssuePasswordData &#123;</span><br><span class=\"line\">    constructor(userId, deviceId) &#123;</span><br><span class=\"line\">        this._userId = userId;</span><br><span class=\"line\">        this._deviceId = deviceId;</span><br><span class=\"line\"></span><br><span class=\"line\">        /* backup original values */</span><br><span class=\"line\">        this._orguserId = userId;</span><br><span class=\"line\">        this._orgdeviceId = deviceId;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">reset</span></span>() &#123;</span><br><span class=\"line\">        this._userId = this._orguserId;</span><br><span class=\"line\">        this._deviceId = this._orgdeviceId;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    setIssuePasswordUserId(userId) &#123; this._userId = userId; &#125;</span><br><span class=\"line\">    setIssuePasswordDeviceId(deviceId) &#123; this._deviceId = deviceId; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">toJSON</span></span>() &#123;</span><br><span class=\"line\">        const params = &#123;</span><br><span class=\"line\">            <span class=\"string\">'userId'</span> : this._userId,</span><br><span class=\"line\">            <span class=\"string\">'deviceId'</span> : this._deviceId</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> params;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const issuePasswordData = new NRunnerIssuePasswordData(</span><br><span class=\"line\">    <span class=\"string\">'testkjc1111'</span>,</span><br><span class=\"line\">    <span class=\"string\">'7777bfb933f47777'</span>,</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">class NRunnerUserIssuePasswordCase extends NRunnerHttpClient &#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span></span>() &#123;</span><br><span class=\"line\">        super();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testSuccess(result_callback) &#123;</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/issue-password'</span>, issuePasswordData.toJSON(), result_callback);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testBadRequest(result_callback) &#123;</span><br><span class=\"line\">        issuePasswordData.setIssuePasswordUserId(null);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/issue-password'</span>, issuePasswordData.toJSON(), result_callback);</span><br><span class=\"line\">        issuePasswordData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testUserNotFound(result_callback) &#123;</span><br><span class=\"line\">        issuePasswordData.setIssuePasswordUserId(<span class=\"string\">\"wrong_userid\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/issue-password'</span>, issuePasswordData.toJSON(), result_callback);</span><br><span class=\"line\">        issuePasswordData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testUserDeviceNoConnectedDevices(result_callback) &#123;</span><br><span class=\"line\">        issuePasswordData.setIssuePasswordDeviceId(<span class=\"string\">\"wrong_deviceid\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/issue-password'</span>, issuePasswordData.toJSON(), result_callback);</span><br><span class=\"line\">        issuePasswordData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testUserChangePasswordFail(result_callback) &#123;// ★ 이건 어떻게해야 나오는지..</span><br><span class=\"line\">        issuePasswordData.setIssuePasswordUserId(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">        issuePasswordData.setIssuePasswordDeviceId(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/issue-password'</span>, issuePasswordData.toJSON(), result_callback);</span><br><span class=\"line\">        issuePasswordData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">/*-------------------------------------------------------------------------------------------------</span><br><span class=\"line\">    Sign-in <span class=\"built_in\">test</span> cases</span><br><span class=\"line\"> * -----------------------------------------------------------------------------------------------*/</span><br><span class=\"line\">class NRunnerUserSignInData &#123;</span><br><span class=\"line\">    constructor(userId, password, os, osVersion, modelInfo, appVersion) &#123;</span><br><span class=\"line\">        this._id = userId;</span><br><span class=\"line\">        this._password = password;</span><br><span class=\"line\">        this._os = os;</span><br><span class=\"line\">        this._osVersion = osVersion;</span><br><span class=\"line\">        this._deviceModel = modelInfo;</span><br><span class=\"line\">        this._appVersion = appVersion;</span><br><span class=\"line\"></span><br><span class=\"line\">        /* backup original values */</span><br><span class=\"line\">        this._orgId = userId;</span><br><span class=\"line\">        this._orgPassword = password;</span><br><span class=\"line\">        this._orgOS = os;</span><br><span class=\"line\">        this._orgOSVersion = osVersion;</span><br><span class=\"line\">        this._orgDeviceModel = modelInfo;</span><br><span class=\"line\">        this._orgAppVersion = appVersion;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">reset</span></span>() &#123;</span><br><span class=\"line\">        this._id = this._orgId;</span><br><span class=\"line\">        this._password = this._orgPassword;</span><br><span class=\"line\">        this._os = this._orgOS;</span><br><span class=\"line\">        this._osVersion = this._orgOSVersion;</span><br><span class=\"line\">        this._deviceModel = this._orgDeviceModel;</span><br><span class=\"line\">        this._appVersion = this._orgAppVersion;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    setUserID(userId) &#123; this._id = userId; &#125;</span><br><span class=\"line\">    setUserPassword(password) &#123; this._password = password; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">toJSON</span></span>() &#123;</span><br><span class=\"line\">        const params = &#123;</span><br><span class=\"line\">            <span class=\"string\">'userId'</span>: this._id,</span><br><span class=\"line\">            <span class=\"string\">'password'</span> : this._password,</span><br><span class=\"line\">            <span class=\"string\">\"os\"</span> : this._os,</span><br><span class=\"line\">            <span class=\"string\">\"osVer\"</span> : this._osVersion,</span><br><span class=\"line\">            <span class=\"string\">\"modelInfo\"</span> : this._deviceModel,</span><br><span class=\"line\">            <span class=\"string\">\"appVer\"</span> : this._appVersion</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> params;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const userSigninData = new NRunnerUserSignInData(</span><br><span class=\"line\">    <span class=\"string\">'testkjc'</span>,</span><br><span class=\"line\">    <span class=\"string\">'123456'</span>,</span><br><span class=\"line\">    <span class=\"string\">'A'</span>,</span><br><span class=\"line\">    <span class=\"string\">'4.1.1'</span>,</span><br><span class=\"line\">    <span class=\"string\">'Note 11'</span>,</span><br><span class=\"line\">    <span class=\"string\">'1.1.1'</span></span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">class NRunnerUserSignInCase extends NRunnerHttpClient &#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span></span>() &#123;</span><br><span class=\"line\">        super();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testSuccess(result_callback) &#123;</span><br><span class=\"line\">        /* sign <span class=\"keyword\">in</span> */</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/sign-in'</span>, userSigninData.toJSON(), result_callback);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testBadRequest(result_callback) &#123;</span><br><span class=\"line\">        /* sign <span class=\"keyword\">in</span> with null ID */</span><br><span class=\"line\">        userSigninData.setUserID(null);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/sign-in'</span>, userSigninData.toJSON(), result_callback);</span><br><span class=\"line\">        userSigninData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testUserNotFound(result_callback) &#123;</span><br><span class=\"line\">        /* sign <span class=\"keyword\">in</span> with wrong ID */</span><br><span class=\"line\">        userSigninData.setUserID(<span class=\"string\">\"wrong_id\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/sign-in'</span>, userSigninData.toJSON(), result_callback);</span><br><span class=\"line\">        userSigninData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testInvalidPassword(result_callback) &#123;</span><br><span class=\"line\">        /* sign <span class=\"keyword\">in</span> with invalid password */</span><br><span class=\"line\">        userSigninData.setUserPassword(<span class=\"string\">\"invalid_password\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/sign-in'</span>, userSigninData.toJSON(), result_callback);</span><br><span class=\"line\">        userSigninData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testAttemptExceeded(result_callback) &#123;</span><br><span class=\"line\">        /* to check the attempt <span class=\"built_in\">limit</span> to try to make a fail with invalid ID */</span><br><span class=\"line\">        userSigninData.setUserPassword(<span class=\"string\">\"invalid_password\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/sign-in'</span>, userSigninData.toJSON(), null);</span><br><span class=\"line\">        __sleep(500);</span><br><span class=\"line\"></span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/sign-in'</span>, userSigninData.toJSON(), null);</span><br><span class=\"line\">        __sleep(500);</span><br><span class=\"line\"></span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/sign-in'</span>, userSigninData.toJSON(), null);</span><br><span class=\"line\">        __sleep(500);</span><br><span class=\"line\"></span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/sign-in'</span>, userSigninData.toJSON(), null);</span><br><span class=\"line\">        __sleep(500);</span><br><span class=\"line\"></span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/sign-in'</span>, userSigninData.toJSON(), null);</span><br><span class=\"line\">        __sleep(1500);</span><br><span class=\"line\"></span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/sign-in'</span>, userSigninData.toJSON(), result_callback);</span><br><span class=\"line\">        userSigninData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/*-------------------------------------------------------------------------------------------------</span><br><span class=\"line\">    Sign-up <span class=\"built_in\">test</span> cases</span><br><span class=\"line\"> * -----------------------------------------------------------------------------------------------*/</span><br><span class=\"line\">class NRunnerSignUpData &#123;</span><br><span class=\"line\">    constructor(deviceId, email, mobileNum, name, userId, password, deviceNickName) &#123;</span><br><span class=\"line\">        this._deviceId = deviceId;</span><br><span class=\"line\">        this._email = email;</span><br><span class=\"line\">        this._mobileNum = mobileNum;</span><br><span class=\"line\">        this._name = name;</span><br><span class=\"line\">        this._userId = userId;</span><br><span class=\"line\">        this._password = password;</span><br><span class=\"line\">        this._deviceNickName = deviceNickName;</span><br><span class=\"line\"></span><br><span class=\"line\">        /* backup original values */</span><br><span class=\"line\">        this._orgDeviceId = deviceId;</span><br><span class=\"line\">        this._orgEmail = email;</span><br><span class=\"line\">        this._orgMobileNum = mobileNum;</span><br><span class=\"line\">        this._orgName = name;</span><br><span class=\"line\">        this._orgUserId = userId;</span><br><span class=\"line\">        this._orgPassword = password;</span><br><span class=\"line\">        this._orgDeviceNickName = deviceNickName;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">reset</span></span>() &#123;</span><br><span class=\"line\">        this._deviceId = this._orgDeviceId;</span><br><span class=\"line\">        this._deviceNickName = this._orgDeviceNickName;</span><br><span class=\"line\">        this._userEmail = this._orgUserEmail;</span><br><span class=\"line\">        this._userPhone = this._orgUserPhone;</span><br><span class=\"line\">        this._userName = this._orgUserName;</span><br><span class=\"line\">        this._userID = this._orgUserID;</span><br><span class=\"line\">        this._userPassword = this._orgUserPassword;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    setSignUpDeviceID(deviceId) &#123; this._deviceId = deviceId; &#125;</span><br><span class=\"line\">    setSignUpEmail(email) &#123; this._email = email; &#125;</span><br><span class=\"line\">    setSignUpMobileNum(mobileNum) &#123; this._mobileNum = mobileNum; &#125;</span><br><span class=\"line\">    setSignUpName(name) &#123; this._name = name; &#125;</span><br><span class=\"line\">    setSignUpUserId(userId) &#123; this._userId = userId; &#125;</span><br><span class=\"line\">    setSignUpPassword(password) &#123; this._password = password; &#125;</span><br><span class=\"line\">    setSignUpDeviceNickName(deviceNickName) &#123; this._deviceNickName = deviceNickName; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">toJSON</span></span>() &#123;</span><br><span class=\"line\">        const params = &#123;</span><br><span class=\"line\">            <span class=\"string\">'deviceId'</span>: this._deviceId,</span><br><span class=\"line\">            <span class=\"string\">'email'</span> : this._email,</span><br><span class=\"line\">            <span class=\"string\">'mobileNum'</span> : this._mobileNum,</span><br><span class=\"line\">            <span class=\"string\">'name'</span> : this._name,</span><br><span class=\"line\">            <span class=\"string\">'userId'</span> : this._userId,</span><br><span class=\"line\">            <span class=\"string\">'password'</span> : this._password,</span><br><span class=\"line\">            <span class=\"string\">'deviceNickName'</span> : this._deviceNickName</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> params;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const userSignUpData = new NRunnerSignUpData(</span><br><span class=\"line\">    <span class=\"string\">'7777bfb933f47777'</span>,</span><br><span class=\"line\">    <span class=\"string\">'hong1234@kdiwin.com'</span>,</span><br><span class=\"line\">    <span class=\"string\">'010-9884-1234'</span>,</span><br><span class=\"line\">    <span class=\"string\">'홍길동'</span>,</span><br><span class=\"line\">    <span class=\"string\">'testkjc1111'</span>,</span><br><span class=\"line\">    <span class=\"string\">'123456'</span>,</span><br><span class=\"line\">    <span class=\"string\">'testDeviceNickname'</span></span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">class NRunnerUserSignUpCase extends NRunnerHttpClient &#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span></span>() &#123;</span><br><span class=\"line\">        super();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testSuccess(result_callback) &#123;</span><br><span class=\"line\">        userWithdrawalData.reset();</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/withdrawal'</span>, userWithdrawalData.toJSON(), result_callback);</span><br><span class=\"line\">        __sleep(500);</span><br><span class=\"line\"></span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/sign-up'</span>, userSignUpData.toJSON(), result_callback);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testBadRequest(result_callback) &#123;</span><br><span class=\"line\">        userSignUpData.setSignUpUserId(null);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/sign-up'</span>, userSignUpData.toJSON(), result_callback);</span><br><span class=\"line\">        userSignUpData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testUserIdAlreadyExist(result_callback) &#123;</span><br><span class=\"line\">        userSignUpData.setSignUpUserId(<span class=\"string\">\"test0000\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/sign-up'</span>, userSignUpData.toJSON(), result_callback);</span><br><span class=\"line\">        userSignUpData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testUserEmailAlreadyExist(result_callback) &#123;</span><br><span class=\"line\">        userSignUpData.setSignUpUserId(<span class=\"string\">\"unknownUserID\"</span>);</span><br><span class=\"line\">        userSignUpData.setSignUpMobileNum(<span class=\"string\">\"0109876543210\"</span>);</span><br><span class=\"line\">        userSignUpData.setSignUpEmail(<span class=\"string\">\"abc124@abc.com\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/sign-up'</span>, userSignUpData.toJSON(), result_callback);</span><br><span class=\"line\">        userSignUpData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testUserPhoneAlreadyExist(result_callback) &#123;</span><br><span class=\"line\">        userSignUpData.setSignUpUserId(<span class=\"string\">\"unknownUserID\"</span>);</span><br><span class=\"line\">        userSignUpData.setSignUpMobileNum(<span class=\"string\">\"01078547854\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/sign-up'</span>, userSignUpData.toJSON(), result_callback);</span><br><span class=\"line\">        userSignUpData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testDeviceAlreadyUsed(result_callback) &#123; </span><br><span class=\"line\">        userSignUpData.setSignUpUserId(<span class=\"string\">\"unknownUserID\"</span>);</span><br><span class=\"line\">        userSignUpData.setSignUpMobileNum(<span class=\"string\">\"01098765432\"</span>);</span><br><span class=\"line\">        userSignUpData.setSignUpDeviceID(<span class=\"string\">\"3c71bfb933f41719\"</span>);</span><br><span class=\"line\">        userSignUpData.setSignUpEmail(<span class=\"string\">\"hong12@kdiwin.com\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/sign-up'</span>, userSignUpData.toJSON(), result_callback);</span><br><span class=\"line\">        userSignUpData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testNoDevices(result_callback) &#123;</span><br><span class=\"line\">        userSignUpData.setSignUpUserId(<span class=\"string\">\"unknownUserID\"</span>);</span><br><span class=\"line\">        userSignUpData.setSignUpMobileNum(<span class=\"string\">\"0109876543210\"</span>);</span><br><span class=\"line\">        userSignUpData.setSignUpEmail(<span class=\"string\">\"unknown@unknown.com\"</span>);</span><br><span class=\"line\">        userSignUpData.setSignUpDeviceID(<span class=\"string\">\"7777777777777777\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/sign-up'</span>, userSignUpData.toJSON(), result_callback);</span><br><span class=\"line\">        userSignUpData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testUnknownException(result_callback) &#123; // ★이건 어떻게해야 발생되는건지...?</span><br><span class=\"line\">        userSignUpData.setSignUpDeviceID(null);</span><br><span class=\"line\">        userSignUpData.setSignUpEmail(null);</span><br><span class=\"line\">        userSignUpData.setSignUpMobileNum(null);</span><br><span class=\"line\">        userSignUpData.setSignUpName(null);</span><br><span class=\"line\">        userSignUpData.setSignUpPassword(null);</span><br><span class=\"line\">        userSignUpData.setSignUpDeviceNickName(null);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/sign-up'</span>, userSignUpData.toJSON(), result_callback);</span><br><span class=\"line\">        userSignUpData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/*-------------------------------------------------------------------------------------------------</span><br><span class=\"line\">    Change info <span class=\"built_in\">test</span> cases</span><br><span class=\"line\"> * -----------------------------------------------------------------------------------------------*/</span><br><span class=\"line\">class NRunnerUserChangeInfoData &#123; </span><br><span class=\"line\">    constructor(userId, password, changeName, changeMobileNum, changeEmail, changePassword) &#123;</span><br><span class=\"line\">        this._id = userId;</span><br><span class=\"line\">        this._password = password;</span><br><span class=\"line\">        this._changeName = changeName;</span><br><span class=\"line\">        this._changeMobileNum = changeMobileNum;</span><br><span class=\"line\">        this._changeEmail = changeEmail;</span><br><span class=\"line\">        this._changePassword = changePassword;</span><br><span class=\"line\"></span><br><span class=\"line\">        /* backup original values */</span><br><span class=\"line\">        this._orgId = userId;</span><br><span class=\"line\">        this._orgPassword = password;</span><br><span class=\"line\">        this._orgchangeName = changeName;</span><br><span class=\"line\">        this._orgchangeMobileNum = changeMobileNum;</span><br><span class=\"line\">        this._orgchangeEmail = changeEmail;</span><br><span class=\"line\">        this._orgchangePassword = changePassword;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">reset</span></span>() &#123;</span><br><span class=\"line\">        this._id = this._orgId;</span><br><span class=\"line\">        this._password = this._orgPassword;</span><br><span class=\"line\">        this._changeName = this._orgchangeName;</span><br><span class=\"line\">        this._changeMobileNum = this._orgchangeMobileNum;</span><br><span class=\"line\">        this._changeEmail = this._orgchangeEmail;</span><br><span class=\"line\">        this._changePassword = this._orgchangePassword;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    setUserID(userId) &#123; this._id = userId; &#125;</span><br><span class=\"line\">    setPassword(password) &#123; this._password = password; &#125;</span><br><span class=\"line\">    setChangeName(changeName) &#123; this._changeName = changeName; &#125;</span><br><span class=\"line\">    setChangeMobileNum(changeMobileNum) &#123; this._changeMobileNum = changeMobileNum; &#125;</span><br><span class=\"line\">    setChangeEmail(changeEmail) &#123; this._changeEmail = changeEmail; &#125;</span><br><span class=\"line\">    setChangePassword(changePassword) &#123; this._changePassword = changePassword; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">toJSON</span></span>() &#123;</span><br><span class=\"line\">        const params = &#123;</span><br><span class=\"line\">            <span class=\"string\">'userId'</span>: this._id,</span><br><span class=\"line\">            <span class=\"string\">'password'</span> : this._password,</span><br><span class=\"line\">            <span class=\"string\">'changeName'</span>: this._changeName,</span><br><span class=\"line\">            <span class=\"string\">'changeMobileNum'</span>: this._changeMobileNum,</span><br><span class=\"line\">            <span class=\"string\">'changeEmail'</span>: this._changeEmail,</span><br><span class=\"line\">            <span class=\"string\">'changePassword'</span>: this._changePassword</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> params;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const userChangeInfoData = new NRunnerUserChangeInfoData(</span><br><span class=\"line\">    <span class=\"string\">'testkjc'</span>,</span><br><span class=\"line\">    <span class=\"string\">'123456'</span>,</span><br><span class=\"line\">    <span class=\"string\">'홍길동'</span>,</span><br><span class=\"line\">    <span class=\"string\">'010-9884-9999'</span>,</span><br><span class=\"line\">    <span class=\"string\">'hong@kdiwin.com'</span>,</span><br><span class=\"line\">    <span class=\"string\">'123456'</span></span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">class NRunnerUserChangeInfoCase extends NRunnerHttpClient &#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span></span>() &#123;</span><br><span class=\"line\">        super();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testSuccess(result_callback) &#123;</span><br><span class=\"line\">        /* info */</span><br><span class=\"line\">        userChangeInfoData.setChangeName(<span class=\"string\">\"changeName\"</span>);</span><br><span class=\"line\">        userChangeInfoData.setChangeMobileNum(<span class=\"string\">\"010-1234-5678\"</span>);</span><br><span class=\"line\">        userChangeInfoData.setChangeEmail(<span class=\"string\">\"changeEmail\"</span>);</span><br><span class=\"line\">        userChangeInfoData.setChangePassword(<span class=\"string\">\"123456\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/change-info'</span>, userChangeInfoData.toJSON(), result_callback);</span><br><span class=\"line\"></span><br><span class=\"line\">        /*원복..*/</span><br><span class=\"line\">        __sleep(500);</span><br><span class=\"line\">        userChangeInfoData.reset();</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/change-info'</span>, userChangeInfoData.toJSON(), null);</span><br><span class=\"line\">        userChangeInfoData.reset();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testBadRequest(result_callback) &#123;</span><br><span class=\"line\">        /* info with null ID */</span><br><span class=\"line\">        userChangeInfoData.setUserID(null);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/change-info'</span>, userChangeInfoData.toJSON(), result_callback);</span><br><span class=\"line\">        userChangeInfoData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testUserNotFound(result_callback) &#123;</span><br><span class=\"line\">        /* info with wrong ID */</span><br><span class=\"line\">        userChangeInfoData.setUserID(<span class=\"string\">\"wrong_id\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/change-info'</span>, userChangeInfoData.toJSON(), result_callback);</span><br><span class=\"line\">        userChangeInfoData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    testUserMobileNumberAlreadyExist(result_callback) &#123;</span><br><span class=\"line\">        /* info with wrong ID */</span><br><span class=\"line\">        userChangeInfoData.setChangeMobileNum(<span class=\"string\">\"01078547854\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/change-info'</span>, userChangeInfoData.toJSON(), result_callback);</span><br><span class=\"line\">        userChangeInfoData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testUserEmailAlreadyExist(result_callback) &#123;</span><br><span class=\"line\">        /* info with wrong ID */</span><br><span class=\"line\">        userChangeInfoData.setChangeEmail(<span class=\"string\">\"abc124@abc.com\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/change-info'</span>, userChangeInfoData.toJSON(), result_callback);</span><br><span class=\"line\">        userChangeInfoData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testUserChangePasswordFail(result_callback) &#123; // ★이건 어떻게해야 발생되는건지...?</span><br><span class=\"line\">        /* info with wrong ID */</span><br><span class=\"line\">        userChangeInfoData.setPassword(<span class=\"string\">\"99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/change-info'</span>, userChangeInfoData.toJSON(), result_callback);</span><br><span class=\"line\">        userChangeInfoData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/*-------------------------------------------------------------------------------------------------</span><br><span class=\"line\">    info <span class=\"built_in\">test</span> cases</span><br><span class=\"line\"> * -----------------------------------------------------------------------------------------------*/</span><br><span class=\"line\">class NRunnerUserInfoData &#123;</span><br><span class=\"line\">    constructor(userId, password) &#123;</span><br><span class=\"line\">        this._id = userId;</span><br><span class=\"line\">        this._password = password;</span><br><span class=\"line\"></span><br><span class=\"line\">        /* backup original values */</span><br><span class=\"line\">        this._orgId = userId;</span><br><span class=\"line\">        this._orgPassword = password;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">reset</span></span>() &#123;</span><br><span class=\"line\">        this._id = this._orgId;</span><br><span class=\"line\">        this._password = this._orgPassword;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    setUserID(userId) &#123; this._id = userId; &#125;</span><br><span class=\"line\">    setPassword(password) &#123; this._password = password; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">toJSON</span></span>() &#123;</span><br><span class=\"line\">        const params = &#123;</span><br><span class=\"line\">            <span class=\"string\">'userId'</span>: this._id,</span><br><span class=\"line\">            <span class=\"string\">'password'</span> : this._password</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> params;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const userInfoData = new NRunnerUserInfoData(</span><br><span class=\"line\">    <span class=\"string\">'testkjc'</span>,</span><br><span class=\"line\">    <span class=\"string\">'123456'</span></span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">class NRunnerUserInfoCase extends NRunnerHttpClient &#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span></span>() &#123;</span><br><span class=\"line\">        super();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testSuccess(result_callback) &#123;</span><br><span class=\"line\">        /* info */</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/info'</span>, userInfoData.toJSON(), result_callback);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testBadRequest(result_callback) &#123;</span><br><span class=\"line\">        /* info with null ID */</span><br><span class=\"line\">        userInfoData.setUserID(null);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/info'</span>, userInfoData.toJSON(), result_callback);</span><br><span class=\"line\">        userInfoData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testUserNotFound(result_callback) &#123;</span><br><span class=\"line\">        /* info with wrong ID */</span><br><span class=\"line\">        userInfoData.setUserID(<span class=\"string\">\"wrong_id\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/info'</span>, userInfoData.toJSON(), result_callback);</span><br><span class=\"line\">        userInfoData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/*-------------------------------------------------------------------------------------------------</span><br><span class=\"line\">    check-info <span class=\"built_in\">test</span> cases</span><br><span class=\"line\"> * -----------------------------------------------------------------------------------------------*/</span><br><span class=\"line\">class NRunnerUserCheckInfoData &#123;</span><br><span class=\"line\">    constructor(userId, email, mobileNum) &#123;</span><br><span class=\"line\">        this._id = userId;</span><br><span class=\"line\">        this._email = email;</span><br><span class=\"line\">        this._mobileNum = mobileNum;</span><br><span class=\"line\"></span><br><span class=\"line\">        /* backup original values */</span><br><span class=\"line\">        this._orgId = userId;</span><br><span class=\"line\">        this._orgEmail = email;</span><br><span class=\"line\">        this._orgMobileNum = mobileNum;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">reset</span></span>() &#123;</span><br><span class=\"line\">        this._id = this._orgId;</span><br><span class=\"line\">        this._email = this._orgEmail;</span><br><span class=\"line\">        this._mobileNum = this._orgMobileNum;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    setUserID(userId) &#123; this._id = userId; &#125;</span><br><span class=\"line\">    setEmail(email) &#123; this._email = email; &#125;</span><br><span class=\"line\">    setMobileNum(mobileNum) &#123; this._mobileNum = mobileNum; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">toJSON</span></span>() &#123;</span><br><span class=\"line\">        const params = &#123;</span><br><span class=\"line\">            <span class=\"string\">'userId'</span>: this._id,</span><br><span class=\"line\">            <span class=\"string\">'email'</span> : this._email,</span><br><span class=\"line\">            <span class=\"string\">\"mobileNum\"</span> : this._mobileNum</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> params;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const userCheckInfoData = new NRunnerUserCheckInfoData(</span><br><span class=\"line\">    <span class=\"string\">'testkjc1111'</span>,</span><br><span class=\"line\">    <span class=\"string\">'hong1234@kdiwin.com'</span>,</span><br><span class=\"line\">    <span class=\"string\">'010-9884-1234'</span></span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">class NRunnerUserCheckInfoCase extends NRunnerHttpClient &#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span></span>() &#123;</span><br><span class=\"line\">        super();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testSuccess(result_callback) &#123;</span><br><span class=\"line\">        /* CheckInfo */</span><br><span class=\"line\">        userCheckInfoData.setUserID(<span class=\"string\">\"NEW_ID\"</span>);</span><br><span class=\"line\">        userCheckInfoData.setEmail(<span class=\"string\">\"NEW_EMAIL\"</span>);</span><br><span class=\"line\">        userCheckInfoData.setMobileNum(<span class=\"string\">\"NEW_MOBILE\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/check-info'</span>, userCheckInfoData.toJSON(), result_callback);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testBadRequest(result_callback) &#123;</span><br><span class=\"line\">        /* CheckInfo invalid parameter */</span><br><span class=\"line\">        userCheckInfoData.setUserID(null);</span><br><span class=\"line\">        userCheckInfoData.setEmail(null);</span><br><span class=\"line\">        userCheckInfoData.setMobileNum(null);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/check-info'</span>, userCheckInfoData.toJSON(), result_callback);</span><br><span class=\"line\">        userCheckInfoData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testUserMobileNumberAlreadyExist(result_callback) &#123;</span><br><span class=\"line\">        /* CheckInfo mobile number already exist */</span><br><span class=\"line\">        userCheckInfoData.setUserID(<span class=\"string\">\"NEW_ID\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/check-info'</span>, userCheckInfoData.toJSON(), result_callback);</span><br><span class=\"line\">        userCheckInfoData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testUserEmailAlreadyExist(result_callback) &#123;</span><br><span class=\"line\">        /* CheckInfo mobile number already exist */</span><br><span class=\"line\">        userCheckInfoData.setUserID(<span class=\"string\">\"NEW_ID\"</span>);</span><br><span class=\"line\">        userCheckInfoData.setMobileNum(<span class=\"string\">\"NEW_MOBILE\"</span>);</span><br><span class=\"line\">        userCheckInfoData.setEmail(<span class=\"string\">\"abc124@abc.com\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/check-info'</span>, userCheckInfoData.toJSON(), result_callback);</span><br><span class=\"line\">        userCheckInfoData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testUserIdAlreadyExist(result_callback) &#123;</span><br><span class=\"line\">        /* CheckInfo mobile number already exist */</span><br><span class=\"line\">        userCheckInfoData.setUserID(<span class=\"string\">\"test0000\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/user/check-info'</span>, userCheckInfoData.toJSON(), result_callback);</span><br><span class=\"line\">        userCheckInfoData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div>\n\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>Device Test Case</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br><span class=\"line\">301</span><br><span class=\"line\">302</span><br><span class=\"line\">303</span><br><span class=\"line\">304</span><br><span class=\"line\">305</span><br><span class=\"line\">306</span><br><span class=\"line\">307</span><br><span class=\"line\">308</span><br><span class=\"line\">309</span><br><span class=\"line\">310</span><br><span class=\"line\">311</span><br><span class=\"line\">312</span><br><span class=\"line\">313</span><br><span class=\"line\">314</span><br><span class=\"line\">315</span><br><span class=\"line\">316</span><br><span class=\"line\">317</span><br><span class=\"line\">318</span><br><span class=\"line\">319</span><br><span class=\"line\">320</span><br><span class=\"line\">321</span><br><span class=\"line\">322</span><br><span class=\"line\">323</span><br><span class=\"line\">324</span><br><span class=\"line\">325</span><br><span class=\"line\">326</span><br><span class=\"line\">327</span><br><span class=\"line\">328</span><br><span class=\"line\">329</span><br><span class=\"line\">330</span><br><span class=\"line\">331</span><br><span class=\"line\">332</span><br><span class=\"line\">333</span><br><span class=\"line\">334</span><br><span class=\"line\">335</span><br><span class=\"line\">336</span><br><span class=\"line\">337</span><br><span class=\"line\">338</span><br><span class=\"line\">339</span><br><span class=\"line\">340</span><br><span class=\"line\">341</span><br><span class=\"line\">342</span><br><span class=\"line\">343</span><br><span class=\"line\">344</span><br><span class=\"line\">345</span><br><span class=\"line\">346</span><br><span class=\"line\">347</span><br><span class=\"line\">348</span><br><span class=\"line\">349</span><br><span class=\"line\">350</span><br><span class=\"line\">351</span><br><span class=\"line\">352</span><br><span class=\"line\">353</span><br><span class=\"line\">354</span><br><span class=\"line\">355</span><br><span class=\"line\">356</span><br><span class=\"line\">357</span><br><span class=\"line\">358</span><br><span class=\"line\">359</span><br><span class=\"line\">360</span><br><span class=\"line\">361</span><br><span class=\"line\">362</span><br><span class=\"line\">363</span><br><span class=\"line\">364</span><br><span class=\"line\">365</span><br><span class=\"line\">366</span><br><span class=\"line\">367</span><br><span class=\"line\">368</span><br><span class=\"line\">369</span><br><span class=\"line\">370</span><br><span class=\"line\">371</span><br><span class=\"line\">372</span><br><span class=\"line\">373</span><br><span class=\"line\">374</span><br><span class=\"line\">375</span><br><span class=\"line\">376</span><br><span class=\"line\">377</span><br><span class=\"line\">378</span><br><span class=\"line\">379</span><br><span class=\"line\">380</span><br><span class=\"line\">381</span><br><span class=\"line\">382</span><br><span class=\"line\">383</span><br><span class=\"line\">384</span><br><span class=\"line\">385</span><br><span class=\"line\">386</span><br><span class=\"line\">387</span><br><span class=\"line\">388</span><br><span class=\"line\">389</span><br><span class=\"line\">390</span><br><span class=\"line\">391</span><br><span class=\"line\">392</span><br><span class=\"line\">393</span><br><span class=\"line\">394</span><br><span class=\"line\">395</span><br><span class=\"line\">396</span><br><span class=\"line\">397</span><br><span class=\"line\">398</span><br><span class=\"line\">399</span><br><span class=\"line\">400</span><br><span class=\"line\">401</span><br><span class=\"line\">402</span><br><span class=\"line\">403</span><br><span class=\"line\">404</span><br><span class=\"line\">405</span><br><span class=\"line\">406</span><br><span class=\"line\">407</span><br><span class=\"line\">408</span><br><span class=\"line\">409</span><br><span class=\"line\">410</span><br><span class=\"line\">411</span><br><span class=\"line\">412</span><br><span class=\"line\">413</span><br><span class=\"line\">414</span><br><span class=\"line\">415</span><br><span class=\"line\">416</span><br><span class=\"line\">417</span><br><span class=\"line\">418</span><br><span class=\"line\">419</span><br><span class=\"line\">420</span><br><span class=\"line\">421</span><br><span class=\"line\">422</span><br><span class=\"line\">423</span><br><span class=\"line\">424</span><br><span class=\"line\">425</span><br><span class=\"line\">426</span><br><span class=\"line\">427</span><br><span class=\"line\">428</span><br><span class=\"line\">429</span><br><span class=\"line\">430</span><br><span class=\"line\">431</span><br><span class=\"line\">432</span><br><span class=\"line\">433</span><br><span class=\"line\">434</span><br><span class=\"line\">435</span><br><span class=\"line\">436</span><br><span class=\"line\">437</span><br><span class=\"line\">438</span><br><span class=\"line\">439</span><br><span class=\"line\">440</span><br><span class=\"line\">441</span><br><span class=\"line\">442</span><br><span class=\"line\">443</span><br><span class=\"line\">444</span><br><span class=\"line\">445</span><br><span class=\"line\">446</span><br><span class=\"line\">447</span><br><span class=\"line\">448</span><br><span class=\"line\">449</span><br><span class=\"line\">450</span><br><span class=\"line\">451</span><br><span class=\"line\">452</span><br><span class=\"line\">453</span><br><span class=\"line\">454</span><br><span class=\"line\">455</span><br><span class=\"line\">456</span><br><span class=\"line\">457</span><br><span class=\"line\">458</span><br><span class=\"line\">459</span><br><span class=\"line\">460</span><br><span class=\"line\">461</span><br><span class=\"line\">462</span><br><span class=\"line\">463</span><br><span class=\"line\">464</span><br><span class=\"line\">465</span><br><span class=\"line\">466</span><br><span class=\"line\">467</span><br><span class=\"line\">468</span><br><span class=\"line\">469</span><br><span class=\"line\">470</span><br><span class=\"line\">471</span><br><span class=\"line\">472</span><br><span class=\"line\">473</span><br><span class=\"line\">474</span><br><span class=\"line\">475</span><br><span class=\"line\">476</span><br><span class=\"line\">477</span><br><span class=\"line\">478</span><br><span class=\"line\">479</span><br><span class=\"line\">480</span><br><span class=\"line\">481</span><br><span class=\"line\">482</span><br><span class=\"line\">483</span><br><span class=\"line\">484</span><br><span class=\"line\">485</span><br><span class=\"line\">486</span><br><span class=\"line\">487</span><br><span class=\"line\">488</span><br><span class=\"line\">489</span><br><span class=\"line\">490</span><br><span class=\"line\">491</span><br><span class=\"line\">492</span><br><span class=\"line\">493</span><br><span class=\"line\">494</span><br><span class=\"line\">495</span><br><span class=\"line\">496</span><br><span class=\"line\">497</span><br><span class=\"line\">498</span><br><span class=\"line\">499</span><br><span class=\"line\">500</span><br><span class=\"line\">501</span><br><span class=\"line\">502</span><br><span class=\"line\">503</span><br><span class=\"line\">504</span><br><span class=\"line\">505</span><br><span class=\"line\">506</span><br><span class=\"line\">507</span><br><span class=\"line\">508</span><br><span class=\"line\">509</span><br><span class=\"line\">510</span><br><span class=\"line\">511</span><br><span class=\"line\">512</span><br><span class=\"line\">513</span><br><span class=\"line\">514</span><br><span class=\"line\">515</span><br><span class=\"line\">516</span><br><span class=\"line\">517</span><br><span class=\"line\">518</span><br><span class=\"line\">519</span><br><span class=\"line\">520</span><br><span class=\"line\">521</span><br><span class=\"line\">522</span><br><span class=\"line\">523</span><br><span class=\"line\">524</span><br><span class=\"line\">525</span><br><span class=\"line\">526</span><br><span class=\"line\">527</span><br><span class=\"line\">528</span><br><span class=\"line\">529</span><br><span class=\"line\">530</span><br><span class=\"line\">531</span><br><span class=\"line\">532</span><br><span class=\"line\">533</span><br><span class=\"line\">534</span><br><span class=\"line\">535</span><br><span class=\"line\">536</span><br><span class=\"line\">537</span><br><span class=\"line\">538</span><br><span class=\"line\">539</span><br><span class=\"line\">540</span><br><span class=\"line\">541</span><br><span class=\"line\">542</span><br><span class=\"line\">543</span><br><span class=\"line\">544</span><br><span class=\"line\">545</span><br><span class=\"line\">546</span><br><span class=\"line\">547</span><br><span class=\"line\">548</span><br><span class=\"line\">549</span><br><span class=\"line\">550</span><br><span class=\"line\">551</span><br><span class=\"line\">552</span><br><span class=\"line\">553</span><br><span class=\"line\">554</span><br><span class=\"line\">555</span><br><span class=\"line\">556</span><br><span class=\"line\">557</span><br><span class=\"line\">558</span><br><span class=\"line\">559</span><br><span class=\"line\">560</span><br><span class=\"line\">561</span><br><span class=\"line\">562</span><br><span class=\"line\">563</span><br><span class=\"line\">564</span><br><span class=\"line\">565</span><br><span class=\"line\">566</span><br><span class=\"line\">567</span><br><span class=\"line\">568</span><br><span class=\"line\">569</span><br><span class=\"line\">570</span><br><span class=\"line\">571</span><br><span class=\"line\">572</span><br><span class=\"line\">573</span><br><span class=\"line\">574</span><br><span class=\"line\">575</span><br><span class=\"line\">576</span><br><span class=\"line\">577</span><br><span class=\"line\">578</span><br><span class=\"line\">579</span><br><span class=\"line\">580</span><br><span class=\"line\">581</span><br><span class=\"line\">582</span><br><span class=\"line\">583</span><br><span class=\"line\">584</span><br><span class=\"line\">585</span><br><span class=\"line\">586</span><br><span class=\"line\">587</span><br><span class=\"line\">588</span><br><span class=\"line\">589</span><br><span class=\"line\">590</span><br><span class=\"line\">591</span><br><span class=\"line\">592</span><br><span class=\"line\">593</span><br><span class=\"line\">594</span><br><span class=\"line\">595</span><br><span class=\"line\">596</span><br><span class=\"line\">597</span><br><span class=\"line\">598</span><br><span class=\"line\">599</span><br><span class=\"line\">600</span><br><span class=\"line\">601</span><br><span class=\"line\">602</span><br><span class=\"line\">603</span><br><span class=\"line\">604</span><br><span class=\"line\">605</span><br><span class=\"line\">606</span><br><span class=\"line\">607</span><br><span class=\"line\">608</span><br><span class=\"line\">609</span><br><span class=\"line\">610</span><br><span class=\"line\">611</span><br><span class=\"line\">612</span><br><span class=\"line\">613</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">///////////////////</span><br><span class=\"line\">/*  DEVICE CASE  */</span><br><span class=\"line\">///////////////////</span><br><span class=\"line\">/*-------------------------------------------------------------------------------------------------</span><br><span class=\"line\">    Change-Name <span class=\"built_in\">test</span> cases</span><br><span class=\"line\"> * -----------------------------------------------------------------------------------------------*/</span><br><span class=\"line\">class NRunnerChangenameData &#123;</span><br><span class=\"line\">    constructor(userId, password, deviceId, changeNickname, changeLeftHeatNickname, changeRightHeatNickname) &#123;</span><br><span class=\"line\">        this._id = userId;</span><br><span class=\"line\">        this._password = password;</span><br><span class=\"line\">        this._deviceId = deviceId;</span><br><span class=\"line\">        this._changeNickname = changeNickname;</span><br><span class=\"line\">        this._changeLeftHeatNickname = changeLeftHeatNickname;</span><br><span class=\"line\">        this._changeRightHeatNickname = changeRightHeatNickname;</span><br><span class=\"line\"></span><br><span class=\"line\">        /* backup original values */</span><br><span class=\"line\">        this._orgid = userId;</span><br><span class=\"line\">        this._orgpassword = password;</span><br><span class=\"line\">        this._orgdeviceId = deviceId;</span><br><span class=\"line\">        this._orgchangeNickname = changeNickname;</span><br><span class=\"line\">        this._orgchangeLeftHeatNickname = changeLeftHeatNickname;</span><br><span class=\"line\">        this._orgchangeRightHeatNickname = changeRightHeatNickname;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">reset</span></span>() &#123;</span><br><span class=\"line\">        this._id = this._orgId;</span><br><span class=\"line\">        this._password = this._orgPassword;</span><br><span class=\"line\">        this._deviceId = this._orgdeviceId;</span><br><span class=\"line\">        this._changeNickname = this._orgchangeNickname;</span><br><span class=\"line\">        this._changeLeftHeatNickname = this._orgchangeLeftHeatNickname;</span><br><span class=\"line\">        this._changeRightHeatNickname = this._orgchangeRightHeatNickname;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    setUserID(userId) &#123; this._id = userId; &#125;</span><br><span class=\"line\">    setPassword(password) &#123; this._password = password; &#125;</span><br><span class=\"line\">    setDeviceID(deviceId) &#123; this._deviceId = deviceId; &#125;</span><br><span class=\"line\">    setChangeNickName(changeNickname) &#123; this._changeNickname = changeNickname; &#125;</span><br><span class=\"line\">    setChangeLeftHeatNickname(changeLeftHeatNickname) &#123; this._changeLeftHeatNickname = changeLeftHeatNickname; &#125;</span><br><span class=\"line\">    setChangeRightHeatNickname(changeRightHeatNickname) &#123; this._changeRightHeatNickname = changeRightHeatNickname; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">toJSON</span></span>() &#123;</span><br><span class=\"line\">        const params = &#123;</span><br><span class=\"line\">            <span class=\"string\">'userId'</span>: this._id,</span><br><span class=\"line\">            <span class=\"string\">'password'</span> : this._password,</span><br><span class=\"line\">            <span class=\"string\">'deviceId'</span> : this._deviceId,</span><br><span class=\"line\">            <span class=\"string\">'changeNickname'</span> : this._changeNickname,</span><br><span class=\"line\">            <span class=\"string\">'changeLeftHeatNickname'</span> : this._changeLeftHeatNickname,</span><br><span class=\"line\">            <span class=\"string\">'changeRightHeatNickname'</span> : this._changeRightHeatNickname</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> params;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const changenameData = new NRunnerChangenameData(</span><br><span class=\"line\">    <span class=\"string\">'testkjc1111'</span>,</span><br><span class=\"line\">    <span class=\"string\">'123456'</span>,</span><br><span class=\"line\">    <span class=\"string\">'7777bfb933f47777'</span>,</span><br><span class=\"line\">    <span class=\"string\">'kwak_nickname'</span>,</span><br><span class=\"line\">    <span class=\"string\">'kwak_left_nickname'</span>,</span><br><span class=\"line\">    <span class=\"string\">'kwak_right_nickname'</span></span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">class NRunnerChangenameCase extends NRunnerHttpClient &#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span></span>() &#123;</span><br><span class=\"line\">        super();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testSuccess(result_callback) &#123;</span><br><span class=\"line\">        /* change name */</span><br><span class=\"line\">        changenameData.setChangeNickName(<span class=\"string\">\"kwak_1\"</span>);</span><br><span class=\"line\">        changenameData.setChangeLeftHeatNickname(<span class=\"string\">\"kwak_2\"</span>);</span><br><span class=\"line\">        changenameData.setChangeRightHeatNickname(<span class=\"string\">\"kwak_3\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/change-name'</span>, changenameData.toJSON(), result_callback);</span><br><span class=\"line\">         </span><br><span class=\"line\">        /*원복..*/</span><br><span class=\"line\">        __sleep(500);</span><br><span class=\"line\">        changenameData.reset();</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/change-name'</span>, changenameData.toJSON(), null);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testBadRequest(result_callback) &#123;</span><br><span class=\"line\">        /* change name unknown exception */</span><br><span class=\"line\">        changenameData.setDeviceID(null);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/change-name'</span>, changenameData.toJSON(), result_callback);</span><br><span class=\"line\">        changenameData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testDeviceNotFound(result_callback) &#123;</span><br><span class=\"line\">        /* change name device does not exist */</span><br><span class=\"line\">        changenameData.setDeviceID(<span class=\"string\">\"wrong_deviceID\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/change-name'</span>, changenameData.toJSON(), result_callback);</span><br><span class=\"line\">        changenameData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/*-------------------------------------------------------------------------------------------------</span><br><span class=\"line\">    list <span class=\"built_in\">test</span> cases</span><br><span class=\"line\"> * -----------------------------------------------------------------------------------------------*/</span><br><span class=\"line\">class NRunnerListData &#123;</span><br><span class=\"line\">    constructor(userId, password) &#123;</span><br><span class=\"line\">        this._id = userId;</span><br><span class=\"line\">        this._password = password;</span><br><span class=\"line\"></span><br><span class=\"line\">        /* backup original values */</span><br><span class=\"line\">        this._orgid = userId;</span><br><span class=\"line\">        this._orgpassword = password;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">reset</span></span>() &#123;</span><br><span class=\"line\">        this._id = this._orgId;</span><br><span class=\"line\">        this._password = this._orgPassword;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    setUserID(userId) &#123; this._id = userId; &#125;</span><br><span class=\"line\">    setPassword(password) &#123; this._password = password; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">toJSON</span></span>() &#123;</span><br><span class=\"line\">        const params = &#123;</span><br><span class=\"line\">            <span class=\"string\">'userId'</span>: this._id,</span><br><span class=\"line\">            <span class=\"string\">'password'</span> : this._password</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> params;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const listData = new NRunnerListData(</span><br><span class=\"line\">    <span class=\"string\">'testkjc'</span>,</span><br><span class=\"line\">    <span class=\"string\">'123456'</span></span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">class NRunnerListCase extends NRunnerHttpClient &#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span></span>() &#123;</span><br><span class=\"line\">        super();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testSuccess(result_callback) &#123;</span><br><span class=\"line\">        /* list */</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/list'</span>, listData.toJSON(), result_callback);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testBadRequest(result_callback) &#123;</span><br><span class=\"line\">        /* list unknown exception */</span><br><span class=\"line\">        listData.setUserID(null);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/list'</span>, listData.toJSON(), result_callback);</span><br><span class=\"line\">        listData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testDataNotFound(result_callback) &#123;</span><br><span class=\"line\">        /* list data does not exist */</span><br><span class=\"line\">        listData.setUserID(<span class=\"string\">\"wrong_userID\"</span>);</span><br><span class=\"line\">        listData.setPassword(<span class=\"string\">\"wrong_password\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/list'</span>, listData.toJSON(), result_callback);</span><br><span class=\"line\">        listData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/*-------------------------------------------------------------------------------------------------</span><br><span class=\"line\">    State <span class=\"built_in\">test</span> cases</span><br><span class=\"line\"> * -----------------------------------------------------------------------------------------------*/</span><br><span class=\"line\">class NRunnerStateData &#123;</span><br><span class=\"line\">    constructor(deviceId) &#123;</span><br><span class=\"line\">        this._deviceId = deviceId;</span><br><span class=\"line\"></span><br><span class=\"line\">        /* backup original values */</span><br><span class=\"line\">        this._orgdeviceId = deviceId;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">reset</span></span>() &#123;</span><br><span class=\"line\">        this._deviceId = this._orgdeviceId;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    setDeviceID(deviceId) &#123; this._deviceId = deviceId; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">toJSON</span></span>() &#123;</span><br><span class=\"line\">        const params = &#123;</span><br><span class=\"line\">            <span class=\"string\">\"deviceId\"</span> : this._deviceId</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> params;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const stateData = new NRunnerStateData(</span><br><span class=\"line\">    <span class=\"string\">'3333bfb933f43333'</span></span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">class NRunnerStateCase extends NRunnerHttpClient &#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span></span>() &#123;</span><br><span class=\"line\">        super();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testSuccess(result_callback) &#123;</span><br><span class=\"line\">        /* state */</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/state'</span>, stateData.toJSON(), result_callback);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testBadRequest(result_callback) &#123;</span><br><span class=\"line\">        /* state unknown exception */</span><br><span class=\"line\">        stateData.setDeviceID(null);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/state'</span>, stateData.toJSON(), result_callback);</span><br><span class=\"line\">        stateData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testDeviceNotFound(result_callback) &#123;</span><br><span class=\"line\">        /* state device does not exist */</span><br><span class=\"line\">        stateData.setDeviceID(<span class=\"string\">\"7777777777777777\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/state'</span>, stateData.toJSON(), result_callback);</span><br><span class=\"line\">        stateData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testDeviceNotConnected(result_callback) &#123;</span><br><span class=\"line\">        /* state device not connected */</span><br><span class=\"line\">        stateData.setDeviceID(<span class=\"string\">\"7777bfb933f47777\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/state'</span>, stateData.toJSON(), result_callback);</span><br><span class=\"line\">        stateData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/*-------------------------------------------------------------------------------------------------</span><br><span class=\"line\">    add <span class=\"built_in\">test</span> cases</span><br><span class=\"line\"> * -----------------------------------------------------------------------------------------------*/</span><br><span class=\"line\">class NRunnerAddData &#123;</span><br><span class=\"line\">    constructor(userId, password, deviceId, nickname) &#123;</span><br><span class=\"line\">        this._id = userId;</span><br><span class=\"line\">        this._password = password;</span><br><span class=\"line\">        this._deviceId = deviceId;</span><br><span class=\"line\">        this._nickname = nickname;</span><br><span class=\"line\"></span><br><span class=\"line\">        /* backup original values */</span><br><span class=\"line\">        this._orgid = userId;</span><br><span class=\"line\">        this._orgpassword = password;</span><br><span class=\"line\">        this._orgdeviceId = deviceId;</span><br><span class=\"line\">        this._orgnickname = nickname;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">reset</span></span>() &#123;</span><br><span class=\"line\">        this._id = this._orgId;</span><br><span class=\"line\">        this._password = this._orgpassword;</span><br><span class=\"line\">        this._deviceId = this._orgdeviceId;</span><br><span class=\"line\">        this._nickname = this._orgnickname;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    setUserID(userId) &#123; this._id = userId; &#125;</span><br><span class=\"line\">    setPassword(password) &#123; this._password = password; &#125;</span><br><span class=\"line\">    setDeviceID(deviceId) &#123; this._deviceId = deviceId; &#125;</span><br><span class=\"line\">    setNickName(nickname) &#123; this._nickname = nickname; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">toJSON</span></span>() &#123;</span><br><span class=\"line\">        const params = &#123;</span><br><span class=\"line\">            <span class=\"string\">'userId'</span>: this._id,</span><br><span class=\"line\">            <span class=\"string\">'password'</span> : this._password,</span><br><span class=\"line\">            <span class=\"string\">'deviceId'</span> : this._deviceId,</span><br><span class=\"line\">            <span class=\"string\">'nickName'</span> : this._nickname</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> params;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const addData = new NRunnerAddData(</span><br><span class=\"line\">    <span class=\"string\">'testkjc'</span>,</span><br><span class=\"line\">    <span class=\"string\">'123456'</span>,</span><br><span class=\"line\">    <span class=\"string\">'3c71bfb933641719'</span>,</span><br><span class=\"line\">    <span class=\"string\">'kwak_nick'</span></span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">class NRunnerAddCase extends NRunnerHttpClient &#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span></span>() &#123;</span><br><span class=\"line\">        super();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testSuccess(result_callback) &#123;</span><br><span class=\"line\">        /* add */</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/add'</span>, addData.toJSON(), result_callback);</span><br><span class=\"line\"></span><br><span class=\"line\">        /*원복..*/</span><br><span class=\"line\">        __sleep(500);</span><br><span class=\"line\">        addData.reset();</span><br><span class=\"line\">        delData.setUserID(<span class=\"string\">\"testkjc\"</span>);</span><br><span class=\"line\">        delData.setPassword(<span class=\"string\">\"123456\"</span>);</span><br><span class=\"line\">        delData.setDeviceID(<span class=\"string\">\"3c71bfb933641719\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/del'</span>, delData.toJSON(), null);</span><br><span class=\"line\">        delData.reset();</span><br><span class=\"line\">        addData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testBadRequest(result_callback) &#123;</span><br><span class=\"line\">        /* add unknown exception */</span><br><span class=\"line\">        addData.setUserID(null);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/add'</span>, addData.toJSON(), result_callback);</span><br><span class=\"line\">        addData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testUserNotFound(result_callback) &#123;</span><br><span class=\"line\">        /* add user not found */</span><br><span class=\"line\">        addData.setUserID(<span class=\"string\">\"wrong_userID\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/add'</span>, addData.toJSON(), result_callback);</span><br><span class=\"line\">        addData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testDeviceAlreadyExsistInUser(result_callback) &#123;</span><br><span class=\"line\">        /* add device alread exist <span class=\"keyword\">in</span> user */</span><br><span class=\"line\">        addData.setDeviceID(<span class=\"string\">\"2222bfb933f42222\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/add'</span>, addData.toJSON(), result_callback);</span><br><span class=\"line\">        addData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testDeviceAllUse(result_callback) &#123;</span><br><span class=\"line\">        /* add device all use (total device : 10) */</span><br><span class=\"line\">        addData.setUserID(<span class=\"string\">\"retestmoon\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/add'</span>, addData.toJSON(), result_callback);</span><br><span class=\"line\">        addData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testDeviceNotFound(result_callback) &#123;</span><br><span class=\"line\">        /* add device does not exist */</span><br><span class=\"line\">        addData.setDeviceID(<span class=\"string\">\"wrong_deviceID\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/add'</span>, addData.toJSON(), result_callback);</span><br><span class=\"line\">        addData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/*-------------------------------------------------------------------------------------------------</span><br><span class=\"line\">    del <span class=\"built_in\">test</span> cases</span><br><span class=\"line\"> * -----------------------------------------------------------------------------------------------*/</span><br><span class=\"line\">class NRunnerDelData &#123;</span><br><span class=\"line\">    constructor(userId, password, deviceIds) &#123;</span><br><span class=\"line\">        this._id = userId;</span><br><span class=\"line\">        this._password = password;</span><br><span class=\"line\">        this._deviceIds = deviceIds;</span><br><span class=\"line\"></span><br><span class=\"line\">        /* backup original values */</span><br><span class=\"line\">        this._orgid = userId;</span><br><span class=\"line\">        this._orgpassword = password;</span><br><span class=\"line\">        this._orgdeviceIds = deviceIds;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">reset</span></span>() &#123;</span><br><span class=\"line\">        this._id = this._orgId;</span><br><span class=\"line\">        this._password = this._orgpassword;</span><br><span class=\"line\">        this._deviceIds = this._orgdeviceIds;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    setUserID(userId) &#123; this._id = userId; &#125;</span><br><span class=\"line\">    setPassword(password) &#123; this._password = password; &#125;</span><br><span class=\"line\">    setDeviceID(deviceIds) &#123; this._deviceIds = deviceIds; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">toJSON</span></span>() &#123;</span><br><span class=\"line\">        const params = &#123;</span><br><span class=\"line\">            <span class=\"string\">'userId'</span>: this._id,</span><br><span class=\"line\">            <span class=\"string\">'password'</span>: this._password,</span><br><span class=\"line\">            <span class=\"string\">'deviceIds'</span> : [this._deviceIds] </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> params;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const delData = new NRunnerDelData(</span><br><span class=\"line\">    <span class=\"string\">'testkjc'</span>,</span><br><span class=\"line\">    <span class=\"string\">'123456'</span>,</span><br><span class=\"line\">    <span class=\"string\">'3c71bfb933641719'</span></span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">class NRunnerDelCase extends NRunnerHttpClient &#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span></span>() &#123;</span><br><span class=\"line\">        super();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testSuccess(result_callback) &#123;</span><br><span class=\"line\">        /*원복..*/</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/add'</span>, addData.toJSON(), null);</span><br><span class=\"line\">        addData.reset();</span><br><span class=\"line\"></span><br><span class=\"line\">        /* del *///////////이상하게 위에 add랑 밑에 del이 각각돌면 잘돈다. 같이 묶어놓으면 밑에께 안돈다..</span><br><span class=\"line\">        __sleep(1000);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/del'</span>, delData.toJSON(), result_callback);</span><br><span class=\"line\">        delData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testBadRequest(result_callback) &#123;</span><br><span class=\"line\">        /* del unknown exception */</span><br><span class=\"line\">        delData.setUserID(null);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/del'</span>, delData.toJSON(), result_callback);</span><br><span class=\"line\">        delData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testUserNotFound(result_callback) &#123;</span><br><span class=\"line\">        /* del user not found */</span><br><span class=\"line\">        delData.setUserID(<span class=\"string\">\"wrouserID\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/del'</span>, delData.toJSON(), result_callback);</span><br><span class=\"line\">        delData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testDeviceNotFound(result_callback) &#123;</span><br><span class=\"line\">        /* del device does not exist */</span><br><span class=\"line\">        delData.setDeviceID(<span class=\"string\">\"78787878787878\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/del'</span>, delData.toJSON(), result_callback);</span><br><span class=\"line\">        delData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testDeviceOnlyOneDeviceLeft(result_callback) &#123;</span><br><span class=\"line\">        /* del only one device lift */</span><br><span class=\"line\">        delData.setUserID(<span class=\"string\">\"testkjc1111\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/del'</span>, delData.toJSON(), result_callback);</span><br><span class=\"line\">        delData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/*-------------------------------------------------------------------------------------------------</span><br><span class=\"line\">    get-push-settings <span class=\"built_in\">test</span> cases</span><br><span class=\"line\"> * -----------------------------------------------------------------------------------------------*/</span><br><span class=\"line\">class NRunnerGetPushSettingsData &#123;</span><br><span class=\"line\">    constructor(deviceId) &#123;</span><br><span class=\"line\">        this._deviceId = deviceId;</span><br><span class=\"line\"></span><br><span class=\"line\">        /* backup original values */</span><br><span class=\"line\">        this._orgdeviceId = deviceId;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">reset</span></span>() &#123;</span><br><span class=\"line\">        this._deviceId = this._orgdeviceId;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    setDeviceID(deviceId) &#123; this._deviceId = deviceId; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">toJSON</span></span>() &#123;</span><br><span class=\"line\">        const params = &#123;</span><br><span class=\"line\">            <span class=\"string\">\"deviceId\"</span> : this._deviceId</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> params;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const getPushSettingsData = new NRunnerGetPushSettingsData(</span><br><span class=\"line\">    <span class=\"string\">'7777bfb933f47777'</span></span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">class NRunnerGetPushSettingsCase extends NRunnerHttpClient &#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span></span>() &#123;</span><br><span class=\"line\">        super();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testSuccess(result_callback) &#123;</span><br><span class=\"line\">        /* state */</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/get-push-settings'</span>, getPushSettingsData.toJSON(), result_callback);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testBadRequest(result_callback) &#123;</span><br><span class=\"line\">        /* state unknown exception */</span><br><span class=\"line\">        getPushSettingsData.setDeviceID(null);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/get-push-settings'</span>, getPushSettingsData.toJSON(), result_callback);</span><br><span class=\"line\">        getPushSettingsData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testDeviceNotFound(result_callback) &#123;</span><br><span class=\"line\">        /* state device does not exist */</span><br><span class=\"line\">        getPushSettingsData.setDeviceID(<span class=\"string\">\"wrong_deviceID\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/get-push-settings'</span>, getPushSettingsData.toJSON(), result_callback);</span><br><span class=\"line\">        getPushSettingsData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/*-------------------------------------------------------------------------------------------------</span><br><span class=\"line\">    <span class=\"built_in\">set</span>-push-settings <span class=\"built_in\">test</span> cases</span><br><span class=\"line\"> * -----------------------------------------------------------------------------------------------*/</span><br><span class=\"line\">class NRunnerSetPushSettingsData &#123;</span><br><span class=\"line\">    constructor(deviceId, errorPushAlarm, weatherPushAlarm, turnOnPushAlarm, noticePushAlarm) &#123;</span><br><span class=\"line\">        this._deviceId = deviceId;</span><br><span class=\"line\">        this._errorPushAlarm = errorPushAlarm;</span><br><span class=\"line\">        this._weatherPushAlarm = weatherPushAlarm;</span><br><span class=\"line\">        this._turnOnPushAlarm = turnOnPushAlarm;</span><br><span class=\"line\">        this._noticePushAlarm = noticePushAlarm;</span><br><span class=\"line\"></span><br><span class=\"line\">        /* backup original values */</span><br><span class=\"line\">        this._orgdeviceId = deviceId;</span><br><span class=\"line\">        this._orgerrorPushAlarm = errorPushAlarm;</span><br><span class=\"line\">        this._orgweatherPushAlarm = weatherPushAlarm;</span><br><span class=\"line\">        this._orgturnOnPushAlarm = turnOnPushAlarm;</span><br><span class=\"line\">        this._orgnoticePushAlarm = noticePushAlarm;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">reset</span></span>() &#123;</span><br><span class=\"line\">        this._deviceId = this._orgdeviceId;</span><br><span class=\"line\">        this._errorPushAlarm = this._orgerrorPushAlarm;</span><br><span class=\"line\">        this._weatherPushAlarm = this._orgweatherPushAlarm;</span><br><span class=\"line\">        this._turnOnPushAlarm = this._orgturnOnPushAlarm;</span><br><span class=\"line\">        this._noticePushAlarm = this._orgnoticePushAlarm;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    setDeviceID(deviceId) &#123; this._deviceId = deviceId; &#125;</span><br><span class=\"line\">    setErrorPushAlarm(errorPushAlarm) &#123; this._errorPushAlarm = errorPushAlarm; &#125;</span><br><span class=\"line\">    setWeatherPushAlarm(weatherPushAlarm) &#123; this._weatherPushAlarm = weatherPushAlarm; &#125;</span><br><span class=\"line\">    setTurnOnPushAlarm(turnOnPushAlarm) &#123; this._turnOnPushAlarm = turnOnPushAlarm; &#125;</span><br><span class=\"line\">    setNoticePushAlarm(noticePushAlarm) &#123; this._noticePushAlarm = noticePushAlarm; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">toJSON</span></span>() &#123;</span><br><span class=\"line\">        const params = &#123;</span><br><span class=\"line\">            <span class=\"string\">\"deviceId\"</span> : this._deviceId,</span><br><span class=\"line\">            <span class=\"string\">\"errorPushAlarm\"</span> : this._errorPushAlarm,</span><br><span class=\"line\">            <span class=\"string\">\"weatherPushAlarm\"</span> : this._weatherPushAlarm,</span><br><span class=\"line\">            <span class=\"string\">\"turnOnPushAlarm\"</span> : this._turnOnPushAlarm,</span><br><span class=\"line\">            <span class=\"string\">\"noticePushAlarm\"</span> : this._noticePushAlarm</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> params;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const setPushSettingsData = new NRunnerSetPushSettingsData(</span><br><span class=\"line\">    <span class=\"string\">'7777bfb933f47777'</span>,</span><br><span class=\"line\">    <span class=\"string\">'1'</span>,</span><br><span class=\"line\">    <span class=\"string\">'0'</span>,</span><br><span class=\"line\">    <span class=\"string\">'1'</span>,</span><br><span class=\"line\">    <span class=\"string\">'0'</span></span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">class NRunnerSetPushSettingsCase extends NRunnerHttpClient &#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span></span>() &#123;</span><br><span class=\"line\">        super();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testSuccess(result_callback) &#123;</span><br><span class=\"line\">        /* state */</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/set-push-settings'</span>, setPushSettingsData.toJSON(), result_callback);</span><br><span class=\"line\"></span><br><span class=\"line\">        /*원복..*/</span><br><span class=\"line\">        __sleep(500);</span><br><span class=\"line\">        setPushSettingsData.reset();</span><br><span class=\"line\">        setPushSettingsData.setErrorPushAlarm(<span class=\"string\">\"2\"</span>);</span><br><span class=\"line\">        setPushSettingsData.setWeatherPushAlarm(<span class=\"string\">\"1\"</span>);</span><br><span class=\"line\">        setPushSettingsData.setTurnOnPushAlarm(<span class=\"string\">\"1\"</span>);</span><br><span class=\"line\">        setPushSettingsData.setNoticePushAlarm(<span class=\"string\">\"2\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/set-push-settings'</span>, setPushSettingsData.toJSON(), null);</span><br><span class=\"line\">        setPushSettingsData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testBadRequest(result_callback) &#123;</span><br><span class=\"line\">        /* state unknown exception */</span><br><span class=\"line\">        setPushSettingsData.setDeviceID(null);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/set-push-settings'</span>, setPushSettingsData.toJSON(), result_callback);</span><br><span class=\"line\">        setPushSettingsData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testDeviceNotFound(result_callback) &#123;</span><br><span class=\"line\">        /* state device does not exist */</span><br><span class=\"line\">        setPushSettingsData.setDeviceID(<span class=\"string\">\"wrong_deviceID\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/set-push-settings'</span>, setPushSettingsData.toJSON(), result_callback);</span><br><span class=\"line\">        setPushSettingsData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/*-------------------------------------------------------------------------------------------------</span><br><span class=\"line\">    change-region <span class=\"built_in\">test</span> cases</span><br><span class=\"line\"> * -----------------------------------------------------------------------------------------------*/</span><br><span class=\"line\">class NRunnerChangeRegionData &#123;</span><br><span class=\"line\">    constructor(deviceId, changeAreaCd) &#123;</span><br><span class=\"line\">        this._deviceId = deviceId;</span><br><span class=\"line\">        this._changeAreaCd = changeAreaCd;</span><br><span class=\"line\"></span><br><span class=\"line\">        /* backup original values */</span><br><span class=\"line\">        this._orgdeviceId = deviceId;</span><br><span class=\"line\">        this._orgchangeAreaCd = changeAreaCd;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">reset</span></span>() &#123;</span><br><span class=\"line\">        this._deviceId = this._orgdeviceId;</span><br><span class=\"line\">        this._changeAreaCd = this._orgchangeAreaCd;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    setDeviceID(deviceId) &#123; this._deviceId = deviceId; &#125;</span><br><span class=\"line\">    setChangeAreaCd(changeAreaCd) &#123; this._changeAreaCd = changeAreaCd; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">toJSON</span></span>() &#123;</span><br><span class=\"line\">        const params = &#123;</span><br><span class=\"line\">            <span class=\"string\">\"deviceId\"</span> : this._deviceId,</span><br><span class=\"line\">            <span class=\"string\">'changeAreaCd'</span>: this._changeAreaCd</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> params;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const changeRegionData = new NRunnerChangeRegionData(</span><br><span class=\"line\">    <span class=\"string\">'3c71bfb9331418df'</span>,</span><br><span class=\"line\">    36028</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">class NRunnerChangeRegionCase extends NRunnerHttpClient &#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span></span>() &#123;</span><br><span class=\"line\">        super();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testSuccess(result_callback) &#123;</span><br><span class=\"line\">        /* change-region */</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/change-region'</span>, changeRegionData.toJSON(), result_callback);</span><br><span class=\"line\"></span><br><span class=\"line\">        /*원복..*/</span><br><span class=\"line\">        __sleep(500);</span><br><span class=\"line\">        changeRegionData.reset();</span><br><span class=\"line\">        changeRegionData.setChangeAreaCd(<span class=\"string\">\"20001\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/change-region'</span>, changeRegionData.toJSON(), null);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testBadRequest(result_callback) &#123;</span><br><span class=\"line\">        /* change-region unknown exception */</span><br><span class=\"line\">        changeRegionData.setDeviceID(null);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/change-region'</span>, changeRegionData.toJSON(), result_callback);</span><br><span class=\"line\">        changeRegionData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testDeviceNotFound(result_callback) &#123;</span><br><span class=\"line\">        /* change-region device does not exist */</span><br><span class=\"line\">        changeRegionData.setDeviceID(<span class=\"string\">\"wrong_deviceID\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/device/change-region'</span>, changeRegionData.toJSON(), result_callback);</span><br><span class=\"line\">        changeRegionData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div>\n\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>Weather Test Case</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">///////////////////</span><br><span class=\"line\">/*  WEATHER CASE */</span><br><span class=\"line\">///////////////////</span><br><span class=\"line\">/*-------------------------------------------------------------------------------------------------</span><br><span class=\"line\">    weather region <span class=\"built_in\">test</span> cases</span><br><span class=\"line\"> * -----------------------------------------------------------------------------------------------*/</span><br><span class=\"line\">class NRunnerWeatherRegionData &#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span></span>() &#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">reset</span></span>() &#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">toJSON</span></span>() &#123;</span><br><span class=\"line\">        const params = &#123;</span><br><span class=\"line\">           </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> params;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const weatherRegionData = new NRunnerWeatherRegionData(</span><br><span class=\"line\">    </span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">class NRunnerWeatherRegionCase extends NRunnerHttpClientGet &#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span></span>() &#123;</span><br><span class=\"line\">        super();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testSuccess(result_callback) &#123;</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/weather/region'</span>, result_callback);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testDataNotFound(result_callback) &#123;</span><br><span class=\"line\">        /* change-region device does not exist */</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/weather/region'</span>, result_callback);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/*-------------------------------------------------------------------------------------------------</span><br><span class=\"line\">    weather info by code <span class=\"built_in\">test</span> cases</span><br><span class=\"line\"> * -----------------------------------------------------------------------------------------------*/</span><br><span class=\"line\">class NRunnerWeatherInfoCodeData &#123;</span><br><span class=\"line\">    constructor(regionCode) &#123;</span><br><span class=\"line\">        this._regionCode = regionCode;</span><br><span class=\"line\"></span><br><span class=\"line\">        /* backup original values */</span><br><span class=\"line\">        this._orgregionCode= regionCode;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">reset</span></span>() &#123;</span><br><span class=\"line\">        this._regionCode = this._orgregionCode;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    setRegionCode(regionCode) &#123; this._regionCode = regionCode; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">toJSON</span></span>() &#123;</span><br><span class=\"line\">        const params = &#123;</span><br><span class=\"line\">            <span class=\"string\">'regionCode'</span>: this._regionCode</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> params;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const weatherInfoCodeData = new NRunnerWeatherInfoCodeData(</span><br><span class=\"line\">    36028</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">class NRunnerWeatherInfoCodeCase extends NRunnerHttpClient &#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span></span>() &#123;</span><br><span class=\"line\">        super();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testSuccess(result_callback) &#123;</span><br><span class=\"line\">        /* change-region */</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/weather/info'</span>, weatherInfoCodeData.toJSON(), result_callback);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testBadRequest(result_callback) &#123;</span><br><span class=\"line\">        /* change-region unknown exception */</span><br><span class=\"line\">        weatherInfoCodeData.setRegionCode(null);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/weather/info'</span>, weatherInfoCodeData.toJSON(), result_callback);</span><br><span class=\"line\">        weatherInfoCodeData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testDataNotFound(result_callback) &#123;</span><br><span class=\"line\">        /* change-region device does not exist */</span><br><span class=\"line\">        weatherInfoCodeData.setRegionCode(11111);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/weather/info'</span>, weatherInfoCodeData.toJSON(), result_callback);</span><br><span class=\"line\">        weatherInfoCodeData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/*-------------------------------------------------------------------------------------------------</span><br><span class=\"line\">    weather info by state,city <span class=\"built_in\">test</span> cases</span><br><span class=\"line\"> * -----------------------------------------------------------------------------------------------*/</span><br><span class=\"line\">class NRunnerWeatherInfoStateCityData &#123;</span><br><span class=\"line\">    constructor(state, city) &#123;</span><br><span class=\"line\">        this._state = state;</span><br><span class=\"line\">        this._city = city;</span><br><span class=\"line\"></span><br><span class=\"line\">        /* backup original values */</span><br><span class=\"line\">        this._orgstate = state;</span><br><span class=\"line\">        this._orgcity = city;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">reset</span></span>() &#123;</span><br><span class=\"line\">        this._state = this._orgstate;</span><br><span class=\"line\">        this._city = this._orgcity;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    setState(state) &#123; this._state = state; &#125;</span><br><span class=\"line\">    setCity(city) &#123; this._city = city; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">toJSON</span></span>() &#123;</span><br><span class=\"line\">        const params = &#123;</span><br><span class=\"line\">            <span class=\"string\">'state'</span>: this._state,</span><br><span class=\"line\">            <span class=\"string\">'city'</span>: this._city</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> params;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const weatherInfoStateCityData = new NRunnerWeatherInfoStateCityData(</span><br><span class=\"line\">    <span class=\"string\">'서울특별시'</span>,</span><br><span class=\"line\">    <span class=\"string\">'금천구'</span></span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">class NRunnerWeatherInfoStateCityCase extends NRunnerHttpClient &#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span></span>() &#123;</span><br><span class=\"line\">        super();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testSuccess(result_callback) &#123;</span><br><span class=\"line\">        /* change-region */</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/weather/info'</span>, weatherInfoStateCityData.toJSON(), result_callback);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testBadRequest(result_callback) &#123;</span><br><span class=\"line\">        /* change-region unknown exception */</span><br><span class=\"line\">        weatherInfoStateCityData.setState(null);</span><br><span class=\"line\">        weatherInfoStateCityData.setCity(null);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/weather/info'</span>, weatherInfoStateCityData.toJSON(), result_callback);</span><br><span class=\"line\">        weatherInfoStateCityData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testDataNotFound(result_callback) &#123;</span><br><span class=\"line\">        /* change-region device does not exist */</span><br><span class=\"line\">        weatherInfoStateCityData.setState(<span class=\"string\">\"서울특별시\"</span>);</span><br><span class=\"line\">        weatherInfoStateCityData.setCity(<span class=\"string\">\"가산구\"</span>);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/weather/info'</span>, weatherInfoStateCityData.toJSON(), result_callback);</span><br><span class=\"line\">        weatherInfoStateCityData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/*-------------------------------------------------------------------------------------------------</span><br><span class=\"line\">    weather info by <span class=\"built_in\">history</span> <span class=\"built_in\">test</span> cases</span><br><span class=\"line\"> * -----------------------------------------------------------------------------------------------*/</span><br><span class=\"line\">class NRunnerWeatherInfoHistoryData &#123;</span><br><span class=\"line\">    constructor(regionCode, startMillis, endMillis) &#123;</span><br><span class=\"line\">        this._regionCode = regionCode;</span><br><span class=\"line\">        this._startMillis = startMillis;</span><br><span class=\"line\">        this._endMillis = endMillis;</span><br><span class=\"line\"></span><br><span class=\"line\">        /* backup original values */</span><br><span class=\"line\">        this._orgregionCode = regionCode;</span><br><span class=\"line\">        this._orgstartMillis = startMillis;</span><br><span class=\"line\">        this._orgendMillis = endMillis;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">reset</span></span>() &#123;</span><br><span class=\"line\">        this._regionCode = this._orgregionCode;</span><br><span class=\"line\">        this._startMillis = this._orgstartMillis;</span><br><span class=\"line\">        this._endMillis = this._orgendMillis;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    setRegionCode(regionCode) &#123; this._regionCode = regionCode; &#125;</span><br><span class=\"line\">    setStartMillis(startMillis) &#123; this._startMillis = startMillis; &#125;</span><br><span class=\"line\">    setEndMillis(endMillis) &#123; this._endMillis = endMillis; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">toJSON</span></span>() &#123;</span><br><span class=\"line\">        const params = &#123;</span><br><span class=\"line\">            <span class=\"string\">'regionCode'</span>: this._regionCode,</span><br><span class=\"line\">            <span class=\"string\">'startMillis'</span>: this._startMillis,</span><br><span class=\"line\">            <span class=\"string\">'endMillis'</span>: this._endMillis</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> params;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const weatherInfoHistoryData = new NRunnerWeatherInfoHistoryData(</span><br><span class=\"line\">    20001,</span><br><span class=\"line\">    1587600994000,</span><br><span class=\"line\">    1587683794000</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">class NRunnerWeatherInfoHistoryCase extends NRunnerHttpClient &#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span></span>() &#123;</span><br><span class=\"line\">        super();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testSuccess(result_callback) &#123;</span><br><span class=\"line\">        /* change-region */</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/weather/history'</span>, weatherInfoHistoryData.toJSON(), result_callback);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testBadRequest(result_callback) &#123;</span><br><span class=\"line\">        /* change-region unknown exception */</span><br><span class=\"line\">        weatherInfoHistoryData.setRegionCode(null);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/weather/history'</span>, weatherInfoHistoryData.toJSON(), result_callback);</span><br><span class=\"line\">        weatherInfoHistoryData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    testDataNotFound(result_callback) &#123;</span><br><span class=\"line\">        /* change-region device does not exist */</span><br><span class=\"line\">        weatherInfoHistoryData.setStartMillis(1587683794000);</span><br><span class=\"line\">        weatherInfoHistoryData.setEndMillis(1587600994000);</span><br><span class=\"line\">        super.request(<span class=\"string\">'/api/v2/weather/history'</span>, weatherInfoHistoryData.toJSON(), result_callback);</span><br><span class=\"line\">        weatherInfoHistoryData.reset();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div>\n\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>HTTP Method Override</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/*-------------------------------------------------------------------------------------------------</span><br><span class=\"line\">    HTTP client</span><br><span class=\"line\"> * -----------------------------------------------------------------------------------------------*/</span><br><span class=\"line\">class NRunnerHttpClient &#123;</span><br><span class=\"line\">    constructor(host) &#123;</span><br><span class=\"line\">        this._host = <span class=\"string\">'http://blahblah.....'</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ( host ) &#123;</span><br><span class=\"line\">            this._host = host;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    request(api_url, params, callback) &#123;</span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">            const xhr = new XMLHttpRequest();</span><br><span class=\"line\">            xhr.open(<span class=\"string\">'POST'</span>, this._host + api_url);</span><br><span class=\"line\">            xhr.timeout = 5000;</span><br><span class=\"line\">            xhr.setRequestHeader(<span class=\"string\">'Content-type'</span>, <span class=\"string\">'application/json'</span>)</span><br><span class=\"line\">            xhr.send(JSON.stringify(params));</span><br><span class=\"line\">            xhr.onload = <span class=\"function\"><span class=\"title\">function</span></span> () &#123;</span><br><span class=\"line\">                console.log(this.responseText);</span><br><span class=\"line\">                const obj = JSON.parse(this.responseText);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (callback != null) &#123;</span><br><span class=\"line\">                    callback(obj);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            xhr.ontimeout = <span class=\"function\"><span class=\"title\">function</span></span> () &#123;</span><br><span class=\"line\">                console.log(<span class=\"string\">\"ontimeout\"</span>);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (callback != null) &#123;</span><br><span class=\"line\">                    callback(null);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            xhr.onerror = <span class=\"function\"><span class=\"title\">function</span></span> () &#123;</span><br><span class=\"line\">                console.log(<span class=\"string\">\"onerror\"</span>);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (callback != null) &#123;</span><br><span class=\"line\">                    callback(null);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; catch (e) &#123;</span><br><span class=\"line\">            console.log(<span class=\"string\">\"error\"</span>);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (callback != null) &#123;</span><br><span class=\"line\">                callback(null);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">class NRunnerHttpClientGet &#123;</span><br><span class=\"line\">    constructor(host) &#123;</span><br><span class=\"line\">        this._host = <span class=\"string\">'http://blahblah.....'</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ( host ) &#123;</span><br><span class=\"line\">            this._host = host;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    request(api_url, callback) &#123;</span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">            const xhr = new XMLHttpRequest();</span><br><span class=\"line\">            xhr.open(<span class=\"string\">'GET'</span>, this._host + api_url);</span><br><span class=\"line\">            xhr.timeout = 5000;</span><br><span class=\"line\">            xhr.setRequestHeader(<span class=\"string\">'Content-type'</span>, <span class=\"string\">'application/json'</span>)</span><br><span class=\"line\">            xhr.send();</span><br><span class=\"line\">            xhr.onload = <span class=\"function\"><span class=\"title\">function</span></span> () &#123;</span><br><span class=\"line\">                console.log(this.responseText);</span><br><span class=\"line\">                const obj = JSON.parse(this.responseText);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (callback != null) &#123;</span><br><span class=\"line\">                    callback(obj);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            xhr.ontimeout = <span class=\"function\"><span class=\"title\">function</span></span> () &#123;</span><br><span class=\"line\">                console.log(<span class=\"string\">\"ontimeout\"</span>);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (callback != null) &#123;</span><br><span class=\"line\">                    callback(null);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            xhr.onerror = <span class=\"function\"><span class=\"title\">function</span></span> () &#123;</span><br><span class=\"line\">                console.log(<span class=\"string\">\"onerror\"</span>);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (callback != null) &#123;</span><br><span class=\"line\">                    callback(null);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; catch (e) &#123;</span><br><span class=\"line\">            console.log(<span class=\"string\">\"error\"</span>);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (callback != null) &#123;</span><br><span class=\"line\">                callback(null);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"HTML-Code\"><a href=\"#HTML-Code\" class=\"headerlink\" title=\"HTML Code\"></a>HTML Code</h3><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><figcaption><span>Http Code(Function)</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br><span class=\"line\">301</span><br><span class=\"line\">302</span><br><span class=\"line\">303</span><br><span class=\"line\">304</span><br><span class=\"line\">305</span><br><span class=\"line\">306</span><br><span class=\"line\">307</span><br><span class=\"line\">308</span><br><span class=\"line\">309</span><br><span class=\"line\">310</span><br><span class=\"line\">311</span><br><span class=\"line\">312</span><br><span class=\"line\">313</span><br><span class=\"line\">314</span><br><span class=\"line\">315</span><br><span class=\"line\">316</span><br><span class=\"line\">317</span><br><span class=\"line\">318</span><br><span class=\"line\">319</span><br><span class=\"line\">320</span><br><span class=\"line\">321</span><br><span class=\"line\">322</span><br><span class=\"line\">323</span><br><span class=\"line\">324</span><br><span class=\"line\">325</span><br><span class=\"line\">326</span><br><span class=\"line\">327</span><br><span class=\"line\">328</span><br><span class=\"line\">329</span><br><span class=\"line\">330</span><br><span class=\"line\">331</span><br><span class=\"line\">332</span><br><span class=\"line\">333</span><br><span class=\"line\">334</span><br><span class=\"line\">335</span><br><span class=\"line\">336</span><br><span class=\"line\">337</span><br><span class=\"line\">338</span><br><span class=\"line\">339</span><br><span class=\"line\">340</span><br><span class=\"line\">341</span><br><span class=\"line\">342</span><br><span class=\"line\">343</span><br><span class=\"line\">344</span><br><span class=\"line\">345</span><br><span class=\"line\">346</span><br><span class=\"line\">347</span><br><span class=\"line\">348</span><br><span class=\"line\">349</span><br><span class=\"line\">350</span><br><span class=\"line\">351</span><br><span class=\"line\">352</span><br><span class=\"line\">353</span><br><span class=\"line\">354</span><br><span class=\"line\">355</span><br><span class=\"line\">356</span><br><span class=\"line\">357</span><br><span class=\"line\">358</span><br><span class=\"line\">359</span><br><span class=\"line\">360</span><br><span class=\"line\">361</span><br><span class=\"line\">362</span><br><span class=\"line\">363</span><br><span class=\"line\">364</span><br><span class=\"line\">365</span><br><span class=\"line\">366</span><br><span class=\"line\">367</span><br><span class=\"line\">368</span><br><span class=\"line\">369</span><br><span class=\"line\">370</span><br><span class=\"line\">371</span><br><span class=\"line\">372</span><br><span class=\"line\">373</span><br><span class=\"line\">374</span><br><span class=\"line\">375</span><br><span class=\"line\">376</span><br><span class=\"line\">377</span><br><span class=\"line\">378</span><br><span class=\"line\">379</span><br><span class=\"line\">380</span><br><span class=\"line\">381</span><br><span class=\"line\">382</span><br><span class=\"line\">383</span><br><span class=\"line\">384</span><br><span class=\"line\">385</span><br><span class=\"line\">386</span><br><span class=\"line\">387</span><br><span class=\"line\">388</span><br><span class=\"line\">389</span><br><span class=\"line\">390</span><br><span class=\"line\">391</span><br><span class=\"line\">392</span><br><span class=\"line\">393</span><br><span class=\"line\">394</span><br><span class=\"line\">395</span><br><span class=\"line\">396</span><br><span class=\"line\">397</span><br><span class=\"line\">398</span><br><span class=\"line\">399</span><br><span class=\"line\">400</span><br><span class=\"line\">401</span><br><span class=\"line\">402</span><br><span class=\"line\">403</span><br><span class=\"line\">404</span><br><span class=\"line\">405</span><br><span class=\"line\">406</span><br><span class=\"line\">407</span><br><span class=\"line\">408</span><br><span class=\"line\">409</span><br><span class=\"line\">410</span><br><span class=\"line\">411</span><br><span class=\"line\">412</span><br><span class=\"line\">413</span><br><span class=\"line\">414</span><br><span class=\"line\">415</span><br><span class=\"line\">416</span><br><span class=\"line\">417</span><br><span class=\"line\">418</span><br><span class=\"line\">419</span><br><span class=\"line\">420</span><br><span class=\"line\">421</span><br><span class=\"line\">422</span><br><span class=\"line\">423</span><br><span class=\"line\">424</span><br><span class=\"line\">425</span><br><span class=\"line\">426</span><br><span class=\"line\">427</span><br><span class=\"line\">428</span><br><span class=\"line\">429</span><br><span class=\"line\">430</span><br><span class=\"line\">431</span><br><span class=\"line\">432</span><br><span class=\"line\">433</span><br><span class=\"line\">434</span><br><span class=\"line\">435</span><br><span class=\"line\">436</span><br><span class=\"line\">437</span><br><span class=\"line\">438</span><br><span class=\"line\">439</span><br><span class=\"line\">440</span><br><span class=\"line\">441</span><br><span class=\"line\">442</span><br><span class=\"line\">443</span><br><span class=\"line\">444</span><br><span class=\"line\">445</span><br><span class=\"line\">446</span><br><span class=\"line\">447</span><br><span class=\"line\">448</span><br><span class=\"line\">449</span><br><span class=\"line\">450</span><br><span class=\"line\">451</span><br><span class=\"line\">452</span><br><span class=\"line\">453</span><br><span class=\"line\">454</span><br><span class=\"line\">455</span><br><span class=\"line\">456</span><br><span class=\"line\">457</span><br><span class=\"line\">458</span><br><span class=\"line\">459</span><br><span class=\"line\">460</span><br><span class=\"line\">461</span><br><span class=\"line\">462</span><br><span class=\"line\">463</span><br><span class=\"line\">464</span><br><span class=\"line\">465</span><br><span class=\"line\">466</span><br><span class=\"line\">467</span><br><span class=\"line\">468</span><br><span class=\"line\">469</span><br><span class=\"line\">470</span><br><span class=\"line\">471</span><br><span class=\"line\">472</span><br><span class=\"line\">473</span><br><span class=\"line\">474</span><br><span class=\"line\">475</span><br><span class=\"line\">476</span><br><span class=\"line\">477</span><br><span class=\"line\">478</span><br><span class=\"line\">479</span><br><span class=\"line\">480</span><br><span class=\"line\">481</span><br><span class=\"line\">482</span><br><span class=\"line\">483</span><br><span class=\"line\">484</span><br><span class=\"line\">485</span><br><span class=\"line\">486</span><br><span class=\"line\">487</span><br><span class=\"line\">488</span><br><span class=\"line\">489</span><br><span class=\"line\">490</span><br><span class=\"line\">491</span><br><span class=\"line\">492</span><br><span class=\"line\">493</span><br><span class=\"line\">494</span><br><span class=\"line\">495</span><br><span class=\"line\">496</span><br><span class=\"line\">497</span><br><span class=\"line\">498</span><br><span class=\"line\">499</span><br><span class=\"line\">500</span><br><span class=\"line\">501</span><br><span class=\"line\">502</span><br><span class=\"line\">503</span><br><span class=\"line\">504</span><br><span class=\"line\">505</span><br><span class=\"line\">506</span><br><span class=\"line\">507</span><br><span class=\"line\">508</span><br><span class=\"line\">509</span><br><span class=\"line\">510</span><br><span class=\"line\">511</span><br><span class=\"line\">512</span><br><span class=\"line\">513</span><br><span class=\"line\">514</span><br><span class=\"line\">515</span><br><span class=\"line\">516</span><br><span class=\"line\">517</span><br><span class=\"line\">518</span><br><span class=\"line\">519</span><br><span class=\"line\">520</span><br><span class=\"line\">521</span><br><span class=\"line\">522</span><br><span class=\"line\">523</span><br><span class=\"line\">524</span><br><span class=\"line\">525</span><br><span class=\"line\">526</span><br><span class=\"line\">527</span><br><span class=\"line\">528</span><br><span class=\"line\">529</span><br><span class=\"line\">530</span><br><span class=\"line\">531</span><br><span class=\"line\">532</span><br><span class=\"line\">533</span><br><span class=\"line\">534</span><br><span class=\"line\">535</span><br><span class=\"line\">536</span><br><span class=\"line\">537</span><br><span class=\"line\">538</span><br><span class=\"line\">539</span><br><span class=\"line\">540</span><br><span class=\"line\">541</span><br><span class=\"line\">542</span><br><span class=\"line\">543</span><br><span class=\"line\">544</span><br><span class=\"line\">545</span><br><span class=\"line\">546</span><br><span class=\"line\">547</span><br><span class=\"line\">548</span><br><span class=\"line\">549</span><br><span class=\"line\">550</span><br><span class=\"line\">551</span><br><span class=\"line\">552</span><br><span class=\"line\">553</span><br><span class=\"line\">554</span><br><span class=\"line\">555</span><br><span class=\"line\">556</span><br><span class=\"line\">557</span><br><span class=\"line\">558</span><br><span class=\"line\">559</span><br><span class=\"line\">560</span><br><span class=\"line\">561</span><br><span class=\"line\">562</span><br><span class=\"line\">563</span><br><span class=\"line\">564</span><br><span class=\"line\">565</span><br><span class=\"line\">566</span><br><span class=\"line\">567</span><br><span class=\"line\">568</span><br><span class=\"line\">569</span><br><span class=\"line\">570</span><br><span class=\"line\">571</span><br><span class=\"line\">572</span><br><span class=\"line\">573</span><br><span class=\"line\">574</span><br><span class=\"line\">575</span><br><span class=\"line\">576</span><br><span class=\"line\">577</span><br><span class=\"line\">578</span><br><span class=\"line\">579</span><br><span class=\"line\">580</span><br><span class=\"line\">581</span><br><span class=\"line\">582</span><br><span class=\"line\">583</span><br><span class=\"line\">584</span><br><span class=\"line\">585</span><br><span class=\"line\">586</span><br><span class=\"line\">587</span><br><span class=\"line\">588</span><br><span class=\"line\">589</span><br><span class=\"line\">590</span><br><span class=\"line\">591</span><br><span class=\"line\">592</span><br><span class=\"line\">593</span><br><span class=\"line\">594</span><br><span class=\"line\">595</span><br><span class=\"line\">596</span><br><span class=\"line\">597</span><br><span class=\"line\">598</span><br><span class=\"line\">599</span><br><span class=\"line\">600</span><br><span class=\"line\">601</span><br><span class=\"line\">602</span><br><span class=\"line\">603</span><br><span class=\"line\">604</span><br><span class=\"line\">605</span><br><span class=\"line\">606</span><br><span class=\"line\">607</span><br><span class=\"line\">608</span><br><span class=\"line\">609</span><br><span class=\"line\">610</span><br><span class=\"line\">611</span><br><span class=\"line\">612</span><br><span class=\"line\">613</span><br><span class=\"line\">614</span><br><span class=\"line\">615</span><br><span class=\"line\">616</span><br><span class=\"line\">617</span><br><span class=\"line\">618</span><br><span class=\"line\">619</span><br><span class=\"line\">620</span><br><span class=\"line\">621</span><br><span class=\"line\">622</span><br><span class=\"line\">623</span><br><span class=\"line\">624</span><br><span class=\"line\">625</span><br><span class=\"line\">626</span><br><span class=\"line\">627</span><br><span class=\"line\">628</span><br><span class=\"line\">629</span><br><span class=\"line\">630</span><br><span class=\"line\">631</span><br><span class=\"line\">632</span><br><span class=\"line\">633</span><br><span class=\"line\">634</span><br><span class=\"line\">635</span><br><span class=\"line\">636</span><br><span class=\"line\">637</span><br><span class=\"line\">638</span><br><span class=\"line\">639</span><br><span class=\"line\">640</span><br><span class=\"line\">641</span><br><span class=\"line\">642</span><br><span class=\"line\">643</span><br><span class=\"line\">644</span><br><span class=\"line\">645</span><br><span class=\"line\">646</span><br><span class=\"line\">647</span><br><span class=\"line\">648</span><br><span class=\"line\">649</span><br><span class=\"line\">650</span><br><span class=\"line\">651</span><br><span class=\"line\">652</span><br><span class=\"line\">653</span><br><span class=\"line\">654</span><br><span class=\"line\">655</span><br><span class=\"line\">656</span><br><span class=\"line\">657</span><br><span class=\"line\">658</span><br><span class=\"line\">659</span><br><span class=\"line\">660</span><br><span class=\"line\">661</span><br><span class=\"line\">662</span><br><span class=\"line\">663</span><br><span class=\"line\">664</span><br><span class=\"line\">665</span><br><span class=\"line\">666</span><br><span class=\"line\">667</span><br><span class=\"line\">668</span><br><span class=\"line\">669</span><br><span class=\"line\">670</span><br><span class=\"line\">671</span><br><span class=\"line\">672</span><br><span class=\"line\">673</span><br><span class=\"line\">674</span><br><span class=\"line\">675</span><br><span class=\"line\">676</span><br><span class=\"line\">677</span><br><span class=\"line\">678</span><br><span class=\"line\">679</span><br><span class=\"line\">680</span><br><span class=\"line\">681</span><br><span class=\"line\">682</span><br><span class=\"line\">683</span><br><span class=\"line\">684</span><br><span class=\"line\">685</span><br><span class=\"line\">686</span><br><span class=\"line\">687</span><br><span class=\"line\">688</span><br><span class=\"line\">689</span><br><span class=\"line\">690</span><br><span class=\"line\">691</span><br><span class=\"line\">692</span><br><span class=\"line\">693</span><br><span class=\"line\">694</span><br><span class=\"line\">695</span><br><span class=\"line\">696</span><br><span class=\"line\">697</span><br><span class=\"line\">698</span><br><span class=\"line\">699</span><br><span class=\"line\">700</span><br><span class=\"line\">701</span><br><span class=\"line\">702</span><br><span class=\"line\">703</span><br><span class=\"line\">704</span><br><span class=\"line\">705</span><br><span class=\"line\">706</span><br><span class=\"line\">707</span><br><span class=\"line\">708</span><br><span class=\"line\">709</span><br><span class=\"line\">710</span><br><span class=\"line\">711</span><br><span class=\"line\">712</span><br><span class=\"line\">713</span><br><span class=\"line\">714</span><br><span class=\"line\">715</span><br><span class=\"line\">716</span><br><span class=\"line\">717</span><br><span class=\"line\">718</span><br><span class=\"line\">719</span><br><span class=\"line\">720</span><br><span class=\"line\">721</span><br><span class=\"line\">722</span><br><span class=\"line\">723</span><br><span class=\"line\">724</span><br><span class=\"line\">725</span><br><span class=\"line\">726</span><br><span class=\"line\">727</span><br><span class=\"line\">728</span><br><span class=\"line\">729</span><br><span class=\"line\">730</span><br><span class=\"line\">731</span><br><span class=\"line\">732</span><br><span class=\"line\">733</span><br><span class=\"line\">734</span><br><span class=\"line\">735</span><br><span class=\"line\">736</span><br><span class=\"line\">737</span><br><span class=\"line\">738</span><br><span class=\"line\">739</span><br><span class=\"line\">740</span><br><span class=\"line\">741</span><br><span class=\"line\">742</span><br><span class=\"line\">743</span><br><span class=\"line\">744</span><br><span class=\"line\">745</span><br><span class=\"line\">746</span><br><span class=\"line\">747</span><br><span class=\"line\">748</span><br><span class=\"line\">749</span><br><span class=\"line\">750</span><br><span class=\"line\">751</span><br><span class=\"line\">752</span><br><span class=\"line\">753</span><br><span class=\"line\">754</span><br><span class=\"line\">755</span><br><span class=\"line\">756</span><br><span class=\"line\">757</span><br><span class=\"line\">758</span><br><span class=\"line\">759</span><br><span class=\"line\">760</span><br><span class=\"line\">761</span><br><span class=\"line\">762</span><br><span class=\"line\">763</span><br><span class=\"line\">764</span><br><span class=\"line\">765</span><br><span class=\"line\">766</span><br><span class=\"line\">767</span><br><span class=\"line\">768</span><br><span class=\"line\">769</span><br><span class=\"line\">770</span><br><span class=\"line\">771</span><br><span class=\"line\">772</span><br><span class=\"line\">773</span><br><span class=\"line\">774</span><br><span class=\"line\">775</span><br><span class=\"line\">776</span><br><span class=\"line\">777</span><br><span class=\"line\">778</span><br><span class=\"line\">779</span><br><span class=\"line\">780</span><br><span class=\"line\">781</span><br><span class=\"line\">782</span><br><span class=\"line\">783</span><br><span class=\"line\">784</span><br><span class=\"line\">785</span><br><span class=\"line\">786</span><br><span class=\"line\">787</span><br><span class=\"line\">788</span><br><span class=\"line\">789</span><br><span class=\"line\">790</span><br><span class=\"line\">791</span><br><span class=\"line\">792</span><br><span class=\"line\">793</span><br><span class=\"line\">794</span><br><span class=\"line\">795</span><br><span class=\"line\">796</span><br><span class=\"line\">797</span><br><span class=\"line\">798</span><br><span class=\"line\">799</span><br><span class=\"line\">800</span><br><span class=\"line\">801</span><br><span class=\"line\">802</span><br><span class=\"line\">803</span><br><span class=\"line\">804</span><br><span class=\"line\">805</span><br><span class=\"line\">806</span><br><span class=\"line\">807</span><br><span class=\"line\">808</span><br><span class=\"line\">809</span><br><span class=\"line\">810</span><br><span class=\"line\">811</span><br><span class=\"line\">812</span><br><span class=\"line\">813</span><br><span class=\"line\">814</span><br><span class=\"line\">815</span><br><span class=\"line\">816</span><br><span class=\"line\">817</span><br><span class=\"line\">818</span><br><span class=\"line\">819</span><br><span class=\"line\">820</span><br><span class=\"line\">821</span><br><span class=\"line\">822</span><br><span class=\"line\">823</span><br><span class=\"line\">824</span><br><span class=\"line\">825</span><br><span class=\"line\">826</span><br><span class=\"line\">827</span><br><span class=\"line\">828</span><br><span class=\"line\">829</span><br><span class=\"line\">830</span><br><span class=\"line\">831</span><br><span class=\"line\">832</span><br><span class=\"line\">833</span><br><span class=\"line\">834</span><br><span class=\"line\">835</span><br><span class=\"line\">836</span><br><span class=\"line\">837</span><br><span class=\"line\">838</span><br><span class=\"line\">839</span><br><span class=\"line\">840</span><br><span class=\"line\">841</span><br><span class=\"line\">842</span><br><span class=\"line\">843</span><br><span class=\"line\">844</span><br><span class=\"line\">845</span><br><span class=\"line\">846</span><br><span class=\"line\">847</span><br><span class=\"line\">848</span><br><span class=\"line\">849</span><br><span class=\"line\">850</span><br><span class=\"line\">851</span><br><span class=\"line\">852</span><br><span class=\"line\">853</span><br><span class=\"line\">854</span><br><span class=\"line\">855</span><br><span class=\"line\">856</span><br><span class=\"line\">857</span><br><span class=\"line\">858</span><br><span class=\"line\">859</span><br><span class=\"line\">860</span><br><span class=\"line\">861</span><br><span class=\"line\">862</span><br><span class=\"line\">863</span><br><span class=\"line\">864</span><br><span class=\"line\">865</span><br><span class=\"line\">866</span><br><span class=\"line\">867</span><br><span class=\"line\">868</span><br><span class=\"line\">869</span><br><span class=\"line\">870</span><br><span class=\"line\">871</span><br><span class=\"line\">872</span><br><span class=\"line\">873</span><br><span class=\"line\">874</span><br><span class=\"line\">875</span><br><span class=\"line\">876</span><br><span class=\"line\">877</span><br><span class=\"line\">878</span><br><span class=\"line\">879</span><br><span class=\"line\">880</span><br><span class=\"line\">881</span><br><span class=\"line\">882</span><br><span class=\"line\">883</span><br><span class=\"line\">884</span><br><span class=\"line\">885</span><br><span class=\"line\">886</span><br><span class=\"line\">887</span><br><span class=\"line\">888</span><br><span class=\"line\">889</span><br><span class=\"line\">890</span><br><span class=\"line\">891</span><br><span class=\"line\">892</span><br><span class=\"line\">893</span><br><span class=\"line\">894</span><br><span class=\"line\">895</span><br><span class=\"line\">896</span><br><span class=\"line\">897</span><br><span class=\"line\">898</span><br><span class=\"line\">899</span><br><span class=\"line\">900</span><br><span class=\"line\">901</span><br><span class=\"line\">902</span><br><span class=\"line\">903</span><br><span class=\"line\">904</span><br><span class=\"line\">905</span><br><span class=\"line\">906</span><br><span class=\"line\">907</span><br><span class=\"line\">908</span><br><span class=\"line\">909</span><br><span class=\"line\">910</span><br><span class=\"line\">911</span><br><span class=\"line\">912</span><br><span class=\"line\">913</span><br><span class=\"line\">914</span><br><span class=\"line\">915</span><br><span class=\"line\">916</span><br><span class=\"line\">917</span><br><span class=\"line\">918</span><br><span class=\"line\">919</span><br><span class=\"line\">920</span><br><span class=\"line\">921</span><br><span class=\"line\">922</span><br><span class=\"line\">923</span><br><span class=\"line\">924</span><br><span class=\"line\">925</span><br><span class=\"line\">926</span><br><span class=\"line\">927</span><br><span class=\"line\">928</span><br><span class=\"line\">929</span><br><span class=\"line\">930</span><br><span class=\"line\">931</span><br><span class=\"line\">932</span><br><span class=\"line\">933</span><br><span class=\"line\">934</span><br><span class=\"line\">935</span><br><span class=\"line\">936</span><br><span class=\"line\">937</span><br><span class=\"line\">938</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!DOCTYPE html&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">    &lt;meta charset=<span class=\"string\">\"utf-8\"</span>&gt;</span><br><span class=\"line\">    &lt;title&gt;NaviRunner Simple Test&lt;/title&gt;</span><br><span class=\"line\">    &lt;meta http-equiv=<span class=\"string\">\"Content-Type\"</span> content=<span class=\"string\">\"text/html; charset=utf-8\"</span>&gt;</span><br><span class=\"line\">    &lt;meta http-equiv=<span class=\"string\">\"cache-control\"</span> content=<span class=\"string\">\"no-cache\"</span> /&gt;</span><br><span class=\"line\">    &lt;script <span class=\"built_in\">type</span>=<span class=\"string\">\"text/javascript\"</span> src=<span class=\"string\">\"mate_api_test.js\"</span>&gt;&lt;/script&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">    &lt;!-- 앱버전쪽 버튼선언 --&gt; </span><br><span class=\"line\">    1. APP 버전 체크&lt;/br&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"appVersionSuccess()\"</span>&gt;appVersion success&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"appVersionBadRequest()\"</span>&gt;appVersion bad request&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"appVersionNoData()\"</span>&gt;appVersion no data&lt;/button&gt;</span><br><span class=\"line\">&lt;/br&gt;</span><br><span class=\"line\">&lt;/br&gt; =================================</span><br><span class=\"line\">&lt;/br&gt;</span><br><span class=\"line\">    &lt;/br&gt;</span><br><span class=\"line\">    &lt;!-- 유저쪽 버튼선언 --&gt; </span><br><span class=\"line\">    1. 로그아웃&lt;/br&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userSignoutSuccess()\"</span>&gt;signout success&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userSignoutBadRequest()\"</span>&gt;signout bad request&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userSignoutNoData()\"</span>&gt;signout no data&lt;/button&gt;</span><br><span class=\"line\">&lt;/br&gt;&lt;/br&gt;</span><br><span class=\"line\">    2. 회원탈퇴&lt;/br&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userWithdrawalSuccess()\"</span>&gt;Withdrawal success&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userWithdrawalBadRequest()\"</span>&gt;Withdrawal bad request&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userWithdrawalUserNotFound()\"</span>&gt;Withdrawal invalid password&lt;/button&gt;</span><br><span class=\"line\">&lt;/br&gt;&lt;/br&gt;</span><br><span class=\"line\">    3. 비밀번호 변경&lt;/br&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userResetPasswordSuccess()\"</span>&gt;ResetPassword success&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userResetPasswordBadRequest()\"</span>&gt;ResetPassword bad request&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userResetPasswordUserNotFound()\"</span>&gt;ResetPassword user not found&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userResetPasswordDeviceNoConnecteddDevices()\"</span>&gt;ResetPassword not have device&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userResetPasswordUserChangePasswordFail()\"</span>&gt;ResetPassword user change password fail&lt;/button&gt;</span><br><span class=\"line\">&lt;/br&gt;&lt;/br&gt;</span><br><span class=\"line\">    4. 계정찾기&lt;/br&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userFindidSuccess()\"</span>&gt;Findid success&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userFindidBadRequest()\"</span>&gt;Findid bad request&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userFindidUserNotFound()\"</span>&gt;Findid user not found&lt;/button&gt;</span><br><span class=\"line\">&lt;/br&gt;&lt;/br&gt;</span><br><span class=\"line\">    5. 비밀번호 찾기&lt;/br&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userIssuePasswordSuccess()\"</span>&gt;IssuePassword success&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userIssuePasswordBadRequest()\"</span>&gt;IssuePassword bad request&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userIssuePasswordUserNotFound()\"</span>&gt;IssuePassword user not found&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userIssuePasswordDeviceNoConnectedDevices()\"</span>&gt;IssuePassword not have device&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userIssuePasswordChangePasswordFail()\"</span>&gt;IssuePassword user find password fail&lt;/button&gt;</span><br><span class=\"line\">&lt;/br&gt;&lt;/br&gt;</span><br><span class=\"line\">    6. 로그인&lt;/br&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userSigninSuccess()\"</span>&gt;Signin success&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userSigninBadRequest()\"</span>&gt;Signin bad request&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userSigninUserNotFound()\"</span>&gt;Signin user not found&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userSigninInvalidPassword()\"</span>&gt;Signin invalid password&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userSigninAttemptExceeded()\"</span>&gt;Signin attempt exceeded&lt;/button&gt;</span><br><span class=\"line\">&lt;/br&gt;&lt;/br&gt;</span><br><span class=\"line\">    7. 회원가입&lt;/br&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userSignUpSuccess()\"</span>&gt;SignUp success&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userSignUpBadRequest()\"</span>&gt;SignUp bad request&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userSignUpUserIdAlreadyExist()\"</span>&gt;SignUp user id already exist&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userSignUpUserEmailAlreadyExist()\"</span>&gt;SignUp email already exist&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userSignUpUserPhoneAlreadyExist()\"</span>&gt;SignUp mobile number already exist&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userSignUpDeviceAlreadyUsed()\"</span>&gt;SignUp device already used by other user&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userSignUpNoDevices()\"</span>&gt;SignUp device does not exist&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userSignUpUnknownException()\"</span>&gt;SignUp unknown exception&lt;/button&gt;</span><br><span class=\"line\">&lt;/br&gt;&lt;/br&gt;</span><br><span class=\"line\">    8. 유저 정보변경&lt;/br&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userChangeInfoSuccess()\"</span>&gt;ChangeInfo success&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userChangeInfoBadRequest()\"</span>&gt;ChangeInfo bad request&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userChangeInfoNotFound()\"</span>&gt;ChangeInfo user not found&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userChangeInfoMobileNumberAlreadyExist()\"</span>&gt;ChangeInfo mobile number already exist&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userChangeInfoEmailAlreadyExist()\"</span>&gt;ChangeInfo email already exist&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userChangeInfoChangePasswordFail()\"</span>&gt;ChangeInfo fail to change password&lt;/button&gt;</span><br><span class=\"line\">&lt;/br&gt;&lt;/br&gt;</span><br><span class=\"line\">    9. 유저 정보조회&lt;/br&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userInfoSuccess()\"</span>&gt;Info success&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userInfoBadRequest()\"</span>&gt;Info bad request&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userInfoNotFound()\"</span>&gt;Info user not found&lt;/button&gt;</span><br><span class=\"line\">&lt;/br&gt;&lt;/br&gt;</span><br><span class=\"line\">    10. 유저 정보 중복체크&lt;/br&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userCheckInfoSuccess()\"</span>&gt;CheckInfo success&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userCheckInfoBadRequest()\"</span>&gt;CheckInfo bad request&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userCheckInfoMobileNumberAlreadyExist()\"</span>&gt;CheckInfo mobile number already exist&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userCheckInfoEmailAlreadyExist()\"</span>&gt;CheckInfo email already exist&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userCheckInfoUseridAlreadyExist()\"</span>&gt;CheckInfo user id already exist&lt;/button&gt;</span><br><span class=\"line\">&lt;/br&gt;&lt;/br&gt;</span><br><span class=\"line\">    11. 유저 지역코드 변경&lt;/br&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userChangeRegionSuccess()\"</span>&gt;changeRegion success&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userChangeRegionBadRequest()\"</span>&gt;changeRegion bad request&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"userChangeRegionUserNotFound()\"</span>&gt;changeRegion user not found&lt;/button&gt;</span><br><span class=\"line\">&lt;/br&gt;</span><br><span class=\"line\">&lt;/br&gt; =================================</span><br><span class=\"line\">&lt;/br&gt;</span><br><span class=\"line\">    &lt;!-- 디바이스쪽 버튼선언 --&gt; </span><br><span class=\"line\">    1. 기기 별명 변경&lt;/br&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"changenameSuccess()\"</span>&gt;changename success&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"changenameBadRequest()\"</span>&gt;changename bad request&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"changenameDeviceNotFound()\"</span>&gt;changename device not found&lt;/button&gt;</span><br><span class=\"line\">&lt;/br&gt;&lt;/br&gt;</span><br><span class=\"line\">    2. 기기 정보 요청&lt;/br&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"listSuccess()\"</span>&gt;list success&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"listBadRequest()\"</span>&gt;list bad request&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"listDataNotFound()\"</span>&gt;list data not found&lt;/button&gt;</span><br><span class=\"line\">&lt;/br&gt;&lt;/br&gt;</span><br><span class=\"line\">    3. 기기 상태 조회&lt;/br&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"stateSuccess()\"</span>&gt;state success&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"stateBadRequest()\"</span>&gt;state bad request&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"stateDeviceNotFound()\"</span>&gt;state device does not exist&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"stateDeviceNotConnected()\"</span>&gt;state device not connected&lt;/button&gt;</span><br><span class=\"line\">&lt;/br&gt;&lt;/br&gt;</span><br><span class=\"line\">    4. 기기 추가 등록(success부분 Refresh해야됨. 초기화가 안되는걸로 보임)&lt;/br&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"addSuccess()\"</span>&gt;add success&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"addBadRequest()\"</span>&gt;add bad request&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"addUserNotFound()\"</span>&gt;add user not found&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"addDeviceAlreadyExistInUser()\"</span>&gt;add device alread exist <span class=\"keyword\">in</span> user&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"addDeviceAllUse()\"</span>&gt;add device all use (total device : 10)&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"addDeviceNotFound()\"</span>&gt;add device does not exist&lt;/button&gt;</span><br><span class=\"line\">&lt;/br&gt;&lt;/br&gt;</span><br><span class=\"line\">    5. 기기 삭제(페이지 Refresh해야됨. 초기화가 안되는걸로 보임. Success에 이상있음(초기화관련))&lt;/br&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"delSuccess()\"</span>&gt;del success&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"delBadRequest()\"</span>&gt;del bad request&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"delUserNotFound()\"</span>&gt;del user not found&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"delDeviceNotFound()\"</span>&gt;del device does not exist&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"delDeviceOnlyOneDeviceLeft()\"</span>&gt;del only one device lift&lt;/button&gt;</span><br><span class=\"line\">&lt;/br&gt;&lt;/br&gt;</span><br><span class=\"line\">    6. 푸시 정보 조회&lt;/br&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"getPushSettingsSuccess()\"</span>&gt;getPushSettings success&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"getPushSettingsBadRequest()\"</span>&gt;getPushSettings bad request&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"getPushSettingsDeviceNotFound()\"</span>&gt;getPushSettings device does not exist&lt;/button&gt;</span><br><span class=\"line\">&lt;/br&gt;&lt;/br&gt;</span><br><span class=\"line\">    7. 푸시 정보 설정&lt;/br&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"setPushSettingsSuccess()\"</span>&gt;setPushSettings success&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"setPushSettingsBadRequest()\"</span>&gt;setPushSettings bad request&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"setPushSettingsDeviceNotFound()\"</span>&gt;setPushSettings device does not exist&lt;/button&gt;</span><br><span class=\"line\">&lt;/br&gt;&lt;/br&gt;</span><br><span class=\"line\">    8. 기기 지역코드 변경&lt;/br&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"changeRegionSuccess()\"</span>&gt;changeRegion success&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"changeRegionBadRequest()\"</span>&gt;changeRegion bad request&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"changeRegionDeviceNotFound()\"</span>&gt;changeRegion device does not exist&lt;/button&gt;</span><br><span class=\"line\">&lt;/br&gt;&lt;/br&gt;</span><br><span class=\"line\">&lt;/br&gt;</span><br><span class=\"line\">&lt;/br&gt; =================================</span><br><span class=\"line\">&lt;/br&gt;</span><br><span class=\"line\">    &lt;!-- 날씨쪽 버튼선언 --&gt; </span><br><span class=\"line\">    1. 지역 정보 조회(data not found 테스트불가-DB에러나야함)&lt;/br&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"weatherRegionSuccess()\"</span>&gt;weatherRegion success&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"weatherRegionDeviceNotFound()\"</span>&gt;weatherRegion data not found&lt;/button&gt;</span><br><span class=\"line\">&lt;/br&gt;&lt;/br&gt;</span><br><span class=\"line\">    2. 코드로 기상 정보 조회&lt;/br&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"weatherInfoSuccess()\"</span>&gt;weatherInfo by code success&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"weatherInfoBadRequest()\"</span>&gt;weatherInfo by code bad request&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"weatherInfoDataNotFound()\"</span>&gt;weatherInfo by code data does not exist&lt;/button&gt;</span><br><span class=\"line\">&lt;/br&gt;&lt;/br&gt;</span><br><span class=\"line\">    3. 지역이름으로 기상 정보 조회&lt;/br&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"weatherInfoStateCitySuccess()\"</span>&gt;weatherInfo by statecity success&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"weatherInfoStateCityBadRequest()\"</span>&gt;weatherInfo by statecity bad request&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"weatherInfoStateCityDataNotFound()\"</span>&gt;weatherInfo by statecity data does not exist&lt;/button&gt;</span><br><span class=\"line\">&lt;/br&gt;&lt;/br&gt;</span><br><span class=\"line\">    4. 기상 정보 이력 조회&lt;/br&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"weatherInfoHistorySuccess()\"</span>&gt;weatherInfo by histoy success&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"weatherInfoHistoryBadRequest()\"</span>&gt;weatherInfo by histoy bad request&lt;/button&gt;</span><br><span class=\"line\">    &lt;button onclick=<span class=\"string\">\"weatherInfoHistoryDataNotFound()\"</span>&gt;weatherInfo by histoy data does not exist&lt;/button&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;script&gt;</span><br><span class=\"line\">        /*******************api/v2/app*********************/</span><br><span class=\"line\">        /*</span><br><span class=\"line\">        * app version</span><br><span class=\"line\">        */</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">appVersionSuccess</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerAppVersionCase();</span><br><span class=\"line\">            tc.testSuccess(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">appVersionBadRequest</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerAppVersionCase();</span><br><span class=\"line\">            tc.testBadRequest(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">appVersionNoData</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerAppVersionCase();</span><br><span class=\"line\">            tc.testNoData(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        /*******************api/v2/user*********************/</span><br><span class=\"line\">        /*</span><br><span class=\"line\">        * sign out</span><br><span class=\"line\">        */</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userSignoutSuccess</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserSignOutCase();</span><br><span class=\"line\">            tc.testSuccess(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userSignoutBadRequest</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserSignOutCase();</span><br><span class=\"line\">            tc.testBadRequest(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userSignoutNoData</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserSignOutCase();</span><br><span class=\"line\">            tc.testNoData(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        /*</span><br><span class=\"line\">        * withdrawal</span><br><span class=\"line\">        */</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userWithdrawalSuccess</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserWithdrawalCase();</span><br><span class=\"line\">            tc.testSuccess(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userWithdrawalBadRequest</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserWithdrawalCase();</span><br><span class=\"line\">            tc.testBadRequest();</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userWithdrawalUserNotFound</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserWithdrawalCase();</span><br><span class=\"line\">            tc.testUserWrongInfo(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        /*</span><br><span class=\"line\">        * reset password</span><br><span class=\"line\">        */</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userResetPasswordSuccess</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserResetPasswordCase();</span><br><span class=\"line\">            tc.testSuccess(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userResetPasswordBadRequest</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserResetPasswordCase();</span><br><span class=\"line\">            tc.testBadRequest();</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userResetPasswordUserNotFound</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserResetPasswordCase();</span><br><span class=\"line\">            tc.testUserNotFound(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userResetPasswordDeviceNoConnecteddDevices</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserResetPasswordCase();</span><br><span class=\"line\">            tc.testUserDeviceNoConnectedDevices(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userResetPasswordUserChangePasswordFail</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserResetPasswordCase();</span><br><span class=\"line\">            tc.testUserChangePasswordFail(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        /*</span><br><span class=\"line\">        * find id</span><br><span class=\"line\">        */</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userFindidSuccess</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserFindIdCase();</span><br><span class=\"line\">            tc.testSuccess(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userFindidBadRequest</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserFindIdCase();</span><br><span class=\"line\">            tc.testBadRequest();</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userFindidUserNotFound</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserFindIdCase();</span><br><span class=\"line\">            tc.testUserNotFound(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        /*</span><br><span class=\"line\">        * issue-password</span><br><span class=\"line\">        */</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userIssuePasswordSuccess</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserIssuePasswordCase();</span><br><span class=\"line\">            tc.testSuccess(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userIssuePasswordBadRequest</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserIssuePasswordCase();</span><br><span class=\"line\">            tc.testBadRequest();</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userIssuePasswordUserNotFound</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserIssuePasswordCase();</span><br><span class=\"line\">            tc.testUserNotFound(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userIssuePasswordDeviceNoConnectedDevices</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserIssuePasswordCase();</span><br><span class=\"line\">            tc.testUserDeviceNoConnectedDevices(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userIssuePasswordChangePasswordFail</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserIssuePasswordCase();</span><br><span class=\"line\">            tc.testUserChangePasswordFail(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        /*</span><br><span class=\"line\">        * user sign <span class=\"keyword\">in</span></span><br><span class=\"line\">        */</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userSigninSuccess</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserSignInCase();</span><br><span class=\"line\">            tc.testSuccess(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userSigninBadRequest</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserSignInCase();</span><br><span class=\"line\">            tc.testBadRequest();</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userSigninUserNotFound</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserSignInCase();</span><br><span class=\"line\">            tc.testUserNotFound(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userSigninInvalidPassword</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserSignInCase();</span><br><span class=\"line\">            tc.testInvalidPassword(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userSigninAttemptExceeded</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserSignInCase();</span><br><span class=\"line\">            tc.testAttemptExceeded(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        /*</span><br><span class=\"line\">        * user sign up</span><br><span class=\"line\">        */</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userSignUpSuccess</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserSignUpCase();</span><br><span class=\"line\">            tc.testSuccess(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userSignUpBadRequest</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserSignUpCase();</span><br><span class=\"line\">            tc.testBadRequest();</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userSignUpUserIdAlreadyExist</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserSignUpCase();</span><br><span class=\"line\">            tc.testUserIdAlreadyExist(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userSignUpUserEmailAlreadyExist</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserSignUpCase();</span><br><span class=\"line\">            tc.testUserEmailAlreadyExist(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userSignUpUserPhoneAlreadyExist</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserSignUpCase();</span><br><span class=\"line\">            tc.testUserPhoneAlreadyExist(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userSignUpDeviceAlreadyUsed</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserSignUpCase();</span><br><span class=\"line\">            tc.testDeviceAlreadyUsed(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userSignUpNoDevices</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserSignUpCase();</span><br><span class=\"line\">            tc.testNoDevices(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userSignUpUnknownException</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserSignUpCase();</span><br><span class=\"line\">            tc.testUnknownException(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        /*</span><br><span class=\"line\">        * user change info</span><br><span class=\"line\">        */</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userChangeInfoSuccess</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserChangeInfoCase();</span><br><span class=\"line\">            tc.testSuccess(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userChangeInfoBadRequest</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserChangeInfoCase();</span><br><span class=\"line\">            tc.testBadRequest();</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userChangeInfoNotFound</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserChangeInfoCase();</span><br><span class=\"line\">            tc.testUserNotFound(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userChangeInfoMobileNumberAlreadyExist</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserChangeInfoCase();</span><br><span class=\"line\">            tc.testUserMobileNumberAlreadyExist(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userChangeInfoEmailAlreadyExist</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserChangeInfoCase();</span><br><span class=\"line\">            tc.testUserEmailAlreadyExist(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userChangeInfoChangePasswordFail</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserChangeInfoCase();</span><br><span class=\"line\">            tc.testUserChangePasswordFail(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        /*</span><br><span class=\"line\">        * user info</span><br><span class=\"line\">        */</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userInfoSuccess</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserInfoCase();</span><br><span class=\"line\">            tc.testSuccess(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userInfoBadRequest</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserInfoCase();</span><br><span class=\"line\">            tc.testBadRequest();</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userInfoNotFound</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserInfoCase();</span><br><span class=\"line\">            tc.testUserNotFound(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">        /*</span><br><span class=\"line\">        * user check info</span><br><span class=\"line\">        */</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userCheckInfoSuccess</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserCheckInfoCase();</span><br><span class=\"line\">            tc.testSuccess(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userCheckInfoBadRequest</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserCheckInfoCase();</span><br><span class=\"line\">            tc.testBadRequest();</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userCheckInfoMobileNumberAlreadyExist</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserCheckInfoCase();</span><br><span class=\"line\">            tc.testUserMobileNumberAlreadyExist(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userCheckInfoEmailAlreadyExist</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserCheckInfoCase();</span><br><span class=\"line\">            tc.testUserEmailAlreadyExist(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userCheckInfoUseridAlreadyExist</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserCheckInfoCase();</span><br><span class=\"line\">            tc.testUserIdAlreadyExist(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        /*</span><br><span class=\"line\">        * user change region</span><br><span class=\"line\">        */</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userChangeRegionSuccess</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserChangeRegionCase();</span><br><span class=\"line\">            tc.testSuccess(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userChangeRegionBadRequest</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserChangeRegionCase();</span><br><span class=\"line\">            tc.testBadRequest();</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">userChangeRegionUserNotFound</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerUserChangeRegionCase();</span><br><span class=\"line\">            tc.testUserNotFound(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        /*******************api/v2/device*********************/</span><br><span class=\"line\">        /*</span><br><span class=\"line\">        * device change name</span><br><span class=\"line\">        */</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">changenameSuccess</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerChangenameCase();</span><br><span class=\"line\">            tc.testSuccess(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">changenameBadRequest</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerChangenameCase();</span><br><span class=\"line\">            tc.testBadRequest(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">changenameDeviceNotFound</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerChangenameCase();</span><br><span class=\"line\">            tc.testDeviceNotFound(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        /*</span><br><span class=\"line\">        * device list</span><br><span class=\"line\">        */</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">listSuccess</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerListCase();</span><br><span class=\"line\">            tc.testSuccess(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">listBadRequest</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerListCase();</span><br><span class=\"line\">            tc.testBadRequest(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">listDataNotFound</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerListCase();</span><br><span class=\"line\">            tc.testDataNotFound(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        /*</span><br><span class=\"line\">        * device state</span><br><span class=\"line\">        */</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">stateSuccess</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerStateCase();</span><br><span class=\"line\">            tc.testSuccess(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">stateBadRequest</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerStateCase();</span><br><span class=\"line\">            tc.testBadRequest(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">stateDeviceNotFound</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerStateCase();</span><br><span class=\"line\">            tc.testDeviceNotFound(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">stateDeviceNotConnected</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerStateCase();</span><br><span class=\"line\">            tc.testDeviceNotConnected(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        /*</span><br><span class=\"line\">        * device add</span><br><span class=\"line\">        */</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">addSuccess</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerAddCase();</span><br><span class=\"line\">            tc.testSuccess(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">addBadRequest</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerAddCase();</span><br><span class=\"line\">            tc.testBadRequest(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">addUserNotFound</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerAddCase();</span><br><span class=\"line\">            tc.testUserNotFound(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">addDeviceAlreadyExistInUser</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerAddCase();</span><br><span class=\"line\">            tc.testDeviceAlreadyExsistInUser(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">addDeviceAllUse</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerAddCase();</span><br><span class=\"line\">            tc.testDeviceAllUse(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">addDeviceNotFound</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerAddCase();</span><br><span class=\"line\">            tc.testDeviceNotFound(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        /*</span><br><span class=\"line\">        * device del</span><br><span class=\"line\">        */</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">delSuccess</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerDelCase();</span><br><span class=\"line\">            tc.testSuccess(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">delBadRequest</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerDelCase();</span><br><span class=\"line\">            tc.testBadRequest(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">delUserNotFound</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerDelCase();</span><br><span class=\"line\">            tc.testUserNotFound(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">delDeviceNotFound</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerDelCase();</span><br><span class=\"line\">            tc.testDeviceNotFound(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">delDeviceOnlyOneDeviceLeft</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerDelCase();</span><br><span class=\"line\">            tc.testDeviceOnlyOneDeviceLeft(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        /*</span><br><span class=\"line\">        * device getPushSettings</span><br><span class=\"line\">        */</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">getPushSettingsSuccess</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerGetPushSettingsCase();</span><br><span class=\"line\">            tc.testSuccess(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">getPushSettingsBadRequest</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerGetPushSettingsCase();</span><br><span class=\"line\">            tc.testBadRequest(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">getPushSettingsDeviceNotFound</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerGetPushSettingsCase();</span><br><span class=\"line\">            tc.testDeviceNotFound(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        /*</span><br><span class=\"line\">        * device setPushSettings</span><br><span class=\"line\">        */</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">setPushSettingsSuccess</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerSetPushSettingsCase();</span><br><span class=\"line\">            tc.testSuccess(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">setPushSettingsBadRequest</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerSetPushSettingsCase();</span><br><span class=\"line\">            tc.testBadRequest(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">setPushSettingsDeviceNotFound</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerSetPushSettingsCase();</span><br><span class=\"line\">            tc.testDeviceNotFound(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        /*</span><br><span class=\"line\">        * device changeRegion</span><br><span class=\"line\">        */</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">changeRegionSuccess</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerChangeRegionCase();</span><br><span class=\"line\">            tc.testSuccess(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">changeRegionBadRequest</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerChangeRegionCase();</span><br><span class=\"line\">            tc.testBadRequest(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">changeRegionDeviceNotFound</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerChangeRegionCase();</span><br><span class=\"line\">            tc.testDeviceNotFound(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        /*******************api/v2/weather*********************/</span><br><span class=\"line\">        /*</span><br><span class=\"line\">        * weather region</span><br><span class=\"line\">        */</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">weatherRegionSuccess</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerWeatherRegionCase();</span><br><span class=\"line\">            tc.testSuccess(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">weatherRegionDeviceNotFound</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerWeatherRegionCase();</span><br><span class=\"line\">            tc.testDataNotFound(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        /*</span><br><span class=\"line\">        * weather info by code</span><br><span class=\"line\">        */</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">weatherInfoSuccess</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerWeatherInfoCodeCase();</span><br><span class=\"line\">            tc.testSuccess(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">weatherInfoBadRequest</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerWeatherInfoCodeCase();</span><br><span class=\"line\">            tc.testBadRequest(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">weatherInfoDataNotFound</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerWeatherInfoCodeCase();</span><br><span class=\"line\">            tc.testDataNotFound(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        /*</span><br><span class=\"line\">        * weather info by state,city</span><br><span class=\"line\">        */</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">weatherInfoStateCitySuccess</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerWeatherInfoStateCityCase();</span><br><span class=\"line\">            tc.testSuccess(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">weatherInfoStateCityBadRequest</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerWeatherInfoStateCityCase();</span><br><span class=\"line\">            tc.testBadRequest(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">weatherInfoStateCityDataNotFound</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerWeatherInfoStateCityCase();</span><br><span class=\"line\">            tc.testDataNotFound(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        /*</span><br><span class=\"line\">        * weather info by <span class=\"built_in\">history</span></span><br><span class=\"line\">        */</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">weatherInfoHistorySuccess</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerWeatherInfoHistoryCase();</span><br><span class=\"line\">            tc.testSuccess(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">weatherInfoHistoryBadRequest</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerWeatherInfoHistoryCase();</span><br><span class=\"line\">            tc.testBadRequest(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">weatherInfoHistoryDataNotFound</span></span>() &#123;</span><br><span class=\"line\">            <span class=\"built_in\">let</span> tc = new NRunnerWeatherInfoHistoryCase();</span><br><span class=\"line\">            tc.testDataNotFound(<span class=\"keyword\">function</span>(obj) &#123;</span><br><span class=\"line\">                console.log(obj);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            tc = null;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &lt;/script&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure></div>\n","text":"개발환경 구축※ 기본 개발환경VisualStudio CodeJavascript, HTMLChrome설정 [Figure] ","link":"","raw":null,"photos":[],"categories":[{"name":"tip","slug":"tip","count":23,"path":"api/categories/tip.json"}],"tags":[{"name":"AWS","slug":"AWS","count":14,"path":"api/tags/AWS.json"},{"name":"Javascript","slug":"Javascript","count":1,"path":"api/tags/Javascript.json"},{"name":"QUnit","slug":"QUnit","count":1,"path":"api/tags/QUnit.json"},{"name":"Auto","slug":"Auto","count":1,"path":"api/tags/Auto.json"}]}]}